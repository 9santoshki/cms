{"version":3,"sources":["turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/loadSharedConfigFiles.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/getHomeDir.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/readFile.js","turbopack:///[project]/src/lib/cloudflare.ts","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/byteLength.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/runtimeConfig.js","turbopack:///[project]/node_modules/@smithy/middleware-endpoint/dist-es/service-customizations/s3.js","turbopack:///[project]/node_modules/@smithy/middleware-endpoint/dist-es/adaptors/createConfigValueProvider.js","turbopack:///[project]/node_modules/@smithy/property-provider/dist-es/ProviderError.js","turbopack:///[project]/node_modules/@smithy/property-provider/dist-es/memoize.js","turbopack:///[project]/node_modules/@smithy/node-config-provider/dist-es/getSelectorName.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/getProfileName.js","turbopack:///[project]/node_modules/@smithy/types/dist-es/profile.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/constants.js","turbopack:///[project]/node_modules/@smithy/property-provider/dist-es/fromStatic.js","turbopack:///[project]/node_modules/@smithy/abort-controller/dist-es/AbortSignal.js","turbopack:///[project]/node_modules/@smithy/querystring-parser/dist-es/index.js","turbopack:///[project]/node_modules/@smithy/core/dist-es/submodules/protocols/extended-encode-uri-component.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/runtimeConfig.shared.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/chunks/getChunkUint8Array.js","turbopack:///[project]/node_modules/@smithy/node-config-provider/dist-es/fromStatic.js","turbopack:///[project]/node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointUrlConfig.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/chunker.js","turbopack:///[project]/node_modules/@smithy/middleware-endpoint/dist-es/adaptors/toEndpointV1.js","turbopack:///[project]/node_modules/@smithy/url-parser/dist-es/index.js","turbopack:///[project]/node_modules/@smithy/property-provider/dist-es/CredentialsProviderError.js","turbopack:///[project]/node_modules/@smithy/property-provider/dist-es/chain.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/byteLengthSource.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/chunks/getChunkStream.js","turbopack:///[project]/node_modules/@smithy/abort-controller/dist-es/AbortController.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/chunks/getDataReadable.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/chunks/getDataReadableStream.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/parseIni.js","turbopack:///[project]/node_modules/@smithy/node-config-provider/dist-es/fromEnv.js","turbopack:///[project]/node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromConfig.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/getConfigData.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/getConfigFilepath.js","turbopack:///[project]/node_modules/@smithy/shared-ini-file-loader/dist-es/getCredentialsFilepath.js","turbopack:///[project]/node_modules/@smithy/node-config-provider/dist-es/fromSharedConfigFiles.js","turbopack:///[project]/node_modules/@aws-sdk/lib-storage/dist-es/Upload.js","turbopack:///[project]/node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromInstructions.js","turbopack:///[project]/node_modules/@smithy/node-config-provider/dist-es/configLoader.js"],"sourcesContent":["import { join } from \"path\";\nimport { getConfigData } from \"./getConfigData\";\nimport { getConfigFilepath } from \"./getConfigFilepath\";\nimport { getCredentialsFilepath } from \"./getCredentialsFilepath\";\nimport { getHomeDir } from \"./getHomeDir\";\nimport { parseIni } from \"./parseIni\";\nimport { readFile } from \"./readFile\";\nconst swallowError = () => ({});\nexport { CONFIG_PREFIX_SEPARATOR } from \"./constants\";\nexport const loadSharedConfigFiles = async (init = {}) => {\n    const { filepath = getCredentialsFilepath(), configFilepath = getConfigFilepath() } = init;\n    const homeDir = getHomeDir();\n    const relativeHomeDirPrefix = \"~/\";\n    let resolvedFilepath = filepath;\n    if (filepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedFilepath = join(homeDir, filepath.slice(2));\n    }\n    let resolvedConfigFilepath = configFilepath;\n    if (configFilepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedConfigFilepath = join(homeDir, configFilepath.slice(2));\n    }\n    const parsedFiles = await Promise.all([\n        readFile(resolvedConfigFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .then(getConfigData)\n            .catch(swallowError),\n        readFile(resolvedFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .catch(swallowError),\n    ]);\n    return {\n        configFile: parsedFiles[0],\n        credentialsFile: parsedFiles[1],\n    };\n};\n","import { homedir } from \"os\";\nimport { sep } from \"path\";\nconst homeDirCache = {};\nconst getHomeDirCacheKey = () => {\n    if (process && process.geteuid) {\n        return `${process.geteuid()}`;\n    }\n    return \"DEFAULT\";\n};\nexport const getHomeDir = () => {\n    const { HOME, USERPROFILE, HOMEPATH, HOMEDRIVE = `C:${sep}` } = process.env;\n    if (HOME)\n        return HOME;\n    if (USERPROFILE)\n        return USERPROFILE;\n    if (HOMEPATH)\n        return `${HOMEDRIVE}${HOMEPATH}`;\n    const homeDirCacheKey = getHomeDirCacheKey();\n    if (!homeDirCache[homeDirCacheKey])\n        homeDirCache[homeDirCacheKey] = homedir();\n    return homeDirCache[homeDirCacheKey];\n};\n","import { readFile as fsReadFile } from \"node:fs/promises\";\nexport const filePromises = {};\nexport const fileIntercept = {};\nexport const readFile = (path, options) => {\n    if (fileIntercept[path] !== undefined) {\n        return fileIntercept[path];\n    }\n    if (!filePromises[path] || options?.ignoreCache) {\n        filePromises[path] = fsReadFile(path, \"utf8\");\n    }\n    return filePromises[path];\n};\n","/**\n * Cloudflare R2 utility functions\n * Handles image uploads to Cloudflare R2 (S3-compatible storage)\n */\n\nimport { S3Client, PutObjectCommand, DeleteObjectCommand, HeadObjectCommand } from '@aws-sdk/client-s3';\nimport { Upload } from '@aws-sdk/lib-storage';\ninterface CloudflareUploadResponse {\n  success: boolean;\n  result?: {\n    id: string;\n    filename: string;\n    uploaded: string;\n    url: string;\n    key: string;\n  };\n  errors?: Array<{\n    code: number;\n    message: string;\n  }>;\n}\n\n/**\n * Get S3 client configured for Cloudflare R2\n */\nfunction getR2Client(): S3Client {\n  const accessKeyId = process.env.CLOUDFLARE_R2_ACCESS_KEY_ID;\n  const secretAccessKey = process.env.CLOUDFLARE_R2_SECRET_ACCESS_KEY;\n  const endpoint = process.env.CLOUDFLARE_R2_ENDPOINT;\n  const accountId = process.env.CLOUDFLARE_ACCOUNT_ID;\n  if (!accessKeyId || !secretAccessKey) {\n    throw new Error('R2 credentials not configured. Please check CLOUDFLARE_R2_ACCESS_KEY_ID and CLOUDFLARE_R2_SECRET_ACCESS_KEY in .env.local');\n  }\n\n  // Use provided endpoint or construct from account ID\n  const r2Endpoint = endpoint || `https://${accountId}.r2.cloudflarestorage.com`;\n  return new S3Client({\n    region: 'auto',\n    endpoint: r2Endpoint,\n    credentials: {\n      accessKeyId,\n      secretAccessKey\n    }\n  });\n}\n\n/**\n * Generate a unique key for the file in R2\n */\nfunction generateFileKey(filename: string): string {\n  const folder = process.env.CLOUDFLARE_PRODUCT_IMAGE_FOLDER || 'product_images';\n  const timestamp = Date.now();\n  const randomString = Math.random().toString(36).substring(2, 15);\n  const sanitizedFilename = filename.replace(/[^a-zA-Z0-9.-]/g, '_');\n  return `${folder}/${timestamp}-${randomString}-${sanitizedFilename}`;\n}\n\n/**\n * Upload an image to Cloudflare R2\n * @param imageFile - File or Buffer to upload\n * @param filename - Name of the file\n * @returns Upload response with file key and URL\n */\nexport async function uploadImageToCloudflare(imageFile: File | Buffer, filename: string): Promise<CloudflareUploadResponse> {\n  const bucket = process.env.CLOUDFLARE_BUCKET;\n  if (!bucket) {\n    throw new Error('R2 bucket not configured. Please check CLOUDFLARE_BUCKET in .env.local');\n  }\n  const client = getR2Client();\n  const key = generateFileKey(filename);\n  try {\n    let fileBuffer: Buffer;\n    let contentType = 'image/jpeg';\n\n    // Convert File to Buffer if needed\n    if (imageFile instanceof File) {\n      contentType = imageFile.type || 'image/jpeg';\n      const arrayBuffer = await imageFile.arrayBuffer();\n      fileBuffer = Buffer.from(arrayBuffer);\n    } else {\n      fileBuffer = imageFile;\n      // Try to detect content type from filename\n      if (filename.endsWith('.png')) contentType = 'image/png';else if (filename.endsWith('.gif')) contentType = 'image/gif';else if (filename.endsWith('.webp')) contentType = 'image/webp';else if (filename.endsWith('.svg')) contentType = 'image/svg+xml';\n    }\n\n    // Upload to R2 using S3 SDK\n    const upload = new Upload({\n      client,\n      params: {\n        Bucket: bucket,\n        Key: key,\n        Body: fileBuffer,\n        ContentType: contentType\n      }\n    });\n    await upload.done();\n    const url = getCloudflareImageUrl(key);\n    return {\n      success: true,\n      result: {\n        id: key,\n        // Use R2 key as ID\n        filename,\n        uploaded: new Date().toISOString(),\n        url,\n        key\n      }\n    };\n  } catch (error: any) {\n    console.error('Error uploading to R2:', error);\n    console.error('R2 Error details:', {\n      message: error?.message,\n      code: error?.Code || error?.code,\n      name: error?.name,\n      stack: error?.stack\n    });\n\n    // Provide more helpful error message\n    const errorMessage = error?.message || error?.Code || error?.toString() || 'Failed to upload to Cloudflare R2';\n    throw new Error(`Cloudflare R2 upload failed: ${errorMessage}`);\n  }\n}\n\n/**\n * Delete an image from Cloudflare R2\n * @param imageKey - R2 object key (not image ID)\n * @returns Success status\n */\nexport async function deleteImageFromCloudflare(imageKey: string): Promise<boolean> {\n  const bucket = process.env.CLOUDFLARE_BUCKET;\n  if (!bucket) {\n    throw new Error('R2 bucket not configured');\n  }\n  const client = getR2Client();\n  try {\n    const command = new DeleteObjectCommand({\n      Bucket: bucket,\n      Key: imageKey\n    });\n    await client.send(command);\n    return true;\n  } catch (error) {\n    console.error('Error deleting from R2:', error);\n    return false;\n  }\n}\n\n/**\n * Get the public URL for an R2 object\n * @param imageKey - R2 object key\n * @returns Public URL for the image\n */\nexport function getCloudflareImageUrl(imageKey: string): string {\n  const publicUrl = process.env.CLOUDFLARE_R2_PUBLIC_URL;\n  const bucket = process.env.CLOUDFLARE_BUCKET;\n\n  // If public URL is configured, use it\n  if (publicUrl && publicUrl !== 'https://pub-your-id.r2.dev') {\n    return `${publicUrl}/${imageKey}`;\n  }\n\n  // Otherwise, return a placeholder (user needs to configure public access)\n  // In production, you should either:\n  // 1. Enable public access on the bucket and set CLOUDFLARE_R2_PUBLIC_URL\n  // 2. Use signed URLs\n  // 3. Use a custom domain\n  return `https://r2-placeholder.com/${bucket}/${imageKey}`;\n}\n\n/**\n * Check if an image exists in R2\n * @param imageKey - R2 object key\n * @returns True if exists, false otherwise\n */\nexport async function imageExists(imageKey: string): Promise<boolean> {\n  const bucket = process.env.CLOUDFLARE_BUCKET;\n  if (!bucket) {\n    return false;\n  }\n  const client = getR2Client();\n  try {\n    const command = new HeadObjectCommand({\n      Bucket: bucket,\n      Key: imageKey\n    });\n    await client.send(command);\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Upload multiple images to Cloudflare R2\n * @param images - Array of {file, filename} objects\n * @returns Array of upload results\n */\nexport async function uploadMultipleImages(images: Array<{\n  file: File | Buffer;\n  filename: string;\n}>): Promise<Array<{\n  success: boolean;\n  imageId?: string;\n  filename: string;\n  error?: string;\n  url?: string;\n}>> {\n  const results = await Promise.allSettled(images.map(({\n    file,\n    filename\n  }) => uploadImageToCloudflare(file, filename)));\n  return results.map((result, index) => {\n    if (result.status === 'fulfilled' && result.value.success) {\n      return {\n        success: true,\n        imageId: result.value.result?.id,\n        filename: images[index].filename,\n        url: result.value.result?.url\n      };\n    } else {\n      return {\n        success: false,\n        filename: images[index].filename,\n        error: result.status === 'rejected' ? result.reason?.message : 'Upload failed'\n      };\n    }\n  });\n}","import { Buffer } from \"buffer\";\nimport { runtimeConfig } from \"./runtimeConfig\";\nexport const byteLength = (input) => {\n    if (input == null) {\n        return 0;\n    }\n    if (typeof input === \"string\") {\n        return Buffer.byteLength(input);\n    }\n    if (typeof input.byteLength === \"number\") {\n        return input.byteLength;\n    }\n    else if (typeof input.length === \"number\") {\n        return input.length;\n    }\n    else if (typeof input.size === \"number\") {\n        return input.size;\n    }\n    else if (typeof input.start === \"number\" && typeof input.end === \"number\") {\n        return input.end + 1 - input.start;\n    }\n    else if (runtimeConfig.isFileReadStream(input)) {\n        try {\n            return runtimeConfig.lstatSync(input.path).size;\n        }\n        catch (error) {\n            return undefined;\n        }\n    }\n    return undefined;\n};\n","import { lstatSync, ReadStream } from \"fs\";\nimport { runtimeConfigShared as shared } from \"./runtimeConfig.shared\";\nexport const runtimeConfig = {\n    ...shared,\n    runtime: \"node\",\n    lstatSync,\n    isFileReadStream(f) {\n        return f instanceof ReadStream;\n    },\n};\n","export const resolveParamsForS3 = async (endpointParams) => {\n    const bucket = endpointParams?.Bucket || \"\";\n    if (typeof endpointParams.Bucket === \"string\") {\n        endpointParams.Bucket = bucket.replace(/#/g, encodeURIComponent(\"#\")).replace(/\\?/g, encodeURIComponent(\"?\"));\n    }\n    if (isArnBucketName(bucket)) {\n        if (endpointParams.ForcePathStyle === true) {\n            throw new Error(\"Path-style addressing cannot be used with ARN buckets\");\n        }\n    }\n    else if (!isDnsCompatibleBucketName(bucket) ||\n        (bucket.indexOf(\".\") !== -1 && !String(endpointParams.Endpoint).startsWith(\"http:\")) ||\n        bucket.toLowerCase() !== bucket ||\n        bucket.length < 3) {\n        endpointParams.ForcePathStyle = true;\n    }\n    if (endpointParams.DisableMultiRegionAccessPoints) {\n        endpointParams.disableMultiRegionAccessPoints = true;\n        endpointParams.DisableMRAP = true;\n    }\n    return endpointParams;\n};\nconst DOMAIN_PATTERN = /^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/;\nconst IP_ADDRESS_PATTERN = /(\\d+\\.){3}\\d+/;\nconst DOTS_PATTERN = /\\.\\./;\nexport const DOT_PATTERN = /\\./;\nexport const S3_HOSTNAME_PATTERN = /^(.+\\.)?s3(-fips)?(\\.dualstack)?[.-]([a-z0-9-]+)\\./;\nexport const isDnsCompatibleBucketName = (bucketName) => DOMAIN_PATTERN.test(bucketName) && !IP_ADDRESS_PATTERN.test(bucketName) && !DOTS_PATTERN.test(bucketName);\nexport const isArnBucketName = (bucketName) => {\n    const [arn, partition, service, , , bucket] = bucketName.split(\":\");\n    const isArn = arn === \"arn\" && bucketName.split(\":\").length >= 6;\n    const isValidArn = Boolean(isArn && partition && service && bucket);\n    if (isArn && !isValidArn) {\n        throw new Error(`Invalid ARN: ${bucketName} was an invalid ARN.`);\n    }\n    return isValidArn;\n};\n","export const createConfigValueProvider = (configKey, canonicalEndpointParamKey, config, isClientContextParam = false) => {\n    const configProvider = async () => {\n        let configValue;\n        if (isClientContextParam) {\n            const clientContextParams = config.clientContextParams;\n            const nestedValue = clientContextParams?.[configKey];\n            configValue = nestedValue ?? config[configKey] ?? config[canonicalEndpointParamKey];\n        }\n        else {\n            configValue = config[configKey] ?? config[canonicalEndpointParamKey];\n        }\n        if (typeof configValue === \"function\") {\n            return configValue();\n        }\n        return configValue;\n    };\n    if (configKey === \"credentialScope\" || canonicalEndpointParamKey === \"CredentialScope\") {\n        return async () => {\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\n            const configValue = credentials?.credentialScope ?? credentials?.CredentialScope;\n            return configValue;\n        };\n    }\n    if (configKey === \"accountId\" || canonicalEndpointParamKey === \"AccountId\") {\n        return async () => {\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\n            const configValue = credentials?.accountId ?? credentials?.AccountId;\n            return configValue;\n        };\n    }\n    if (configKey === \"endpoint\" || canonicalEndpointParamKey === \"endpoint\") {\n        return async () => {\n            if (config.isCustomEndpoint === false) {\n                return undefined;\n            }\n            const endpoint = await configProvider();\n            if (endpoint && typeof endpoint === \"object\") {\n                if (\"url\" in endpoint) {\n                    return endpoint.url.href;\n                }\n                if (\"hostname\" in endpoint) {\n                    const { protocol, hostname, port, path } = endpoint;\n                    return `${protocol}//${hostname}${port ? \":\" + port : \"\"}${path}`;\n                }\n            }\n            return endpoint;\n        };\n    }\n    return configProvider;\n};\n","export class ProviderError extends Error {\n    name = \"ProviderError\";\n    tryNextLink;\n    constructor(message, options = true) {\n        let logger;\n        let tryNextLink = true;\n        if (typeof options === \"boolean\") {\n            logger = undefined;\n            tryNextLink = options;\n        }\n        else if (options != null && typeof options === \"object\") {\n            logger = options.logger;\n            tryNextLink = options.tryNextLink ?? true;\n        }\n        super(message);\n        this.tryNextLink = tryNextLink;\n        Object.setPrototypeOf(this, ProviderError.prototype);\n        logger?.debug?.(`@smithy/property-provider ${tryNextLink ? \"->\" : \"(!)\"} ${message}`);\n    }\n    static from(error, options = true) {\n        return Object.assign(new this(error.message, options), error);\n    }\n}\n","export const memoize = (provider, isExpired, requiresRefresh) => {\n    let resolved;\n    let pending;\n    let hasResult;\n    let isConstant = false;\n    const coalesceProvider = async () => {\n        if (!pending) {\n            pending = provider();\n        }\n        try {\n            resolved = await pending;\n            hasResult = true;\n            isConstant = false;\n        }\n        finally {\n            pending = undefined;\n        }\n        return resolved;\n    };\n    if (isExpired === undefined) {\n        return async (options) => {\n            if (!hasResult || options?.forceRefresh) {\n                resolved = await coalesceProvider();\n            }\n            return resolved;\n        };\n    }\n    return async (options) => {\n        if (!hasResult || options?.forceRefresh) {\n            resolved = await coalesceProvider();\n        }\n        if (isConstant) {\n            return resolved;\n        }\n        if (requiresRefresh && !requiresRefresh(resolved)) {\n            isConstant = true;\n            return resolved;\n        }\n        if (isExpired(resolved)) {\n            await coalesceProvider();\n            return resolved;\n        }\n        return resolved;\n    };\n};\n","export function getSelectorName(functionString) {\n    try {\n        const constants = new Set(Array.from(functionString.match(/([A-Z_]){3,}/g) ?? []));\n        constants.delete(\"CONFIG\");\n        constants.delete(\"CONFIG_PREFIX_SEPARATOR\");\n        constants.delete(\"ENV\");\n        return [...constants].join(\", \");\n    }\n    catch (e) {\n        return functionString;\n    }\n}\n","export const ENV_PROFILE = \"AWS_PROFILE\";\nexport const DEFAULT_PROFILE = \"default\";\nexport const getProfileName = (init) => init.profile || process.env[ENV_PROFILE] || DEFAULT_PROFILE;\n","export var IniSectionType;\n(function (IniSectionType) {\n    IniSectionType[\"PROFILE\"] = \"profile\";\n    IniSectionType[\"SSO_SESSION\"] = \"sso-session\";\n    IniSectionType[\"SERVICES\"] = \"services\";\n})(IniSectionType || (IniSectionType = {}));\n","export const CONFIG_PREFIX_SEPARATOR = \".\";\n","export const fromStatic = (staticValue) => () => Promise.resolve(staticValue);\n","export class AbortSignal {\n    onabort = null;\n    _aborted = false;\n    constructor() {\n        Object.defineProperty(this, \"_aborted\", {\n            value: false,\n            writable: true,\n        });\n    }\n    get aborted() {\n        return this._aborted;\n    }\n    abort() {\n        this._aborted = true;\n        if (this.onabort) {\n            this.onabort(this);\n            this.onabort = null;\n        }\n    }\n}\n","export function parseQueryString(querystring) {\n    const query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        for (const pair of querystring.split(\"&\")) {\n            let [key, value = null] = pair.split(\"=\");\n            key = decodeURIComponent(key);\n            if (value) {\n                value = decodeURIComponent(value);\n            }\n            if (!(key in query)) {\n                query[key] = value;\n            }\n            else if (Array.isArray(query[key])) {\n                query[key].push(value);\n            }\n            else {\n                query[key] = [query[key], value];\n            }\n        }\n    }\n    return query;\n}\n","export function extendedEncodeURIComponent(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n    });\n}\n","export const runtimeConfigShared = {\n    lstatSync: () => { },\n    isFileReadStream(f) {\n        return false;\n    },\n};\n","export async function* getChunkUint8Array(data, partSize) {\n    let partNumber = 1;\n    let startByte = 0;\n    let endByte = partSize;\n    while (endByte < data.byteLength) {\n        yield {\n            partNumber,\n            data: data.subarray(startByte, endByte),\n        };\n        partNumber += 1;\n        startByte = endByte;\n        endByte = startByte + partSize;\n    }\n    yield {\n        partNumber,\n        data: data.subarray(startByte),\n        lastPart: true,\n    };\n}\n","import { fromStatic as convertToProvider } from \"@smithy/property-provider\";\nconst isFunction = (func) => typeof func === \"function\";\nexport const fromStatic = (defaultValue) => isFunction(defaultValue) ? async () => await defaultValue() : convertToProvider(defaultValue);\n","import { CONFIG_PREFIX_SEPARATOR } from \"@smithy/shared-ini-file-loader\";\nconst ENV_ENDPOINT_URL = \"AWS_ENDPOINT_URL\";\nconst CONFIG_ENDPOINT_URL = \"endpoint_url\";\nexport const getEndpointUrlConfig = (serviceId) => ({\n    environmentVariableSelector: (env) => {\n        const serviceSuffixParts = serviceId.split(\" \").map((w) => w.toUpperCase());\n        const serviceEndpointUrl = env[[ENV_ENDPOINT_URL, ...serviceSuffixParts].join(\"_\")];\n        if (serviceEndpointUrl)\n            return serviceEndpointUrl;\n        const endpointUrl = env[ENV_ENDPOINT_URL];\n        if (endpointUrl)\n            return endpointUrl;\n        return undefined;\n    },\n    configFileSelector: (profile, config) => {\n        if (config && profile.services) {\n            const servicesSection = config[[\"services\", profile.services].join(CONFIG_PREFIX_SEPARATOR)];\n            if (servicesSection) {\n                const servicePrefixParts = serviceId.split(\" \").map((w) => w.toLowerCase());\n                const endpointUrl = servicesSection[[servicePrefixParts.join(\"_\"), CONFIG_ENDPOINT_URL].join(CONFIG_PREFIX_SEPARATOR)];\n                if (endpointUrl)\n                    return endpointUrl;\n            }\n        }\n        const endpointUrl = profile[CONFIG_ENDPOINT_URL];\n        if (endpointUrl)\n            return endpointUrl;\n        return undefined;\n    },\n    default: undefined,\n});\n","import { Buffer } from \"buffer\";\nimport { Readable } from \"stream\";\nimport { getChunkStream } from \"./chunks/getChunkStream\";\nimport { getChunkUint8Array } from \"./chunks/getChunkUint8Array\";\nimport { getDataReadable } from \"./chunks/getDataReadable\";\nimport { getDataReadableStream } from \"./chunks/getDataReadableStream\";\nexport const getChunk = (data, partSize) => {\n    if (data instanceof Uint8Array) {\n        return getChunkUint8Array(data, partSize);\n    }\n    if (data instanceof Readable) {\n        return getChunkStream(data, partSize, getDataReadable);\n    }\n    if (data instanceof String || typeof data === \"string\") {\n        return getChunkUint8Array(Buffer.from(data), partSize);\n    }\n    if (typeof data.stream === \"function\") {\n        return getChunkStream(data.stream(), partSize, getDataReadableStream);\n    }\n    if (data instanceof ReadableStream) {\n        return getChunkStream(data, partSize, getDataReadableStream);\n    }\n    throw new Error(\"Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.\");\n};\n","import { parseUrl } from \"@smithy/url-parser\";\nexport const toEndpointV1 = (endpoint) => {\n    if (typeof endpoint === \"object\") {\n        if (\"url\" in endpoint) {\n            return parseUrl(endpoint.url);\n        }\n        return endpoint;\n    }\n    return parseUrl(endpoint);\n};\n","import { parseQueryString } from \"@smithy/querystring-parser\";\nexport const parseUrl = (url) => {\n    if (typeof url === \"string\") {\n        return parseUrl(new URL(url));\n    }\n    const { hostname, pathname, port, protocol, search } = url;\n    let query;\n    if (search) {\n        query = parseQueryString(search);\n    }\n    return {\n        hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol,\n        path: pathname,\n        query,\n    };\n};\n","import { ProviderError } from \"./ProviderError\";\nexport class CredentialsProviderError extends ProviderError {\n    name = \"CredentialsProviderError\";\n    constructor(message, options = true) {\n        super(message, options);\n        Object.setPrototypeOf(this, CredentialsProviderError.prototype);\n    }\n}\n","import { ProviderError } from \"./ProviderError\";\nexport const chain = (...providers) => async () => {\n    if (providers.length === 0) {\n        throw new ProviderError(\"No providers in chain\");\n    }\n    let lastProviderError;\n    for (const provider of providers) {\n        try {\n            const credentials = await provider();\n            return credentials;\n        }\n        catch (err) {\n            lastProviderError = err;\n            if (err?.tryNextLink) {\n                continue;\n            }\n            throw err;\n        }\n    }\n    throw lastProviderError;\n};\n","import { runtimeConfig } from \"./runtimeConfig\";\nexport var BYTE_LENGTH_SOURCE;\n(function (BYTE_LENGTH_SOURCE) {\n    BYTE_LENGTH_SOURCE[\"EMPTY_INPUT\"] = \"a null or undefined Body\";\n    BYTE_LENGTH_SOURCE[\"CONTENT_LENGTH\"] = \"the ContentLength property of the params set by the caller\";\n    BYTE_LENGTH_SOURCE[\"STRING_LENGTH\"] = \"the encoded byte length of the Body string\";\n    BYTE_LENGTH_SOURCE[\"TYPED_ARRAY\"] = \"the byteLength of a typed byte array such as Uint8Array\";\n    BYTE_LENGTH_SOURCE[\"LENGTH\"] = \"the value of Body.length\";\n    BYTE_LENGTH_SOURCE[\"SIZE\"] = \"the value of Body.size\";\n    BYTE_LENGTH_SOURCE[\"START_END_DIFF\"] = \"the numeric difference between Body.start and Body.end\";\n    BYTE_LENGTH_SOURCE[\"LSTAT\"] = \"the size of the file given by Body.path on disk as reported by lstatSync\";\n})(BYTE_LENGTH_SOURCE || (BYTE_LENGTH_SOURCE = {}));\nexport const byteLengthSource = (input, override) => {\n    if (override != null) {\n        return BYTE_LENGTH_SOURCE.CONTENT_LENGTH;\n    }\n    if (input == null) {\n        return BYTE_LENGTH_SOURCE.EMPTY_INPUT;\n    }\n    if (typeof input === \"string\") {\n        return BYTE_LENGTH_SOURCE.STRING_LENGTH;\n    }\n    if (typeof input.byteLength === \"number\") {\n        return BYTE_LENGTH_SOURCE.TYPED_ARRAY;\n    }\n    else if (typeof input.length === \"number\") {\n        return BYTE_LENGTH_SOURCE.LENGTH;\n    }\n    else if (typeof input.size === \"number\") {\n        return BYTE_LENGTH_SOURCE.SIZE;\n    }\n    else if (typeof input.start === \"number\" && typeof input.end === \"number\") {\n        return BYTE_LENGTH_SOURCE.START_END_DIFF;\n    }\n    else if (runtimeConfig.isFileReadStream(input)) {\n        try {\n            runtimeConfig.lstatSync(input.path).size;\n            return BYTE_LENGTH_SOURCE.LSTAT;\n        }\n        catch (error) {\n            return undefined;\n        }\n    }\n    return undefined;\n};\n","import { Buffer } from \"buffer\";\nexport async function* getChunkStream(data, partSize, getNextData) {\n    let partNumber = 1;\n    const currentBuffer = { chunks: [], length: 0 };\n    for await (const datum of getNextData(data)) {\n        currentBuffer.chunks.push(datum);\n        currentBuffer.length += datum.byteLength;\n        while (currentBuffer.length > partSize) {\n            const dataChunk = currentBuffer.chunks.length > 1 ? Buffer.concat(currentBuffer.chunks) : currentBuffer.chunks[0];\n            yield {\n                partNumber,\n                data: dataChunk.subarray(0, partSize),\n            };\n            currentBuffer.chunks = [dataChunk.subarray(partSize)];\n            currentBuffer.length = currentBuffer.chunks[0].byteLength;\n            partNumber += 1;\n        }\n    }\n    yield {\n        partNumber,\n        data: currentBuffer.chunks.length !== 1 ? Buffer.concat(currentBuffer.chunks) : currentBuffer.chunks[0],\n        lastPart: true,\n    };\n}\n","import { AbortSignal } from \"./AbortSignal\";\nexport class AbortController {\n    signal = new AbortSignal();\n    abort() {\n        this.signal.abort();\n    }\n}\n","import { Buffer } from \"buffer\";\nexport async function* getDataReadable(data) {\n    for await (const chunk of data) {\n        if (Buffer.isBuffer(chunk) || chunk instanceof Uint8Array) {\n            yield chunk;\n        }\n        else {\n            yield Buffer.from(chunk);\n        }\n    }\n}\n","import { Buffer } from \"buffer\";\nexport async function* getDataReadableStream(data) {\n    const reader = data.getReader();\n    try {\n        while (true) {\n            const { done, value } = await reader.read();\n            if (done) {\n                return;\n            }\n            if (Buffer.isBuffer(value) || value instanceof Uint8Array) {\n                yield value;\n            }\n            else {\n                yield Buffer.from(value);\n            }\n        }\n    }\n    catch (e) {\n        throw e;\n    }\n    finally {\n        reader.releaseLock();\n    }\n}\n","import { IniSectionType } from \"@smithy/types\";\nimport { CONFIG_PREFIX_SEPARATOR } from \"./constants\";\nconst prefixKeyRegex = /^([\\w-]+)\\s([\"'])?([\\w-@\\+\\.%:/]+)\\2$/;\nconst profileNameBlockList = [\"__proto__\", \"profile __proto__\"];\nexport const parseIni = (iniData) => {\n    const map = {};\n    let currentSection;\n    let currentSubSection;\n    for (const iniLine of iniData.split(/\\r?\\n/)) {\n        const trimmedLine = iniLine.split(/(^|\\s)[;#]/)[0].trim();\n        const isSection = trimmedLine[0] === \"[\" && trimmedLine[trimmedLine.length - 1] === \"]\";\n        if (isSection) {\n            currentSection = undefined;\n            currentSubSection = undefined;\n            const sectionName = trimmedLine.substring(1, trimmedLine.length - 1);\n            const matches = prefixKeyRegex.exec(sectionName);\n            if (matches) {\n                const [, prefix, , name] = matches;\n                if (Object.values(IniSectionType).includes(prefix)) {\n                    currentSection = [prefix, name].join(CONFIG_PREFIX_SEPARATOR);\n                }\n            }\n            else {\n                currentSection = sectionName;\n            }\n            if (profileNameBlockList.includes(sectionName)) {\n                throw new Error(`Found invalid profile name \"${sectionName}\"`);\n            }\n        }\n        else if (currentSection) {\n            const indexOfEqualsSign = trimmedLine.indexOf(\"=\");\n            if (![0, -1].includes(indexOfEqualsSign)) {\n                const [name, value] = [\n                    trimmedLine.substring(0, indexOfEqualsSign).trim(),\n                    trimmedLine.substring(indexOfEqualsSign + 1).trim(),\n                ];\n                if (value === \"\") {\n                    currentSubSection = name;\n                }\n                else {\n                    if (currentSubSection && iniLine.trimStart() === iniLine) {\n                        currentSubSection = undefined;\n                    }\n                    map[currentSection] = map[currentSection] || {};\n                    const key = currentSubSection ? [currentSubSection, name].join(CONFIG_PREFIX_SEPARATOR) : name;\n                    map[currentSection][key] = value;\n                }\n            }\n        }\n    }\n    return map;\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getSelectorName } from \"./getSelectorName\";\nexport const fromEnv = (envVarSelector, options) => async () => {\n    try {\n        const config = envVarSelector(process.env, options);\n        if (config === undefined) {\n            throw new Error();\n        }\n        return config;\n    }\n    catch (e) {\n        throw new CredentialsProviderError(e.message || `Not found in ENV: ${getSelectorName(envVarSelector.toString())}`, { logger: options?.logger });\n    }\n};\n","import { loadConfig } from \"@smithy/node-config-provider\";\nimport { getEndpointUrlConfig } from \"./getEndpointUrlConfig\";\nexport const getEndpointFromConfig = async (serviceId) => loadConfig(getEndpointUrlConfig(serviceId ?? \"\"))();\n","import { IniSectionType } from \"@smithy/types\";\nimport { CONFIG_PREFIX_SEPARATOR } from \"./constants\";\nexport const getConfigData = (data) => Object.entries(data)\n    .filter(([key]) => {\n    const indexOfSeparator = key.indexOf(CONFIG_PREFIX_SEPARATOR);\n    if (indexOfSeparator === -1) {\n        return false;\n    }\n    return Object.values(IniSectionType).includes(key.substring(0, indexOfSeparator));\n})\n    .reduce((acc, [key, value]) => {\n    const indexOfSeparator = key.indexOf(CONFIG_PREFIX_SEPARATOR);\n    const updatedKey = key.substring(0, indexOfSeparator) === IniSectionType.PROFILE ? key.substring(indexOfSeparator + 1) : key;\n    acc[updatedKey] = value;\n    return acc;\n}, {\n    ...(data.default && { default: data.default }),\n});\n","import { join } from \"path\";\nimport { getHomeDir } from \"./getHomeDir\";\nexport const ENV_CONFIG_PATH = \"AWS_CONFIG_FILE\";\nexport const getConfigFilepath = () => process.env[ENV_CONFIG_PATH] || join(getHomeDir(), \".aws\", \"config\");\n","import { join } from \"path\";\nimport { getHomeDir } from \"./getHomeDir\";\nexport const ENV_CREDENTIALS_PATH = \"AWS_SHARED_CREDENTIALS_FILE\";\nexport const getCredentialsFilepath = () => process.env[ENV_CREDENTIALS_PATH] || join(getHomeDir(), \".aws\", \"credentials\");\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { getProfileName, loadSharedConfigFiles } from \"@smithy/shared-ini-file-loader\";\nimport { getSelectorName } from \"./getSelectorName\";\nexport const fromSharedConfigFiles = (configSelector, { preferredFile = \"config\", ...init } = {}) => async () => {\n    const profile = getProfileName(init);\n    const { configFile, credentialsFile } = await loadSharedConfigFiles(init);\n    const profileFromCredentials = credentialsFile[profile] || {};\n    const profileFromConfig = configFile[profile] || {};\n    const mergedProfile = preferredFile === \"config\"\n        ? { ...profileFromCredentials, ...profileFromConfig }\n        : { ...profileFromConfig, ...profileFromCredentials };\n    try {\n        const cfgFile = preferredFile === \"config\" ? configFile : credentialsFile;\n        const configValue = configSelector(mergedProfile, cfgFile);\n        if (configValue === undefined) {\n            throw new Error();\n        }\n        return configValue;\n    }\n    catch (e) {\n        throw new CredentialsProviderError(e.message || `Not found in config files w/ profile [${profile}]: ${getSelectorName(configSelector.toString())}`, { logger: init.logger });\n    }\n};\n","import { AbortMultipartUploadCommand, ChecksumAlgorithm, CompleteMultipartUploadCommand, CreateMultipartUploadCommand, PutObjectCommand, PutObjectTaggingCommand, UploadPartCommand, } from \"@aws-sdk/client-s3\";\nimport { AbortController } from \"@smithy/abort-controller\";\nimport { getEndpointFromInstructions, toEndpointV1, } from \"@smithy/middleware-endpoint\";\nimport { extendedEncodeURIComponent } from \"@smithy/smithy-client\";\nimport { EventEmitter } from \"events\";\nimport { byteLength } from \"./byteLength\";\nimport { byteLengthSource } from \"./byteLengthSource\";\nimport { getChunk } from \"./chunker\";\nexport class Upload extends EventEmitter {\n    static MIN_PART_SIZE = 1024 * 1024 * 5;\n    MAX_PARTS = 10_000;\n    queueSize = 4;\n    partSize;\n    leavePartsOnError = false;\n    tags = [];\n    client;\n    params;\n    totalBytes;\n    totalBytesSource;\n    bytesUploadedSoFar;\n    abortController;\n    concurrentUploaders = [];\n    createMultiPartPromise;\n    abortMultipartUploadCommand = null;\n    uploadedParts = [];\n    uploadEnqueuedPartsCount = 0;\n    expectedPartsCount;\n    uploadId;\n    uploadEvent;\n    isMultiPart = true;\n    singleUploadResult;\n    sent = false;\n    constructor(options) {\n        super();\n        this.queueSize = options.queueSize || this.queueSize;\n        this.leavePartsOnError = options.leavePartsOnError || this.leavePartsOnError;\n        this.tags = options.tags || this.tags;\n        this.client = options.client;\n        this.params = options.params;\n        if (!this.params) {\n            throw new Error(`InputError: Upload requires params to be passed to upload.`);\n        }\n        this.totalBytes = this.params.ContentLength ?? byteLength(this.params.Body);\n        this.totalBytesSource = byteLengthSource(this.params.Body, this.params.ContentLength);\n        this.bytesUploadedSoFar = 0;\n        this.abortController = options.abortController ?? new AbortController();\n        this.partSize =\n            options.partSize || Math.max(Upload.MIN_PART_SIZE, Math.floor((this.totalBytes || 0) / this.MAX_PARTS));\n        if (this.totalBytes !== undefined) {\n            this.expectedPartsCount = Math.ceil(this.totalBytes / this.partSize);\n        }\n        this.__validateInput();\n    }\n    async abort() {\n        this.abortController.abort();\n    }\n    async done() {\n        if (this.sent) {\n            throw new Error(\"@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.\");\n        }\n        this.sent = true;\n        return await Promise.race([this.__doMultipartUpload(), this.__abortTimeout(this.abortController.signal)]);\n    }\n    on(event, listener) {\n        this.uploadEvent = event;\n        return super.on(event, listener);\n    }\n    async __uploadUsingPut(dataPart) {\n        this.isMultiPart = false;\n        const params = { ...this.params, Body: dataPart.data };\n        const clientConfig = this.client.config;\n        const requestHandler = clientConfig.requestHandler;\n        const eventEmitter = requestHandler instanceof EventEmitter ? requestHandler : null;\n        const uploadEventListener = (event) => {\n            this.bytesUploadedSoFar = event.loaded;\n            this.totalBytes = event.total;\n            this.__notifyProgress({\n                loaded: this.bytesUploadedSoFar,\n                total: this.totalBytes,\n                part: dataPart.partNumber,\n                Key: this.params.Key,\n                Bucket: this.params.Bucket,\n            });\n        };\n        if (eventEmitter !== null) {\n            eventEmitter.on(\"xhr.upload.progress\", uploadEventListener);\n        }\n        const resolved = await Promise.all([this.client.send(new PutObjectCommand(params)), clientConfig?.endpoint?.()]);\n        const putResult = resolved[0];\n        let endpoint = resolved[1];\n        if (!endpoint) {\n            endpoint = toEndpointV1(await getEndpointFromInstructions(params, PutObjectCommand, {\n                ...clientConfig,\n            }));\n        }\n        if (!endpoint) {\n            throw new Error('Could not resolve endpoint from S3 \"client.config.endpoint()\" nor EndpointsV2.');\n        }\n        if (eventEmitter !== null) {\n            eventEmitter.off(\"xhr.upload.progress\", uploadEventListener);\n        }\n        const locationKey = this.params\n            .Key.split(\"/\")\n            .map((segment) => extendedEncodeURIComponent(segment))\n            .join(\"/\");\n        const locationBucket = extendedEncodeURIComponent(this.params.Bucket);\n        const Location = (() => {\n            const endpointHostnameIncludesBucket = endpoint.hostname.startsWith(`${locationBucket}.`);\n            const forcePathStyle = this.client.config.forcePathStyle;\n            const optionalPort = endpoint.port ? `:${endpoint.port}` : ``;\n            if (forcePathStyle) {\n                return `${endpoint.protocol}//${endpoint.hostname}${optionalPort}/${locationBucket}/${locationKey}`;\n            }\n            if (endpointHostnameIncludesBucket) {\n                return `${endpoint.protocol}//${endpoint.hostname}${optionalPort}/${locationKey}`;\n            }\n            return `${endpoint.protocol}//${locationBucket}.${endpoint.hostname}${optionalPort}/${locationKey}`;\n        })();\n        this.singleUploadResult = {\n            ...putResult,\n            Bucket: this.params.Bucket,\n            Key: this.params.Key,\n            Location,\n        };\n        const totalSize = byteLength(dataPart.data);\n        this.__notifyProgress({\n            loaded: totalSize,\n            total: totalSize,\n            part: 1,\n            Key: this.params.Key,\n            Bucket: this.params.Bucket,\n        });\n    }\n    async __createMultipartUpload() {\n        const requestChecksumCalculation = await this.client.config.requestChecksumCalculation();\n        if (!this.createMultiPartPromise) {\n            const createCommandParams = { ...this.params, Body: undefined };\n            if (requestChecksumCalculation === \"WHEN_SUPPORTED\") {\n                createCommandParams.ChecksumAlgorithm = this.params.ChecksumAlgorithm || ChecksumAlgorithm.CRC32;\n            }\n            this.createMultiPartPromise = this.client\n                .send(new CreateMultipartUploadCommand(createCommandParams))\n                .then((createMpuResponse) => {\n                this.abortMultipartUploadCommand = new AbortMultipartUploadCommand({\n                    Bucket: this.params.Bucket,\n                    Key: this.params.Key,\n                    UploadId: createMpuResponse.UploadId,\n                });\n                return createMpuResponse;\n            });\n        }\n        return this.createMultiPartPromise;\n    }\n    async __doConcurrentUpload(dataFeeder) {\n        for await (const dataPart of dataFeeder) {\n            if (this.uploadEnqueuedPartsCount > this.MAX_PARTS) {\n                throw new Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);\n            }\n            if (this.abortController.signal.aborted) {\n                return;\n            }\n            if (dataPart.partNumber === 1 && dataPart.lastPart) {\n                return await this.__uploadUsingPut(dataPart);\n            }\n            if (!this.uploadId) {\n                const { UploadId } = await this.__createMultipartUpload();\n                this.uploadId = UploadId;\n                if (this.abortController.signal.aborted) {\n                    return;\n                }\n            }\n            const partSize = byteLength(dataPart.data) || 0;\n            const requestHandler = this.client.config.requestHandler;\n            const eventEmitter = requestHandler instanceof EventEmitter ? requestHandler : null;\n            let lastSeenBytes = 0;\n            const uploadEventListener = (event, request) => {\n                const requestPartSize = Number(request.query[\"partNumber\"]) || -1;\n                if (requestPartSize !== dataPart.partNumber) {\n                    return;\n                }\n                if (event.total && partSize) {\n                    this.bytesUploadedSoFar += event.loaded - lastSeenBytes;\n                    lastSeenBytes = event.loaded;\n                }\n                this.__notifyProgress({\n                    loaded: this.bytesUploadedSoFar,\n                    total: this.totalBytes,\n                    part: dataPart.partNumber,\n                    Key: this.params.Key,\n                    Bucket: this.params.Bucket,\n                });\n            };\n            if (eventEmitter !== null) {\n                eventEmitter.on(\"xhr.upload.progress\", uploadEventListener);\n            }\n            this.uploadEnqueuedPartsCount += 1;\n            this.__validateUploadPart(dataPart);\n            const partResult = await this.client.send(new UploadPartCommand({\n                ...this.params,\n                ContentLength: undefined,\n                UploadId: this.uploadId,\n                Body: dataPart.data,\n                PartNumber: dataPart.partNumber,\n            }));\n            if (eventEmitter !== null) {\n                eventEmitter.off(\"xhr.upload.progress\", uploadEventListener);\n            }\n            if (this.abortController.signal.aborted) {\n                return;\n            }\n            if (!partResult.ETag) {\n                throw new Error(`Part ${dataPart.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);\n            }\n            this.uploadedParts.push({\n                PartNumber: dataPart.partNumber,\n                ETag: partResult.ETag,\n                ...(partResult.ChecksumCRC32 && { ChecksumCRC32: partResult.ChecksumCRC32 }),\n                ...(partResult.ChecksumCRC32C && { ChecksumCRC32C: partResult.ChecksumCRC32C }),\n                ...(partResult.ChecksumSHA1 && { ChecksumSHA1: partResult.ChecksumSHA1 }),\n                ...(partResult.ChecksumSHA256 && { ChecksumSHA256: partResult.ChecksumSHA256 }),\n            });\n            if (eventEmitter === null) {\n                this.bytesUploadedSoFar += partSize;\n            }\n            this.__notifyProgress({\n                loaded: this.bytesUploadedSoFar,\n                total: this.totalBytes,\n                part: dataPart.partNumber,\n                Key: this.params.Key,\n                Bucket: this.params.Bucket,\n            });\n        }\n    }\n    async __doMultipartUpload() {\n        const dataFeeder = getChunk(this.params.Body, this.partSize);\n        const concurrentUploaderFailures = [];\n        for (let index = 0; index < this.queueSize; index++) {\n            const currentUpload = this.__doConcurrentUpload(dataFeeder).catch((err) => {\n                concurrentUploaderFailures.push(err);\n            });\n            this.concurrentUploaders.push(currentUpload);\n        }\n        await Promise.all(this.concurrentUploaders);\n        if (concurrentUploaderFailures.length >= 1) {\n            await this.markUploadAsAborted();\n            throw concurrentUploaderFailures[0];\n        }\n        if (this.abortController.signal.aborted) {\n            await this.markUploadAsAborted();\n            throw Object.assign(new Error(\"Upload aborted.\"), { name: \"AbortError\" });\n        }\n        let result;\n        if (this.isMultiPart) {\n            const { expectedPartsCount, uploadedParts, totalBytes, totalBytesSource } = this;\n            if (totalBytes !== undefined && expectedPartsCount !== undefined && uploadedParts.length !== expectedPartsCount) {\n                throw new Error(`Expected ${expectedPartsCount} part(s) but uploaded ${uploadedParts.length} part(s).\nThe expected part count is based on the byte-count of the input.params.Body,\nwhich was read from ${totalBytesSource} and is ${totalBytes}.\nIf this is not correct, provide an override value by setting a number\nto input.params.ContentLength in bytes.\n`);\n            }\n            this.uploadedParts.sort((a, b) => a.PartNumber - b.PartNumber);\n            const uploadCompleteParams = {\n                ...this.params,\n                Body: undefined,\n                UploadId: this.uploadId,\n                MultipartUpload: {\n                    Parts: this.uploadedParts,\n                },\n            };\n            result = await this.client.send(new CompleteMultipartUploadCommand(uploadCompleteParams));\n            if (typeof result?.Location === \"string\" && result.Location.includes(\"%2F\")) {\n                result.Location = result.Location.replace(/%2F/g, \"/\");\n            }\n        }\n        else {\n            result = this.singleUploadResult;\n        }\n        this.abortMultipartUploadCommand = null;\n        if (this.tags.length) {\n            await this.client.send(new PutObjectTaggingCommand({\n                ...this.params,\n                Tagging: {\n                    TagSet: this.tags,\n                },\n            }));\n        }\n        return result;\n    }\n    async markUploadAsAborted() {\n        if (this.uploadId && !this.leavePartsOnError && null !== this.abortMultipartUploadCommand) {\n            await this.client.send(this.abortMultipartUploadCommand);\n            this.abortMultipartUploadCommand = null;\n        }\n    }\n    __notifyProgress(progress) {\n        if (this.uploadEvent) {\n            this.emit(this.uploadEvent, progress);\n        }\n    }\n    async __abortTimeout(abortSignal) {\n        return new Promise((resolve, reject) => {\n            abortSignal.onabort = () => {\n                const abortError = new Error(\"Upload aborted.\");\n                abortError.name = \"AbortError\";\n                reject(abortError);\n            };\n        });\n    }\n    __validateUploadPart(dataPart) {\n        const actualPartSize = byteLength(dataPart.data);\n        if (actualPartSize === undefined) {\n            throw new Error(`A dataPart was generated without a measurable data chunk size for part number ${dataPart.partNumber}`);\n        }\n        if (dataPart.partNumber === 1 && dataPart.lastPart) {\n            return;\n        }\n        if (!dataPart.lastPart && actualPartSize !== this.partSize) {\n            throw new Error(`The byte size for part number ${dataPart.partNumber}, size ${actualPartSize} does not match expected size ${this.partSize}`);\n        }\n    }\n    __validateInput() {\n        if (!this.client) {\n            throw new Error(`InputError: Upload requires a AWS client to do uploads with.`);\n        }\n        if (this.partSize < Upload.MIN_PART_SIZE) {\n            throw new Error(`EntityTooSmall: Your proposed upload part size [${this.partSize}] is smaller than the minimum allowed size [${Upload.MIN_PART_SIZE}] (5MB)`);\n        }\n        if (this.queueSize < 1) {\n            throw new Error(`Queue size: Must have at least one uploading queue.`);\n        }\n    }\n}\n","import { resolveParamsForS3 } from \"../service-customizations\";\nimport { createConfigValueProvider } from \"./createConfigValueProvider\";\nimport { getEndpointFromConfig } from \"./getEndpointFromConfig\";\nimport { toEndpointV1 } from \"./toEndpointV1\";\nexport const getEndpointFromInstructions = async (commandInput, instructionsSupplier, clientConfig, context) => {\n    if (!clientConfig.isCustomEndpoint) {\n        let endpointFromConfig;\n        if (clientConfig.serviceConfiguredEndpoint) {\n            endpointFromConfig = await clientConfig.serviceConfiguredEndpoint();\n        }\n        else {\n            endpointFromConfig = await getEndpointFromConfig(clientConfig.serviceId);\n        }\n        if (endpointFromConfig) {\n            clientConfig.endpoint = () => Promise.resolve(toEndpointV1(endpointFromConfig));\n            clientConfig.isCustomEndpoint = true;\n        }\n    }\n    const endpointParams = await resolveParams(commandInput, instructionsSupplier, clientConfig);\n    if (typeof clientConfig.endpointProvider !== \"function\") {\n        throw new Error(\"config.endpointProvider is not set.\");\n    }\n    const endpoint = clientConfig.endpointProvider(endpointParams, context);\n    return endpoint;\n};\nexport const resolveParams = async (commandInput, instructionsSupplier, clientConfig) => {\n    const endpointParams = {};\n    const instructions = instructionsSupplier?.getEndpointParameterInstructions?.() || {};\n    for (const [name, instruction] of Object.entries(instructions)) {\n        switch (instruction.type) {\n            case \"staticContextParams\":\n                endpointParams[name] = instruction.value;\n                break;\n            case \"contextParams\":\n                endpointParams[name] = commandInput[instruction.name];\n                break;\n            case \"clientContextParams\":\n            case \"builtInParams\":\n                endpointParams[name] = await createConfigValueProvider(instruction.name, name, clientConfig, instruction.type !== \"builtInParams\")();\n                break;\n            case \"operationContextParams\":\n                endpointParams[name] = instruction.get(commandInput);\n                break;\n            default:\n                throw new Error(\"Unrecognized endpoint parameter instruction: \" + JSON.stringify(instruction));\n        }\n    }\n    if (Object.keys(instructions).length === 0) {\n        Object.assign(endpointParams, clientConfig);\n    }\n    if (String(clientConfig.serviceId).toLowerCase() === \"s3\") {\n        await resolveParamsForS3(endpointParams);\n    }\n    return endpointParams;\n};\n","import { chain, memoize } from \"@smithy/property-provider\";\nimport { fromEnv } from \"./fromEnv\";\nimport { fromSharedConfigFiles } from \"./fromSharedConfigFiles\";\nimport { fromStatic } from \"./fromStatic\";\nexport const loadConfig = ({ environmentVariableSelector, configFileSelector, default: defaultValue }, configuration = {}) => {\n    const { signingName, logger } = configuration;\n    const envOptions = { signingName, logger };\n    return memoize(chain(fromEnv(environmentVariableSelector, envOptions), fromSharedConfigFiles(configFileSelector, configuration), fromStatic(defaultValue)));\n};\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]}