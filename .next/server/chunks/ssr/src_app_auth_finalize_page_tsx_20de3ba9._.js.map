{"version":3,"sources":["turbopack:///[project]/src/app/auth/finalize/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\nexport default function AuthFinalizePage() {\n  useEffect(() => {\n    console.log('ðŸ”„ðŸ”„ðŸ”„ FINALIZE PAGE MOUNTED ðŸ”„ðŸ”„ðŸ”„');\n\n    const finalizeAuth = async () => {\n      try {\n        // Get token from URL\n        const urlParams = new URLSearchParams(window.location.search);\n        const tempToken = urlParams.get('token');\n\n        console.log('ðŸ”‘ Temp token from URL:', tempToken ? `Found (${tempToken.substring(0, 10)}...)` : 'MISSING');\n\n        if (!tempToken) {\n          console.error('âŒ No temp token, redirecting...');\n          setTimeout(() => window.location.href = '/', 2000);\n          return;\n        }\n\n        console.log('ðŸ“¡ Calling finalize API...');\n        const response = await fetch('/api/auth/finalize', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          credentials: 'include',\n          body: JSON.stringify({ tempToken }),\n        });\n\n        console.log('ðŸ“¡ Finalize API response status:', response.status);\n        const data = await response.json();\n        console.log('ðŸ“¡ Finalize API response data:', data);\n\n        if (response.ok) {\n          console.log('âœ…âœ…âœ… LOGIN SUCCESSFUL! Redirecting in 1 second...');\n          setTimeout(() => {\n            console.log('ðŸ”„ Now redirecting to homepage...');\n            window.location.href = '/';\n          }, 1000);\n        } else {\n          console.error('âŒ Login failed:', data);\n          setTimeout(() => window.location.href = '/', 2000);\n        }\n      } catch (error) {\n        console.error('âŒâŒâŒ ERROR in finalize:', error);\n        setTimeout(() => window.location.href = '/', 2000);\n      }\n    };\n\n    finalizeAuth();\n  }, []);\n\n  return (\n    <div style={{\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh',\n      flexDirection: 'column',\n      fontFamily: 'system-ui, sans-serif',\n      background: '#f5f5f5'\n    }}>\n      <div style={{\n        padding: '3rem',\n        background: 'white',\n        borderRadius: '12px',\n        boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n        textAlign: 'center',\n        minWidth: '400px'\n      }}>\n        <div style={{\n          width: '60px',\n          height: '60px',\n          border: '4px solid #f3f3f3',\n          borderTop: '4px solid #3498db',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite',\n          margin: '0 auto 2rem'\n        }}></div>\n        <h2 style={{ marginBottom: '1rem', color: '#333', fontSize: '24px' }}>\n          Finalizing Login...\n        </h2>\n        <p style={{ color: '#666', fontSize: '16px' }}>\n          Please wait while we complete your login\n        </p>\n        <p style={{ color: '#999', fontSize: '14px', marginTop: '1rem' }}>\n          Check browser console for details\n        </p>\n      </div>\n      <style dangerouslySetInnerHTML={{__html: `\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}} />\n    </div>\n  );\n}\n"],"names":["useEffect","AuthFinalizePage","console","log","finalizeAuth","urlParams","URLSearchParams","window","location","search","tempToken","get","substring","error","setTimeout","href","response","fetch","method","headers","credentials","body","JSON","stringify","status","data","json","ok","display","justifyContent","alignItems","height","flexDirection","fontFamily","background","padding","borderRadius","boxShadow","textAlign","minWidth","width","border","borderTop","animation","margin","marginBottom","color","fontSize","marginTop","__html"],"mappings":"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"}