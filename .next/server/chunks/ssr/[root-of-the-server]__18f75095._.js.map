{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/src/lib/supabase/auth.ts","turbopack:///[project]/src/lib/api.ts","turbopack:///[project]/src/lib/supabase/SessionContextProvider.tsx","turbopack:///[project]/src/components/NextAuthProvider.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","import { createClient } from '@/lib/supabase/client';\n\n// Sign in with Google OAuth\nexport const signInWithGoogle = async () => {\n  const supabase = createClient();\n\n  // Use the current window location as the redirect URL to ensure we return to the same origin\n  // This ensures the auth state change event fires properly in the same session\n  const redirectTo = `${window.location.origin}/auth/callback`;\n\n  const { data, error } = await supabase.auth.signInWithOAuth({\n    provider: 'google',\n    options: {\n      redirectTo: redirectTo,\n      // Ensure we get full user profile data\n      queryParams: {\n        access_type: 'offline',\n        prompt: 'consent',\n      }\n    },\n  });\n\n  if (error) {\n    console.error('Error signing in with Google:', error.message);\n    throw error;\n  }\n\n  return data;\n};\n\n// Sign out\nexport const signOut = async () => {\n  const supabase = createClient();\n\n  const { error } = await supabase.auth.signOut();\n\n  if (error) {\n    console.error('Error signing out:', error.message);\n    throw error;\n  }\n  \n  return { success: true };\n};\n\n// Get current session\nexport const getCurrentSession = async () => {\n  const supabase = createClient();\n\n  const { data: { session }, error } = await supabase.auth.getSession();\n\n  if (error) {\n    console.error('Error getting session:', error.message);\n    return null;\n  }\n\n  return session;\n};\n\n// Get current user\nexport const getCurrentUser = async () => {\n  const supabase = createClient();\n\n  const { data: { user } } = await supabase.auth.getUser();\n\n  return user;\n};\n\n// Get user profile from the profiles table, creating it if it doesn't exist\nexport const getUserProfile = async () => {\n  const supabase = createClient();\n\n  const {\n    data: { user },\n    error: userError\n  } = await supabase.auth.getUser();\n\n  if (userError || !user) {\n    console.error('Error getting user:', userError);\n    return null;\n  }\n\n  // First, try to get the existing profile\n  const { data: profile, error: profileError } = await supabase\n    .from('profiles')\n    .select('id, role')\n    .eq('id', user.id)\n    .single();\n\n  if (profileError) {\n    // Profile doesn't exist, create it with default customer role\n    console.warn('Profile not found, creating new profile for user:', user.id);\n    \n    const { error: insertError } = await supabase\n      .from('profiles')\n      .insert([{ id: user.id, role: 'customer' }]);\n\n    if (insertError) {\n      console.error('Error creating user profile:', insertError);\n      return null;\n    }\n    \n    // Now fetch the profile that was just created\n    const { data: newProfile, error: fetchError } = await supabase\n      .from('profiles')\n      .select('id, role')\n      .eq('id', user.id)\n      .single();\n\n    if (fetchError) {\n      console.error('Error fetching newly created user profile:', fetchError);\n      return null;\n    }\n    \n    return newProfile;\n  }\n\n  return profile;\n};\n\n// Update user role (for admin use only)\nexport const updateUserRole = async (userId: string, newRole: 'customer' | 'moderator' | 'admin') => {\n  const supabase = createClient();\n\n  const { error } = await supabase\n    .from('profiles')\n    .update({ role: newRole })\n    .eq('id', userId);\n\n  if (error) {\n    console.error('Error updating user role:', error);\n    throw error;\n  }\n};\n\n// Get all user profiles (for admin use only)\nexport const getAllUserProfiles = async () => {\n  const supabase = createClient();\n\n  const { data, error } = await supabase\n    .from('profiles')\n    .select('id, role, created_at, updated_at')\n    .order('created_at', { ascending: false });\n\n  if (error) {\n    console.error('Error fetching user profiles:', error);\n    throw error;\n  }\n\n  return data;\n};\n\n// Listen for auth changes\nexport const onAuthStateChange = (callback: (event: any, session: any) => void) => {\n  const supabase = createClient();\n\n  const { data: { subscription } } = supabase.auth.onAuthStateChange(callback);\n\n  return () => {\n    subscription.unsubscribe();\n  };\n};","// API utility functions for making requests to our Next.js API routes\nimport { CartItem, Order } from '@/types';\n\ninterface ApiResponse<T> {\n  success: boolean;\n  data?: T;\n  message?: string;\n  error?: string;\n}\n\nclass ApiClient {\n  private baseUrl: string;\n  private token: string | null;\n\n  constructor() {\n    this.baseUrl = typeof window !== 'undefined' ? '' : process.env.API_BASE_URL || '';\n    // Initialize token from localStorage in the browser\n    if (typeof window !== 'undefined') {\n      this.token = localStorage.getItem('token');\n    } else {\n      this.token = null;\n    }\n  }\n\n  setToken(token: string | null) {\n    this.token = token;\n    if (typeof window !== 'undefined' && token) {\n      localStorage.setItem('token', token);\n    } else if (typeof window !== 'undefined') {\n      localStorage.removeItem('token');\n    }\n  }\n\n  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<ApiResponse<T>> {\n    const url = `${this.baseUrl}/api${endpoint}`;\n    \n    const headers = {\n      'Content-Type': 'application/json',\n      ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n      ...options.headers,\n    };\n\n    const config: RequestInit = {\n      ...options,\n      headers,\n      // Include credentials for authentication\n      credentials: 'include',\n    };\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n\n      return data;\n    } catch (error) {\n      console.error(`API request error to ${url}:`, error);\n      return {\n        success: false,\n        error: 'Network error or server unavailable'\n      };\n    }\n  }\n\n\n\n  // Products\n  async getProducts() {\n    return this.request<{ id: number; name: string; description: string; price: number; image_url?: string; category?: string; }[]>('/products');\n  }\n\n  async getProduct(id: number) {\n    return this.request<{ id: number; name: string; description: string; price: number; image_url?: string; category?: string; slug?: string; }>(`/products/${id}`);\n  }\n  \n  async getProductBySlug(slug: string) {\n    return this.request<{ id: number; name: string; description: string; price: number; image_url?: string; category?: string; slug?: string; }>(`/products/${slug}`);\n  }\n\n  async createProduct(productData: { name: string; description: string; price: number; image_url?: string; image_urls?: string[]; category?: string }) {\n    return this.request<{ id: number; name: string; description: string; price: number; image_url?: string; images?: string[]; category?: string }>('/products', {\n      method: 'POST',\n      body: JSON.stringify(productData),\n    });\n  }\n\n  async updateProduct(id: number, productData: { name: string; description: string; price: number; image_url?: string; image_urls?: string[]; category?: string }) {\n    return this.request<{ id: number; name: string; description: string; price: number; image_url?: string; images?: string[]; category?: string }>(`/products/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(productData),\n    });\n  }\n\n  // Search\n  async searchProducts(params: {\n    q?: string;\n    search?: string;\n    category?: string;\n    minPrice?: number;\n    maxPrice?: number;\n    page?: number;\n    limit?: number;\n  }) {\n    const searchParams = new URLSearchParams();\n    \n    if (params.q) searchParams.append('q', params.q);\n    if (params.search) searchParams.append('search', params.search);\n    if (params.category) searchParams.append('category', params.category);\n    if (params.minPrice !== undefined) searchParams.append('minPrice', params.minPrice.toString());\n    if (params.maxPrice !== undefined) searchParams.append('maxPrice', params.maxPrice.toString());\n    if (params.page) searchParams.append('page', params.page.toString());\n    if (params.limit) searchParams.append('limit', params.limit.toString());\n\n    const queryString = searchParams.toString();\n    const endpoint = queryString ? `/search/products?${queryString}` : '/search/products';\n\n    return this.request<{\n      products: any[];\n      pagination: {\n        page: number;\n        limit: number;\n        total: number;\n        pages: number;\n        hasMore: boolean;\n      };\n      filters: {\n        search: string;\n        category: string;\n        minPrice: number | null;\n        maxPrice: number | null;\n      };\n    }>(endpoint);\n  }\n\n  // Cart\n  async getCartItems() {\n    return this.request<CartItem[]>('/cart');\n  }\n\n  async addToCart(product_id: number, quantity: number = 1) {\n    const headers: any = {\n      'Content-Type': 'application/json',\n    };\n    \n    // Only add authorization header if token exists\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n    \n    return this.request<CartItem>('/cart', {\n      method: 'POST',\n      headers,\n      body: JSON.stringify({ product_id, quantity }),\n    });\n  }\n\n  async updateCartItem(product_id: number, quantity: number) {\n    return this.request<CartItem>('/cart', {\n      method: 'PUT',\n      body: JSON.stringify({ product_id, quantity }),\n    });\n  }\n\n  async removeFromCart(product_id: number) {\n    // Instead of DELETE, send PUT request with quantity 0 to remove specific item\n    return this.request<{ message: string }>('/cart', {\n      method: 'PUT',\n      body: JSON.stringify({ product_id, quantity: 0 }),\n    });\n  }\n\n  async clearCart() {\n    return this.request<{ message: string }>('/cart', {\n      method: 'DELETE',\n    });\n  }\n\n  // Orders\n  async getOrders() {\n    return this.request<Order[]>('/orders');\n  }\n\n  async createOrder(orderData: any) {\n    return this.request<Order>('/orders', {\n      method: 'POST',\n      body: JSON.stringify(orderData),\n    });\n  }\n\n  // Checkout\n  async createCheckoutSession(cartData: {\n    items: any[];\n    shipping_address: any;\n  }) {\n    return this.request<{\n      razorpay_order_id: string;\n      amount: number;\n      currency: string;\n      total_amount: number;\n    }>('/checkout/create', {\n      method: 'POST',\n      body: JSON.stringify(cartData),\n    });\n  }\n\n  async verifyPayment(paymentData: {\n    razorpay_order_id: string;\n    razorpay_payment_id: string;\n    razorpay_signature: string;\n  }) {\n    return this.request<{ success: boolean; data?: any; error?: string }>(\n      '/checkout/verify',\n      {\n        method: 'POST',\n        body: JSON.stringify(paymentData),\n      }\n    );\n  }\n\n  // Appointments\n  async getAppointments(filters?: {\n    status?: string;\n    date?: string;\n    page?: number;\n    limit?: number;\n  }) {\n    const searchParams = new URLSearchParams();\n    \n    if (filters?.status) searchParams.append('status', filters.status);\n    if (filters?.date) searchParams.append('date', filters.date);\n    if (filters?.page) searchParams.append('page', filters.page.toString());\n    if (filters?.limit) searchParams.append('limit', filters.limit.toString());\n\n    const queryString = searchParams.toString();\n    const endpoint = queryString ? `/appointments?${queryString}` : '/appointments';\n\n    return this.request<{\n      appointments: any[];\n      pagination: {\n        page: number;\n        limit: number;\n        total: number;\n        pages: number;\n        hasMore: boolean;\n      };\n    }>(endpoint);\n  }\n\n  async createAppointment(appointmentData: {\n    appointment_date: string;\n    notes?: string;\n  }) {\n    return this.request<any>('/appointments', {\n      method: 'POST',\n      body: JSON.stringify(appointmentData),\n    });\n  }\n\n  async getAppointment(id: string) {\n    return this.request<any>(`/appointments/${id}`);\n  }\n\n  async updateAppointment(id: string, updateData: {\n    status?: string;\n    notes?: string;\n  }) {\n    return this.request<any>(`/appointments/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(updateData),\n    });\n  }\n\n  async deleteAppointment(id: string) {\n    return this.request<{ message: string }>(`/appointments/${id}`, {\n      method: 'DELETE',\n    });\n  }\n}\n\nexport const apiClient = new ApiClient();\n\n// Export types\nexport type { ApiResponse };","'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { Session, SupabaseClient } from '@supabase/supabase-js';\ninterface UserProfile {\n  id: string;\n  role: string;\n}\ninterface SessionContextType {\n  session: Session | null;\n  user: any | null; // Replace 'any' with your actual User type\n  profile: UserProfile | null;\n  loading: boolean;\n}\nconst SessionContext = createContext<SessionContextType | undefined>(undefined);\ninterface SessionContextProviderProps {\n  supabaseClient: SupabaseClient;\n  children: ReactNode;\n}\nexport function SessionContextProvider({\n  supabaseClient,\n  children\n}: SessionContextProviderProps) {\n  const [session, setSession] = useState<Session | null>(null);\n  const [user, setUser] = useState<any | null>(null);\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const getInitialSession = async () => {\n      setLoading(true);\n      const {\n        data: {\n          session\n        }\n      } = await supabaseClient.auth.getSession();\n      setSession(session);\n      setUser(session?.user || null);\n      if (session?.user) {\n        // Fetch user profile from profiles table\n        const {\n          data: profileData,\n          error: profileError\n        } = await supabaseClient.from('profiles').select('id, role').eq('id', session.user.id).single();\n        if (profileError) {\n          // Profile doesn't exist, try to create it with default role\n          console.warn('User profile not found, creating new profile for user:', session.user.id);\n          const {\n            error: insertError\n          } = await supabaseClient.from('profiles').insert([{\n            id: session.user.id,\n            role: 'customer'\n          }]);\n          if (insertError) {\n            console.error('Error creating user profile:', insertError);\n            setProfile(null);\n          } else {\n            // Now fetch the profile that was just created\n            const {\n              data: newProfile,\n              error: fetchError\n            } = await supabaseClient.from('profiles').select('id, role').eq('id', session.user.id).single();\n            if (fetchError) {\n              console.error('Error fetching newly created user profile:', fetchError);\n              setProfile(null);\n            } else {\n              setProfile(newProfile);\n            }\n          }\n        } else {\n          setProfile(profileData);\n        }\n      } else {\n        setProfile(null);\n      }\n      setLoading(false);\n      const {\n        data: {\n          subscription\n        }\n      } = await supabaseClient.auth.onAuthStateChange(async (_event, session) => {\n        setSession(session);\n        setUser(session?.user || null);\n        if (session?.user) {\n          // Fetch user profile from profiles table\n          const {\n            data: profileData,\n            error: profileError\n          } = await supabaseClient.from('profiles').select('id, role').eq('id', session.user.id).single();\n          if (profileError) {\n            // Profile doesn't exist, try to create it with default role\n            console.warn('User profile not found during auth state change, creating new profile for user:', session.user.id);\n            const {\n              error: insertError\n            } = await supabaseClient.from('profiles').insert([{\n              id: session.user.id,\n              role: 'customer'\n            }]);\n            if (insertError) {\n              console.error('Error creating user profile:', insertError);\n              setProfile(null);\n            } else {\n              // Now fetch the profile that was just created\n              const {\n                data: newProfile,\n                error: fetchError\n              } = await supabaseClient.from('profiles').select('id, role').eq('id', session.user.id).single();\n              if (fetchError) {\n                console.error('Error fetching newly created user profile:', fetchError);\n                setProfile(null);\n              } else {\n                setProfile(newProfile);\n              }\n            }\n          } else {\n            setProfile(profileData);\n          }\n        } else {\n          setProfile(null);\n        }\n      });\n      return () => {\n        subscription.unsubscribe();\n      };\n    };\n    getInitialSession();\n  }, [supabaseClient]);\n  return <SessionContext.Provider value={{\n    session,\n    user,\n    profile,\n    loading\n  }}>\n      {children}\n    </SessionContext.Provider>;\n}\nexport const useSessionContext = () => {\n  const context = useContext(SessionContext);\n  if (context === undefined) {\n    throw new Error('useSessionContext must be used within a SessionContextProvider');\n  }\n  return context;\n};","'use client';\n\nimport { SessionContextProvider } from '@/lib/supabase/SessionContextProvider';\nimport { createClient } from '@/lib/supabase/client';\nexport function NextAuthProvider({\n  children\n}: {\n  children: React.ReactNode;\n}) {\n  const supabase = createClient();\n  return <SessionContextProvider supabaseClient={supabase}>\n      {children}\n    </SessionContextProvider>;\n}"],"names":["module","exports","require","vendored","ReactJsxRuntime","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","React","createClient","signInWithGoogle","supabase","redirectTo","window","location","origin","data","error","auth","signInWithOAuth","provider","options","queryParams","access_type","prompt","console","message","signOut","success","getCurrentSession","session","getSession","getCurrentUser","user","getUser","getUserProfile","userError","profile","profileError","from","select","eq","id","single","warn","insertError","insert","role","newProfile","fetchError","updateUserRole","userId","newRole","update","getAllUserProfiles","order","ascending","onAuthStateChange","callback","event","subscription","unsubscribe","CartItem","Order","ApiResponse","T","ApiClient","baseUrl","token","constructor","API_BASE_URL","localStorage","getItem","setToken","setItem","removeItem","request","endpoint","RequestInit","Promise","url","headers","config","credentials","response","fetch","json","getProducts","name","description","price","image_url","category","getProduct","slug","getProductBySlug","createProduct","productData","image_urls","images","method","body","JSON","stringify","updateProduct","searchProducts","params","q","search","minPrice","maxPrice","page","limit","searchParams","URLSearchParams","append","undefined","toString","queryString","products","pagination","total","pages","hasMore","filters","getCartItems","addToCart","product_id","quantity","Authorization","updateCartItem","removeFromCart","clearCart","getOrders","createOrder","orderData","createCheckoutSession","cartData","items","shipping_address","razorpay_order_id","amount","currency","total_amount","verifyPayment","paymentData","razorpay_payment_id","razorpay_signature","getAppointments","status","date","appointments","createAppointment","appointmentData","appointment_date","notes","getAppointment","updateAppointment","updateData","deleteAppointment","apiClient"],"mappings":"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","ignoreList":[0,1,2]}