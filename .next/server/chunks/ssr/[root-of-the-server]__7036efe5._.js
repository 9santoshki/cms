module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},19032,a=>{"use strict";let b=new class{baseUrl;token;constructor(){this.baseUrl=process.env.API_BASE_URL||"",this.token=null}setToken(a){this.token=a}async request(a,b={}){let c=`${this.baseUrl}/api${a}`,d={"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...b.headers},e={...b,headers:d,credentials:"include"};try{let a=await fetch(c,e);return await a.json()}catch(a){return console.error(`API request error to ${c}:`,a),{success:!1,error:"Network error or server unavailable"}}}async getProducts(){return this.request("/products")}async getProduct(a){return this.request(`/products/${a}`)}async getProductBySlug(a){return this.request(`/products/${a}`)}async createProduct(a){return this.request("/products",{method:"POST",body:JSON.stringify(a)})}async updateProduct(a,b){return this.request(`/products/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteProduct(a){return this.request(`/products/${a}`,{method:"DELETE"})}async searchProducts(a){let b=new URLSearchParams;a.q&&b.append("q",a.q),a.search&&b.append("search",a.search),a.category&&b.append("category",a.category),void 0!==a.minPrice&&b.append("minPrice",a.minPrice.toString()),void 0!==a.maxPrice&&b.append("maxPrice",a.maxPrice.toString()),a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString());let c=b.toString(),d=c?`/search/products?${c}`:"/search/products";return this.request(d)}async getCartItems(){return this.request("/cart")}async addToCart(a,b=1){let c={"Content-Type":"application/json"};return this.token&&(c.Authorization=`Bearer ${this.token}`),this.request("/cart",{method:"POST",headers:c,body:JSON.stringify({product_id:a,quantity:b})})}async updateCartItem(a,b){return this.request("/cart",{method:"PUT",body:JSON.stringify({product_id:a,quantity:b})})}async removeFromCart(a){return this.request("/cart",{method:"PUT",body:JSON.stringify({product_id:a,quantity:0})})}async clearCart(){return this.request("/cart",{method:"DELETE"})}async getOrders(){return this.request("/orders")}async createOrder(a){return this.request("/orders",{method:"POST",body:JSON.stringify(a)})}async createCheckoutSession(a){return this.request("/checkout/create",{method:"POST",body:JSON.stringify(a)})}async verifyPayment(a){return this.request("/checkout/verify",{method:"POST",body:JSON.stringify(a)})}async getAppointments(a){let b=new URLSearchParams;a?.status&&b.append("status",a.status),a?.date&&b.append("date",a.date),a?.page&&b.append("page",a.page.toString()),a?.limit&&b.append("limit",a.limit.toString());let c=b.toString(),d=c?`/appointments?${c}`:"/appointments";return this.request(d)}async createAppointment(a){return this.request("/appointments",{method:"POST",body:JSON.stringify(a)})}async getAppointment(a){return this.request(`/appointments/${a}`)}async updateAppointment(a,b){return this.request(`/appointments/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteAppointment(a){return this.request(`/appointments/${a}`,{method:"DELETE"})}};a.s(["apiClient",0,b])},36265,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19032);let e="SET_PRODUCTS",f="SET_LOADING",g="SET_ERROR",h="SET_APPOINTMENTS",i="SET_ORDERS",j="ADD_ORDER",k={products:[],loading:!1,error:null,appointments:[],orders:[]},l=(a,b)=>{switch(b.type){case e:return{...a,products:Array.isArray(b.payload)?b.payload:[]};case f:return{...a,loading:b.payload};case g:return{...a,error:b.payload};case h:return{...a,appointments:Array.isArray(b.payload)?b.payload:[]};case i:return{...a,orders:Array.isArray(b.payload)?b.payload:[]};case j:return{...a,orders:[b.payload,...a.orders]};default:return a}},m=(0,c.createContext)(void 0);a.s(["ProductContext",0,m,"ProductProvider",0,({children:a})=>{let[n,o]=(0,c.useReducer)(l,k),p=a=>{o({type:e,payload:a})},q=a=>{o({type:f,payload:a})},r=a=>{o({type:g,payload:a})},s=async()=>{q(!0),r(null);try{let a=await d.apiClient.getProducts();if(a.success&&a.data){let b=(Array.isArray(a.data)?a.data:a.data?.products||[]).map(a=>({...a,price:"number"==typeof a.price?a.price:parseFloat(a.price),image_url:a.image_url&&(a.image_url.startsWith("http")||a.image_url.startsWith("/"))?a.image_url:void 0,imageClass:(a=>{if(!a)return"modern";let b=a.toLowerCase();if(b.includes("modern")||b.includes("coffee")||b.includes("sofa"))return"modern";if(b.includes("classic")||b.includes("armchair"))return"classic";if(b.includes("vintage")||b.includes("lamp"))return"coastal";if(b.includes("dining")||b.includes("dresser"))return"office";if(b.includes("wall")||b.includes("art"))return"hotel";else if(b.includes("rug"))return"restaurant";else return"modern"})(a.image_url)||a.imageClass||"modern"}));p(b)}else console.warn("No products found:",a.error),p([])}catch(a){console.error("Error fetching products:",a),r(a.message||"Failed to load products. Please try again later.")}finally{q(!1)}},t=(0,c.useCallback)(async()=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let a=await d.apiClient.getOrders();a.success&&a.data?o({type:i,payload:Array.isArray(a.data)?a.data:[]}):o({type:i,payload:[]})}catch(a){console.error("Error fetching orders:",a),o({type:g,payload:a.message||"Failed to load orders."})}finally{o({type:f,payload:!1})}},[]),u=(0,c.useCallback)(async()=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let a=await d.apiClient.getAppointments();a.success&&a.data?o({type:h,payload:Array.isArray(a.data)?a.data:[]}):o({type:h,payload:[]})}catch(a){console.error("Error fetching appointments:",a),o({type:g,payload:a.message||"Failed to load appointments."})}finally{o({type:f,payload:!1})}},[]),v=(0,c.useCallback)(async a=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let b=await d.apiClient.createOrder(a);if(b.success&&b.data)return o({type:j,payload:b.data}),b.data;throw Error(b.error||"Failed to create order")}catch(a){throw console.error("Error creating order:",a),o({type:g,payload:a.message||"Failed to create order."}),a}finally{o({type:f,payload:!1})}},[]),w=(0,c.useCallback)(async a=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let b=await d.apiClient.createAppointment(a);if(b.success&&b.data)return o({type:h,payload:[b.data,...n.appointments]}),b.data;throw Error(b.error||"Failed to create appointment")}catch(a){throw console.error("Error creating appointment:",a),o({type:g,payload:a.message||"Failed to create appointment."}),a}finally{o({type:f,payload:!1})}},[n.appointments]),x=(0,c.useCallback)(async(a,b)=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let c=await d.apiClient.updateProduct(a,b);if(c.success&&c.data)return o({type:e,payload:n.products.map(b=>b.id===a?c.data:b)}),c.data;throw Error(c.error||"Failed to update product")}catch(a){throw console.error("Error updating product:",a),o({type:g,payload:a.message||"Failed to update product."}),a}finally{o({type:f,payload:!1})}},[n.products]),y=(0,c.useCallback)(async a=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let b=await d.apiClient.deleteProduct(a);if(b.success)return o({type:e,payload:n.products.filter(b=>b.id!==a)}),!0;throw Error(b.error||"Failed to delete product")}catch(a){throw console.error("Error deleting product:",a),o({type:g,payload:a.message||"Failed to delete product."}),a}finally{o({type:f,payload:!1})}},[n.products]),z=(0,c.useCallback)(async a=>{o({type:f,payload:!0}),o({type:g,payload:null});try{let b=await d.apiClient.createProduct(a);if(b.success&&b.data)return o({type:e,payload:[b.data,...n.products]}),b.data;throw Error(b.error||"Failed to create product")}catch(a){throw console.error("Error creating product:",a),o({type:g,payload:a.message||"Failed to create product."}),a}finally{o({type:f,payload:!1})}},[n.products]);return(0,b.jsx)(m.Provider,{value:{products:n.products,loading:n.loading,error:n.error,appointments:n.appointments,orders:n.orders,setProducts:p,setLoading:q,setError:r,setAppointments:a=>{o({type:h,payload:a})},setOrders:a=>{o({type:i,payload:a})},fetchProducts:s,fetchOrders:t,fetchAppointments:u,createOrder:v,createAppointment:w,updateProduct:x,deleteProduct:y,createProduct:z},children:a})},"useProduct",0,()=>{let a=(0,c.useContext)(m);if(void 0===a)throw Error("useProduct must be used within a ProductProvider");return a}])},77532,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d="SET_LOADING",e="SET_ERROR",f="CLEAR_ERROR",g={loading:{products:!1,cart:!1,orders:!1,appointments:!1,auth:!1,user:!1},error:{products:null,cart:null,orders:null,appointments:null,auth:null,user:null}},h=(a,b)=>{switch(b.type){case d:return{...a,loading:{...a.loading,[b.payload.type]:b.payload.value}};case e:return{...a,error:{...a.error,[b.payload.type]:b.payload.value}};case f:return{...a,error:{...a.error,[b.payload.type]:null}};default:return a}},i=(0,c.createContext)(void 0);a.s(["UIContext",0,i,"UIProvider",0,({children:a})=>{let[j,k]=(0,c.useReducer)(h,g);return(0,b.jsx)(i.Provider,{value:{loading:j.loading,error:j.error,setLoading:(a,b)=>{k({type:d,payload:{type:a,value:b}})},setError:(a,b)=>{k({type:e,payload:{type:a,value:b}})},clearError:a=>{k({type:f,payload:{type:a}})}},children:a})},"useUI",0,()=>{let a=(0,c.useContext)(i);if(void 0===a)throw Error("useUI must be used within a UIProvider");return a}])},13023,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(63933),e=a.i(36265),f=a.i(77532);a.s(["AppProvider",0,({children:a})=>(0,b.jsx)(f.UIProvider,{children:(0,b.jsx)(c.AuthProvider,{children:(0,b.jsx)(e.ProductProvider,{children:(0,b.jsx)(d.CartProvider,{children:a})})})})])},12974,a=>{a.v(a=>Promise.resolve().then(()=>a(74886)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7036efe5._.js.map