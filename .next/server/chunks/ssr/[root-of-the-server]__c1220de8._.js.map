{"version":3,"sources":["turbopack:///[project]/src/app/auth/page.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/auth/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/auth/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/auth/page.tsx\",\n    \"default\",\n);\n","'use client';\n\nimport { useAppContext } from '@/context/AppContext';\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport AuthForm from '@/components/AuthForm'\n\nexport default function Auth() {\n  const { user, loading } = useAppContext();\n  const router = useRouter();\n  const [redirect, setRedirect] = useState<string>('/');\n\n  useEffect(() => {\n    // Read search params from window on client side to avoid useSearchParams SSR warning\n    if (typeof window !== 'undefined') {\n      const params = new URLSearchParams(window.location.search);\n      setRedirect(params.get('redirect') || '/');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!loading.user && user) {\n      // If user is already logged in, redirect to the target page or home\n      const targetPath = redirect && redirect !== '/' ? decodeURIComponent(redirect) : '/';\n      router.push(targetPath);\n    }\n  }, [user, loading.user, redirect, router]);\n\n  // Show loading or redirecting message while checking user status\n  if (!loading.user && user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Redirecting...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <AuthForm />;\n}"],"names":["useAppContext","useEffect","useState","useRouter","AuthForm","Auth","user","loading","router","redirect","setRedirect","window","params","URLSearchParams","location","search","get","targetPath","decodeURIComponent","push"],"mappings":"2UAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,uRAAyR,EACtT,sDACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,mQAAqQ,EAClS,kCACA","ignoreList":[0]}