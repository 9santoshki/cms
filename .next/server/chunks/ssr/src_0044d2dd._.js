module.exports=[41481,42603,a=>{"use strict";var b=a.i(56025),c=a.i(63933),d=a.i(36265),e=a.i(77532);a.i(13023),a.s(["useAppContext",0,()=>{let a=(0,b.useAuth)(),f=(0,d.useProduct)(),g=(0,c.useCart)(),h=(0,e.useUI)();return{user:a.user,token:a.token,loading:a.loading,error:a.error,setUser:a.setUser,setToken:a.setToken,setLoading:a.setLoading,setError:a.setError,logout:a.logout,signInWithGoogle:a.signInWithGoogle,products:f.products,orders:f.orders,appointments:f.appointments,fetchProducts:f.fetchProducts,fetchOrders:f.fetchOrders,fetchAppointments:f.fetchAppointments,createOrder:f.createOrder,createAppointment:f.createAppointment,updateProduct:f.updateProduct,deleteProduct:f.deleteProduct,createProduct:f.createProduct,cartItems:g.items,cartCount:g.cartCount,cartTotal:g.cartTotal,addItem:g.addItem,updateItem:g.updateItem,removeItem:g.removeItem,clearCart:g.clearCart,addToCartWithAuth:(b,c)=>a.user?(g.addItem({id:Date.now(),product_id:b.id,quantity:c,name:b.name,price:b.price,image_url:b.image_url}),{success:!0,requiresLogin:!1}):{success:!1,requiresLogin:!0,product:b,quantity:c},uiLoading:h.loading,uiError:h.error,setUILoading:h.setLoading,setUIError:h.setError}}],42603),a.s([],41481)},23776,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(41481);var d=a.i(42603),e=a.i(20238),f=a.i(56283),g=a.i(50944);a.s(["default",0,()=>{let a=(0,g.useRouter)(),h=(0,g.useParams)(),{user:i}=(0,d.useAppContext)(),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{i?t():a.push("/auth?redirect=/appointments")},[i,a,h.id]);let t=async()=>{m(!0),o(null);try{let a=await fetch(`/api/appointments/${h.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to fetch appointment");k(b.data),q(b.data.notes||"")}catch(a){console.error("Fetch appointment error:",a),o(a.message||"An error occurred while fetching appointment")}finally{m(!1)}},u=async()=>{try{let a=await fetch(`/api/appointments/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({notes:p})}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to update appointment");k({...j,notes:p}),s(!1)}catch(a){console.error("Update appointment error:",a),o(a.message||"Failed to update appointment")}},v=async()=>{if(window.confirm("Are you sure you want to cancel this appointment?"))try{let a=await fetch(`/api/appointments/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"cancelled"})}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to cancel appointment");k({...j,status:"cancelled"})}catch(a){console.error("Cancel appointment error:",a),o(a.message||"Failed to cancel appointment")}};return i?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(e.default,{activePage:"booking"}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointment Details"}),(0,b.jsx)("button",{onClick:()=>a.push("/appointments"),className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Back to Appointments"})]}),n&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-md",children:n}),l?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):j?(0,b.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Interior Design Consultation"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Appointment ID: ",j.id]})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(j.status)}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Date & Time"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:new Date(j.appointment_date).toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Notes"}),"cancelled"!==j.status&&"completed"!==j.status&&(0,b.jsx)("button",{onClick:()=>s(!r),className:"text-sm text-amber-600 hover:text-amber-700",children:r?"Cancel":"Edit"})]}),r?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("textarea",{value:p,onChange:a=>q(a.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Add any specific requirements or questions for the consultation..."}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:u,disabled:l,className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 disabled:opacity-50",children:"Save Changes"}),(0,b.jsx)("button",{onClick:()=>{s(!1),q(j.notes||"")},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}):(0,b.jsx)("p",{className:"mt-1 text-gray-900 whitespace-pre-line",children:j.notes||"No special notes provided."})]})]}),(0,b.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[("pending"===j.status||"confirmed"===j.status)&&(0,b.jsx)("button",{onClick:v,className:"px-6 py-3 bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:"Cancel Appointment"}),"pending"===j.status&&(0,b.jsx)("button",{onClick:()=>alert("Our team will confirm your appointment shortly."),className:"px-6 py-3 bg-amber-100 text-amber-700 rounded-md hover:bg-amber-200",children:"Request Change"}),(0,b.jsx)("button",{onClick:()=>a.push("/booking"),className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Book Another Consultation"})]})})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-gray-400 text-5xl mb-4",children:"ðŸ“…"}),(0,b.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Appointment Not Found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"The appointment you're looking for doesn't exist or has been removed."}),(0,b.jsx)("button",{onClick:()=>a.push("/appointments"),className:"px-6 py-3 bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"View All Appointments"})]})]}),(0,b.jsx)(f.default,{})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Redirecting to login..."})]})})}])}];

//# sourceMappingURL=src_0044d2dd._.js.map