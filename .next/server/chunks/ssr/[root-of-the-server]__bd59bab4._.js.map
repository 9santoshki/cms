{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/src/app/auth/callback/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\nexport default function AuthCallback() {\n  const router = useRouter();\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const code = urlParams.get('code');\n      const error = urlParams.get('error');\n      const errorDescription = urlParams.get('error_description');\n\n      if (error) {\n        // Handle different OAuth error types\n        if (error === 'access_denied') {\n          // User cancelled the sign-in - this is normal, just redirect to auth page\n          console.log('User cancelled sign-in');\n          setErrorMessage('Sign-in was cancelled');\n          setTimeout(() => {\n            router.replace('/auth');\n          }, 1500);\n        } else {\n          // Other OAuth errors\n          console.error('OAuth error:', error, errorDescription);\n          setErrorMessage('Authentication failed. Please try again.');\n          setTimeout(() => {\n            router.replace('/auth?error=oauth_failed');\n          }, 2000);\n        }\n        return;\n      }\n\n      if (code) {\n        // Redirect to the API route to handle OAuth server-side\n        // The server will exchange the code for tokens and set the session cookie\n        window.location.href = `/api/auth/google/callback?code=${code}`;\n      } else {\n        // No code parameter, redirect to home\n        router.replace('/');\n      }\n    };\n\n    handleAuthCallback();\n  }, [router]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"text-center\">\n        {errorMessage ? (\n          <>\n            <div className=\"w-12 h-12 mx-auto mb-4 text-amber-600\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z\" />\n              </svg>\n            </div>\n            <p className=\"text-gray-700 font-medium\">{errorMessage}</p>\n            <p className=\"text-sm text-gray-500 mt-2\">Redirecting...</p>\n          </>\n        ) : (\n          <>\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Completing authentication...</p>\n            <p className=\"text-sm text-gray-500 mt-2\">You will be redirected shortly</p>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","useEffect","useState","useRouter","AuthCallback","router","errorMessage","setErrorMessage","handleAuthCallback","urlParams","URLSearchParams","window","location","search","code","get","error","errorDescription","console","log","setTimeout","replace","href"],"mappings":"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","ignoreList":[0,1,2]}