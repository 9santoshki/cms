module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},76010,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(44394),e=a.i(50944);a.s(["default",0,()=>{let a=(0,e.useRouter)(),{user:f,loading:g}=(0,d.useAppContext)(),[h,i]=(0,c.useState)({shipping:{min_order_amount:5e4,flat_rate:1500,enabled:!0},tax:{rate:0,type:"percentage",enabled:!1}}),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{g.user||f?f&&"admin"===f.role?r():a.push("/dashboard"):a.push("/auth?redirect=/dashboard/settings")},[f,g]);let r=async()=>{k(!0),o(null);try{i({shipping:{min_order_amount:5e4,flat_rate:1500,enabled:!0},tax:{rate:0,type:"percentage",enabled:!1}})}catch(a){console.error("Error loading settings:",a),o(a.message||"Failed to load settings")}finally{k(!1)}},s=(a,b,c)=>{i(d=>({...d,[a]:{...d[a],[b]:c}}))},t=async()=>{m(!0),o(null),q(null);try{console.log("Saving settings:",h),q("Settings saved successfully!"),setTimeout(()=>q(null),3e3)}catch(a){console.error("Error saving settings:",a),o(a.message||"Failed to save settings")}finally{m(!1)}};return g.user||j?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):f&&"admin"===f.role?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white shadow",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between h-16",children:[(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"System Settings"})}),(0,b.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,b.jsx)("button",{onClick:()=>a.push("/dashboard"),className:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 text-sm font-medium",children:"Dashboard"}),(0,b.jsx)("span",{className:"border-b-2 border-amber-500 text-amber-600 inline-flex items-center px-1 pt-1 text-sm font-medium",children:"Settings"})]})]}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("div",{className:"ml-3 relative",children:(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["Welcome, ",(0,b.jsx)("span",{className:"font-medium capitalize",children:f.role})," ",f.name]})})})]})})}),(0,b.jsx)("div",{className:"py-6",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"lg:text-center mb-8",children:[(0,b.jsx)("h2",{className:"text-base text-amber-600 font-semibold tracking-wide uppercase",children:"System Settings"}),(0,b.jsx)("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Configure Platform Settings"})]}),n&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-md",children:n}),p&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-700 rounded-md",children:p}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),t()},children:[(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Shipping Configuration"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{id:"shipping-enabled",name:"shipping-enabled",type:"checkbox",checked:h.shipping.enabled,onChange:a=>s("shipping","enabled",a.target.checked),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"shipping-enabled",className:"ml-2 block text-sm text-gray-900",children:"Enable Shipping"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"min-order-amount",className:"block text-sm font-medium text-gray-700",children:"Minimum Order Amount (₹)"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"number",id:"min-order-amount",value:h.shipping.min_order_amount,onChange:a=>s("shipping","min_order_amount",parseFloat(a.target.value)),className:"shadow-sm focus:ring-amber-500 focus:border-amber-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"flat-rate",className:"block text-sm font-medium text-gray-700",children:"Flat Shipping Rate (₹)"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"number",id:"flat-rate",value:h.shipping.flat_rate,onChange:a=>s("shipping","flat_rate",parseFloat(a.target.value)),className:"shadow-sm focus:ring-amber-500 focus:border-amber-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Tax Configuration"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{id:"tax-enabled",name:"tax-enabled",type:"checkbox",checked:h.tax.enabled,onChange:a=>s("tax","enabled",a.target.checked),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"tax-enabled",className:"ml-2 block text-sm text-gray-900",children:"Enable Tax Calculation"})]}),h.tax.enabled&&(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"tax-rate",className:"block text-sm font-medium text-gray-700",children:"Tax Rate (%)"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"number",id:"tax-rate",value:h.tax.rate,onChange:a=>s("tax","rate",parseFloat(a.target.value)),className:"shadow-sm focus:ring-amber-500 focus:border-amber-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"tax-type",className:"block text-sm font-medium text-gray-700",children:"Tax Type"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsxs)("select",{id:"tax-type",value:h.tax.type,onChange:a=>s("tax","type",a.target.value),className:"shadow-sm focus:ring-amber-500 focus:border-amber-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[(0,b.jsx)("option",{value:"percentage",children:"Percentage"}),(0,b.jsx)("option",{value:"fixed",children:"Fixed Amount"})]})})]})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:l,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50",children:l?(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Settings"})})]})]})})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center p-8 max-w-md",children:[(0,b.jsx)("div",{className:"text-5xl text-red-500 mb-4",children:"❌"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access system settings."}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"px-6 py-3 bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Go Home"})]})})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ef0cffef._.js.map