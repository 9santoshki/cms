{"version":3,"sources":["turbopack:///[project]/src/app/debug/oauth/page.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/debug/oauth/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/debug/oauth/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/debug/oauth/page.tsx\",\n    \"default\",\n);\n","'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport default function OAuthDebugPage() {\n  const [config, setConfig] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch('/api/debug/oauth-config')\n      .then(res => res.json())\n      .then(data => {\n        setConfig(data);\n        setLoading(false);\n      });\n  }, []);\n\n  const testOAuth = () => {\n    const redirectUri = `${window.location.origin}/auth/callback`;\n    const googleAuthUrl = new URL('https://accounts.google.com/o/oauth2/v2/auth');\n    googleAuthUrl.searchParams.set('client_id', config.clientIdFull);\n    googleAuthUrl.searchParams.set('redirect_uri', redirectUri);\n    googleAuthUrl.searchParams.set('response_type', 'code');\n    googleAuthUrl.searchParams.set('scope', 'openid email profile');\n    googleAuthUrl.searchParams.set('access_type', 'offline');\n    googleAuthUrl.searchParams.set('prompt', 'consent');\n\n    window.location.href = googleAuthUrl.toString();\n  };\n\n  if (loading) return <div className=\"p-8\">Loading...</div>;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-6\">OAuth Configuration Debugger</h1>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Current Configuration</h2>\n          <div className=\"space-y-2 font-mono text-sm\">\n            <div>\n              <strong>Client ID:</strong> {config.clientIdFull}\n            </div>\n            <div>\n              <strong>Client Secret:</strong> {config.clientSecretSet ? '‚úì Set' : '‚úó Not Set'}\n            </div>\n            <div>\n              <strong>Environment:</strong> {config.environment}\n            </div>\n            <div>\n              <strong>Redirect URI (this page):</strong> {window.location.origin}/auth/callback\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-blue-900\">Google Console Setup</h2>\n          <ol className=\"list-decimal list-inside space-y-2 text-sm\">\n            {config.instructions.map((instruction: string, i: number) => (\n              <li key={i} className=\"text-gray-700\">{instruction}</li>\n            ))}\n          </ol>\n          <div className=\"mt-4\">\n            <a\n              href=\"https://console.cloud.google.com/apis/credentials\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n            >\n              Open Google Console ‚Üí\n            </a>\n          </div>\n        </div>\n\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-green-900\">Test OAuth Flow</h2>\n          <p className=\"text-sm text-gray-700 mb-4\">\n            Click the button below to test the OAuth flow. You should be redirected to Google\n            and then back to your app.\n          </p>\n          <button\n            onClick={testOAuth}\n            className=\"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-semibold\"\n          >\n            üîê Test Google Sign-In\n          </button>\n        </div>\n\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-yellow-900\">Common Issues</h2>\n          <ul className=\"list-disc list-inside space-y-2 text-sm text-gray-700\">\n            <li>\n              <strong>Wrong Client ID:</strong> Make sure you're configuring the correct Client ID\n              in Google Console (there are different ones for local vs production)\n            </li>\n            <li>\n              <strong>Trailing slash:</strong> Don't add a trailing slash to the redirect URI\n              (use <code>/auth/callback</code> not <code>/auth/callback/</code>)\n            </li>\n            <li>\n              <strong>Propagation delay:</strong> Google Console changes can take 2-5 minutes to take effect\n            </li>\n            <li>\n              <strong>HTTP vs HTTPS:</strong> Use http:// for localhost and https:// for production\n            </li>\n            <li>\n              <strong>OAuth Consent Screen:</strong> Make sure your OAuth consent screen is configured\n              and published (or in testing mode with your email added as a test user)\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useEffect","useState","OAuthDebugPage","config","setConfig","loading","setLoading","fetch","then","res","json","data","testOAuth","redirectUri","window","location","origin","googleAuthUrl","URL","searchParams","set","clientIdFull","href","toString","clientSecretSet","environment","instructions","map","instruction","i"],"mappings":"iYAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,8RAAgS,EAC7T,6DACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,0QAA4Q,EACzS,yCACA","ignoreList":[0]}