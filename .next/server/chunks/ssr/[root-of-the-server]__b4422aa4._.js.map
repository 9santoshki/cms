{"version":3,"sources":["turbopack:///[project]/src/app/auth/finalize/page.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/auth/finalize/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/auth/finalize/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/auth/finalize/page.tsx\",\n    \"default\",\n);\n","'use client';\n\nimport { useEffect } from 'react';\n\nexport default function AuthFinalizePage() {\n  useEffect(() => {\n    console.log('ðŸ”„ðŸ”„ðŸ”„ FINALIZE PAGE MOUNTED ðŸ”„ðŸ”„ðŸ”„');\n\n    const finalizeAuth = async () => {\n      try {\n        // Get token from URL\n        const urlParams = new URLSearchParams(window.location.search);\n        const tempToken = urlParams.get('token');\n\n        console.log('ðŸ”‘ Temp token from URL:', tempToken ? `Found (${tempToken.substring(0, 10)}...)` : 'MISSING');\n\n        if (!tempToken) {\n          console.error('âŒ No temp token, redirecting...');\n          setTimeout(() => window.location.href = '/', 2000);\n          return;\n        }\n\n        console.log('ðŸ“¡ Calling finalize API...');\n        const response = await fetch('/api/auth/finalize', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          credentials: 'include',\n          body: JSON.stringify({ tempToken }),\n        });\n\n        console.log('ðŸ“¡ Finalize API response status:', response.status);\n        const data = await response.json();\n        console.log('ðŸ“¡ Finalize API response data:', data);\n\n        if (response.ok) {\n          console.log('âœ…âœ…âœ… LOGIN SUCCESSFUL! Redirecting in 1 second...');\n          setTimeout(() => {\n            console.log('ðŸ”„ Now redirecting to homepage...');\n            window.location.href = '/';\n          }, 1000);\n        } else {\n          console.error('âŒ Login failed:', data);\n          setTimeout(() => window.location.href = '/', 2000);\n        }\n      } catch (error) {\n        console.error('âŒâŒâŒ ERROR in finalize:', error);\n        setTimeout(() => window.location.href = '/', 2000);\n      }\n    };\n\n    finalizeAuth();\n  }, []);\n\n  return (\n    <div style={{\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh',\n      flexDirection: 'column',\n      fontFamily: 'system-ui, sans-serif',\n      background: '#f5f5f5'\n    }}>\n      <div style={{\n        padding: '3rem',\n        background: 'white',\n        borderRadius: '12px',\n        boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n        textAlign: 'center',\n        minWidth: '400px'\n      }}>\n        <div style={{\n          width: '60px',\n          height: '60px',\n          border: '4px solid #f3f3f3',\n          borderTop: '4px solid #3498db',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite',\n          margin: '0 auto 2rem'\n        }}></div>\n        <h2 style={{ marginBottom: '1rem', color: '#333', fontSize: '24px' }}>\n          Finalizing Login...\n        </h2>\n        <p style={{ color: '#666', fontSize: '16px' }}>\n          Please wait while we complete your login\n        </p>\n        <p style={{ color: '#999', fontSize: '14px', marginTop: '1rem' }}>\n          Check browser console for details\n        </p>\n      </div>\n      <style dangerouslySetInnerHTML={{__html: `\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}} />\n    </div>\n  );\n}\n"],"names":["useEffect","AuthFinalizePage","console","log","finalizeAuth","urlParams","URLSearchParams","window","location","search","tempToken","get","substring","error","setTimeout","href","response","fetch","method","headers","credentials","body","JSON","stringify","status","data","json","ok","display","justifyContent","alignItems","height","flexDirection","fontFamily","background","padding","borderRadius","boxShadow","textAlign","minWidth","width","border","borderTop","animation","margin","marginBottom","color","fontSize","marginTop","__html"],"mappings":"gYAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,gSAAkS,EAC/T,+DACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,4QAA8Q,EAC3S,2CACA","ignoreList":[0]}