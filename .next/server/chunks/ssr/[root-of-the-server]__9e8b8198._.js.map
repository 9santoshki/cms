{"version":3,"sources":["turbopack:///[project]/src/components/AdminDashboard.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/components/AdminDashboard.tsx","turbopack:///[project]/src/app/admin/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/AdminDashboard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/AdminDashboard.tsx\",\n    \"default\",\n);\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAppContext } from '../context/AppContext';\nimport Header from './Header';\n\n// Import admin styles\nimport {\n  AdminContainer,\n  AdminHeader,\n  AdminSidebar,\n  AdminContent,\n  AdminCard,\n  AdminButton\n} from '../styles/AdminStyles';\n\nconst AdminDashboard = () => {\n  const router = useRouter();\n\n  const navigate = (path: string) => {\n    router.push(path);\n  };\n  const { user, logout } = useAppContext();\n  const [activeTab, setActiveTab] = useState('dashboard');\n\n  // Check if user has admin privileges\n  useEffect(() => {\n    if (!user) {\n      const currentPath = typeof window !== 'undefined' ? window.location.pathname : '/';\n      navigate(`/auth?redirect=${encodeURIComponent(currentPath)}`);\n      return;\n    }\n    \n    // Check if user has admin role\n    if (!user.role || user.role !== 'admin') {\n      navigate('/');\n      alert('Access denied: Admin privileges required');\n    }\n  }, [user, navigate]);\n\n  const handleLogout = () => {\n    logout();\n    navigate('/');\n  };\n\n  const adminNavigation = [\n    { id: 'dashboard', label: 'Overview', icon: 'fas fa-tachometer-alt' },\n    { id: 'products', label: 'Products', icon: 'fas fa-box' },\n    { id: 'orders', label: 'Orders', icon: 'fas fa-shopping-cart' },\n    { id: 'users', label: 'Users', icon: 'fas fa-users' },\n    { id: 'content', label: 'Content', icon: 'fas fa-edit' },\n    { id: 'settings', label: 'Settings', icon: 'fas fa-cog' }\n  ];\n\n  const renderContent = () => {\n    switch(activeTab) {\n      case 'dashboard':\n        return <DashboardContent setActiveTab={setActiveTab} />;\n      case 'products':\n        return <ProductManagement />;\n      case 'orders':\n        return <OrderManagement />;\n      case 'users':\n        return <UserManagement />;\n      case 'content':\n        return <ContentManagement />;\n      case 'settings':\n        return <SettingsContent />;\n      default:\n        return <DashboardContent setActiveTab={setActiveTab} />;\n    }\n  };\n\n  return (\n    <AdminContainer>\n      <AdminHeader>\n        <Header activePage=\"admin\" />\n      </AdminHeader>\n\n      <div className=\"admin-layout\">\n        <AdminSidebar>\n          <nav className=\"admin-nav\">\n            <ul>\n              {adminNavigation.map((item) => (\n                <li key={item.id}>\n                  <button \n                    className={`admin-nav-link ${activeTab === item.id ? 'active' : ''}`}\n                    onClick={() => setActiveTab(item.id)}\n                  >\n                    <i className={item.icon}></i>\n                    {item.label}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </nav>\n        </AdminSidebar>\n\n        <AdminContent>\n          {renderContent()}\n        </AdminContent>\n      </div>\n    </AdminContainer>\n  );\n};\n\n// Dashboard Content Component\nconst DashboardContent = ({ setActiveTab }: { setActiveTab: (tab: string) => void }) => {\n  const { products, orders, fetchProducts, fetchOrders, loading, error } = useAppContext();\n  const [stats, setStats] = useState({\n    totalProducts: 0,\n    totalOrders: 0,\n    totalCustomers: 0,\n    totalRevenue: 0\n  });\n  const [recentOrders, setRecentOrders] = useState<any[]>([]);\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        // Fetch products\n        await fetchProducts();\n        \n        // Fetch orders\n        await fetchOrders();\n      } catch (err) {\n        console.error('Error fetching dashboard data:', err);\n      }\n    };\n    \n    fetchDashboardData();\n  }, []); // Empty dependency array to run only once on mount\n\n  useEffect(() => {\n    // Calculate stats based on products and orders\n    const totalProducts = products.length;\n    const totalOrders = orders.length;\n    const totalRevenue = orders.reduce((sum, order) => sum + (order.total || 0), 0);\n    \n    // Note: For customers, we'll need to get unique users from orders\n    // For now, we'll use a placeholder count - in a real app you'd fetch actual customer count\n    const uniqueCustomers = [...new Set(orders.map(order => order.user_id))].length;\n    \n    setStats({\n      totalProducts,\n      totalOrders,\n      totalCustomers: uniqueCustomers,\n      totalRevenue\n    });\n    \n    // Get recent orders (last 5)\n    const sortedOrders = [...orders].sort((a, b) => \n      new Date(b.created_at || '').getTime() - \n      new Date(a.created_at || '').getTime()\n    );\n    setRecentOrders(sortedOrders.slice(0, 5));\n  }, [products, orders]);\n\n  return (\n    <div className=\"admin-dashboard\">\n      <div className=\"dashboard-stats\">\n        <AdminCard>\n          <div className=\"stat-icon\">\n            <i className=\"fas fa-shopping-cart\"></i>\n          </div>\n          <div className=\"stat-content\">\n            <h3>{loading.orders ? '...' : stats.totalOrders}</h3>\n            <p>Total Orders</p>\n          </div>\n        </AdminCard>\n        \n        <AdminCard>\n          <div className=\"stat-icon\">\n            <i className=\"fas fa-box\"></i>\n          </div>\n          <div className=\"stat-content\">\n            <h3>{loading.products ? '...' : stats.totalProducts}</h3>\n            <p>Products</p>\n          </div>\n        </AdminCard>\n        \n        <AdminCard>\n          <div className=\"stat-icon\">\n            <i className=\"fas fa-users\"></i>\n          </div>\n          <div className=\"stat-content\">\n            <h3>{stats.totalCustomers}</h3>\n            <p>Customers</p>\n          </div>\n        </AdminCard>\n        \n        <AdminCard>\n          <div className=\"stat-icon\">\n            <i className=\"fas fa-receipt\"></i>\n          </div>\n          <div className=\"stat-content\">\n            <h3>₹{loading.orders ? '...' : stats.totalRevenue.toLocaleString()}</h3>\n            <p>Total Revenue</p>\n          </div>\n        </AdminCard>\n      </div>\n      \n      <div className=\"dashboard-content\">\n        <AdminCard>\n          <h3>Recent Orders</h3>\n          {recentOrders.length > 0 ? (\n            <table className=\"admin-table\">\n              <thead>\n                <tr>\n                  <th>Order ID</th>\n                  <th>Customer</th>\n                  <th>Date</th>\n                  <th>Amount</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {recentOrders.map((order) => (\n                  <tr key={order.id}>\n                    <td>#{order.id}</td>\n                    <td>User {order.user_id}</td>\n                    <td>{new Date(order.created_at || order.createdAt || '').toLocaleDateString()}</td>\n                    <td>₹{order.total?.toLocaleString()}</td>\n                    <td><span className={`status-badge ${order.status}`}>{order.status}</span></td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          ) : (\n            <p>No recent orders</p>\n          )}\n        </AdminCard>\n        \n        <AdminCard>\n          <h3>Quick Actions</h3>\n          <div className=\"quick-actions\">\n            <AdminButton onClick={() => setActiveTab('products')}>\n              <i className=\"fas fa-plus\"></i> Add Product\n            </AdminButton>\n            <AdminButton onClick={() => setActiveTab('content')}>\n              <i className=\"fas fa-edit\"></i> Manage Content\n            </AdminButton>\n            <AdminButton onClick={() => setActiveTab('orders')}>\n              <i className=\"fas fa-list\"></i> View Orders\n            </AdminButton>\n          </div>\n        </AdminCard>\n      </div>\n    </div>\n  );\n};\n\n// Product Management Component\nconst ProductManagement = () => {\n  const { products, fetchProducts, loading, error, createProduct, updateProduct } = useAppContext();\n  const [isAdding, setIsAdding] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<any>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n  const [imagePreviews, setImagePreviews] = useState<string[]>([]);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    imageClass: 'modern',\n    imageFile: null as File | null,\n    imageFiles: [] as File[]\n  });\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      const newFiles = Array.from(files);\n      setFormData(prev => ({\n        ...prev,\n        imageFiles: newFiles\n      }));\n\n      // Create preview URLs for the selected images\n      const newPreviews = newFiles.map(file => URL.createObjectURL(file));\n      setImagePreviews(newPreviews);\n\n      // Clean up the preview URLs when component unmounts or when new files are selected\n      newPreviews.forEach(previewUrl => {\n        return () => URL.revokeObjectURL(previewUrl);\n      });\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Prepare form data for submission\n    const productData: any = {\n      name: formData.name,\n      description: formData.description,\n      price: parseFloat(formData.price), // Ensure price is a number\n      category: formData.category,\n      imageClass: formData.imageClass\n    };\n    \n    // Handle image upload if files are selected\n    if (formData.imageFiles && formData.imageFiles.length > 0) {\n      try {\n        // Process all selected images\n        const imageUrls = await Promise.all(\n          formData.imageFiles.map(file => {\n            return new Promise<string>((resolve, reject) => {\n              const reader = new FileReader();\n              reader.onload = (e) => resolve(e.target?.result as string);\n              reader.onerror = (e) => reject(e);\n              reader.readAsDataURL(file);\n            });\n          })\n        );\n        \n        // Add the image URLs to the product data\n        productData.image_urls = imageUrls;\n        // Use the first image as the primary image for backward compatibility\n        productData.image_url = imageUrls[0];\n      } catch (error) {\n        console.error('Error processing image files:', error);\n        alert('Error processing image files. Please try again.');\n        return;\n      }\n    } else if (editingProduct) {\n      // If editing and no new images were selected, use existing images\n      productData.image_url = editingProduct.image_url;\n      productData.image_urls = editingProduct.images || [];\n    }\n    \n    try {\n      if (editingProduct) {\n        // Update existing product\n        await updateProduct(editingProduct.id, productData);\n        setEditingProduct(null);\n      } else {\n        // Add new product\n        await createProduct(productData);\n      }\n      \n      // Reset form\n      setFormData({\n        name: '',\n        description: '',\n        price: '',\n        category: '',\n        imageClass: 'modern',\n        imageFile: null,\n        imageFiles: []\n      });\n      setImagePreview(null);\n      setImagePreviews([]);\n      setIsAdding(false);\n      \n      // Show success message\n      alert(editingProduct ? 'Product updated successfully!' : 'Product added successfully!');\n      \n      // Refresh products list after successful update/add\n      fetchProducts();\n    } catch (error) {\n      console.error('Error saving product:', error);\n      alert(`Error saving product: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleEdit = (product: any) => {\n    setEditingProduct(product);\n    setFormData({\n      name: product.name || '',\n      description: product.description || '',\n      price: product.price?.toString() || '',\n      category: product.category || '',\n      imageClass: product.imageClass || 'modern',\n      imageFile: null,\n      imageFiles: []\n    });\n    // Set image previews to the existing images if available\n    if (product.images && product.images.length > 0) {\n      setImagePreviews(product.images);\n    } else if (product.image_url) {\n      setImagePreviews([product.image_url]);\n    }\n    setIsAdding(true);\n  };\n\n  const handleDelete = (productId: number) => {\n    if (window.confirm('Are you sure you want to delete this product?')) {\n      console.log('Deleting product:', productId);\n      // In a real app, this would call an API to delete the product\n    }\n  };\n\n  if (loading.products) {\n    return (\n      <div className=\"admin-loading\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading products...</p>\n      </div>\n    );\n  }\n\n  if (error.products) {\n    return (\n      <div className=\"admin-error\">\n        <p>Error loading products: {error.products}</p>\n        <button className=\"btn primary\" onClick={fetchProducts}>\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-products\">\n      <div className=\"admin-header\">\n        <h2>Product Management</h2>\n        <div className=\"admin-actions\">\n          <AdminButton onClick={() => setIsAdding(true)}>\n            <i className=\"fas fa-plus\"></i> Add Product\n          </AdminButton>\n        </div>\n      </div>\n      \n      {/* Add/Edit Product Form */}\n      {isAdding && (\n        <AdminCard>\n          <h3>{editingProduct ? 'Edit Product' : 'Add New Product'}</h3>\n          <form onSubmit={handleSubmit} className=\"admin-form\">\n            <div className=\"form-group\">\n              <label htmlFor=\"productName\">Product Name</label>\n              <input\n                type=\"text\"\n                id=\"productName\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                placeholder=\"Enter product name\"\n                required\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"productDescription\">Description</label>\n              <textarea\n                id=\"productDescription\"\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                placeholder=\"Enter product description\"\n                required\n                rows={4}\n              ></textarea>\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"productPrice\">Price (₹)</label>\n              <input\n                type=\"number\"\n                id=\"productPrice\"\n                name=\"price\"\n                value={formData.price}\n                onChange={handleInputChange}\n                placeholder=\"Enter price\"\n                required\n                min=\"0\"\n                step=\"0.01\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"productCategory\">Category</label>\n              <input\n                type=\"text\"\n                id=\"productCategory\"\n                name=\"category\"\n                value={formData.category}\n                onChange={handleInputChange}\n                placeholder=\"Enter category\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"productImageClass\">Image Class</label>\n              <select\n                id=\"productImageClass\"\n                name=\"imageClass\"\n                value={formData.imageClass}\n                onChange={handleInputChange}\n              >\n                <option value=\"modern\">Modern</option>\n                <option value=\"classic\">Classic</option>\n                <option value=\"coastal\">Coastal</option>\n                <option value=\"office\">Office</option>\n                <option value=\"hotel\">Hotel</option>\n                <option value=\"restaurant\">Restaurant</option>\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"productImage\">Product Images</label>\n              <input\n                type=\"file\"\n                id=\"productImage\"\n                name=\"productImage\"\n                accept=\"image/*\"\n                multiple\n                onChange={handleImageChange}\n              />\n              {imagePreviews.length > 0 && (\n                <div className=\"image-previews\">\n                  <p>Selected Images:</p>\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px', marginTop: '10px' }}>\n                    {imagePreviews.map((preview, index) => (\n                      <div key={index} style={{ border: '1px solid #ddd', padding: '5px', borderRadius: '4px' }}>\n                        <img \n                          src={preview} \n                          alt={`Product preview ${index + 1}`} \n                          style={{ maxWidth: '150px', maxHeight: '150px', display: 'block' }} \n                        />\n                        <small>Image {index + 1}</small>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              {editingProduct && editingProduct.images && editingProduct.images.length > 0 && imagePreviews.length === 0 && (\n                <div className=\"image-previews\">\n                  <p>Current Images:</p>\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px', marginTop: '10px' }}>\n                    {editingProduct.images.map((img: string, index: number) => (\n                      <div key={index} style={{ border: '1px solid #ddd', padding: '5px', borderRadius: '4px' }}>\n                        <img \n                          src={img} \n                          alt={`Current product image ${index + 1}`} \n                          style={{ maxWidth: '150px', maxHeight: '150px', display: 'block' }} \n                        />\n                        <small>Image {index + 1}</small>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n            \n            <div className=\"form-actions\">\n              <AdminButton type=\"button\" onClick={() => {\n                setIsAdding(false);\n                setFormData({\n                  name: '',\n                  description: '',\n                  price: '',\n                  category: '',\n                  imageClass: 'modern',\n                  imageFile: null,\n                  imageFiles: []\n                });\n                setImagePreview(null);\n                setImagePreviews([]);\n              }}>\n                Cancel\n              </AdminButton>\n              <AdminButton type=\"submit\">\n                {editingProduct ? 'Update Product' : 'Add Product'}\n              </AdminButton>\n            </div>\n          </form>\n        </AdminCard>\n      )}\n      \n      {/* Products Table */}\n      <AdminCard>\n        <h3>Existing Products</h3>\n        <div className=\"table-responsive\">\n          <table className=\"admin-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Price</th>\n                <th>Category</th>\n                <th>Stock Status</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {products.map((product: any) => (\n                <tr key={product.id}>\n                  <td>{product.id}</td>\n                  <td>{product.name}</td>\n                  <td>₹{product.price.toLocaleString()}</td>\n                  <td>{product.category || 'N/A'}</td>\n                  <td>\n                    <span className={`status-badge ${product.in_stock ? 'in-stock' : 'out-of-stock'}`}>\n                      {product.in_stock ? 'In Stock' : 'Out of Stock'}\n                    </span>\n                  </td>\n                  <td>\n                    <div className=\"table-actions\">\n                      <button \n                        className=\"btn secondary\" \n                        onClick={() => handleEdit(product)}\n                        style={{marginRight: '10px'}}\n                      >\n                        <i className=\"fas fa-edit\"></i> Edit\n                      </button>\n                      <button \n                        className=\"btn danger\" \n                        onClick={() => handleDelete(product.id)}\n                      >\n                        <i className=\"fas fa-trash\"></i> Delete\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </AdminCard>\n    </div>\n  );\n};\n\n// Order Management Component\nconst OrderManagement = () => {\n  return (\n    <div className=\"admin-orders\">\n      <div className=\"admin-header\">\n        <h2>Order Management</h2>\n        <div className=\"admin-actions\">\n          <AdminButton>\n            <i className=\"fas fa-sync\"></i> Refresh\n          </AdminButton>\n        </div>\n      </div>\n      \n      <AdminCard>\n        <h3>Manage Orders</h3>\n        <p>View and manage customer orders here.</p>\n      </AdminCard>\n    </div>\n  );\n};\n\n// User Management Component\nconst UserManagement = () => {\n  return (\n    <div className=\"admin-users\">\n      <div className=\"admin-header\">\n        <h2>User Management</h2>\n        <div className=\"admin-actions\">\n          <AdminButton>\n            <i className=\"fas fa-plus\"></i> Add User\n          </AdminButton>\n        </div>\n      </div>\n      \n      <AdminCard>\n        <h3>Manage Users</h3>\n        <p>View and manage user accounts here.</p>\n      </AdminCard>\n    </div>\n  );\n};\n\n// Content Management Component\nconst ContentManagement = () => {\n  const [contentItems, setContentItems] = useState([\n    { id: 1, title: 'Homepage Banner', type: 'banner', content: 'Welcome to Our Store - Amazing Deals Inside!', status: 'active' },\n    { id: 2, title: 'About Us Section', type: 'text', content: 'We are dedicated to providing high-quality products...', status: 'active' },\n    { id: 3, title: 'Footer Text', type: 'text', content: '© 2025 Our Store. All rights reserved.', status: 'active' },\n    { id: 4, title: 'Promotional Email', type: 'email', content: 'Special discount for our valued customers...', status: 'inactive' }\n  ]);\n  const [isAdding, setIsAdding] = useState(false);\n  const [editingContent, setEditingContent] = useState<any>(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    type: 'text',\n    content: '',\n    status: 'active'\n  });\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (editingContent) {\n      // Update existing content\n      setContentItems(prev => prev.map(item => \n        item.id === editingContent.id ? { ...formData, id: editingContent.id } : item\n      ));\n      setEditingContent(null);\n    } else {\n      // Add new content\n      const newContent = {\n        ...formData,\n        id: contentItems.length + 1\n      };\n      setContentItems(prev => [...prev, newContent]);\n    }\n    \n    // Reset form\n    setFormData({\n      title: '',\n      type: 'text',\n      content: '',\n      status: 'active'\n    });\n    setIsAdding(false);\n  };\n\n  const handleEdit = (item: any) => {\n    setEditingContent(item);\n    setFormData({\n      title: item.title,\n      type: item.type,\n      content: item.content,\n      status: item.status\n    });\n    setIsAdding(true);\n  };\n\n  const handleDelete = (id: number) => {\n    if (window.confirm('Are you sure you want to delete this content item?')) {\n      setContentItems(prev => prev.filter(item => item.id !== id));\n    }\n  };\n\n  return (\n    <div className=\"admin-content\">\n      <div className=\"admin-header\">\n        <h2>Content Management</h2>\n        <div className=\"admin-actions\">\n          <AdminButton onClick={() => {\n            setIsAdding(true);\n            setEditingContent(null);\n            setFormData({\n              title: '',\n              type: 'text',\n              content: '',\n              status: 'active'\n            });\n          }}>\n            <i className=\"fas fa-plus\"></i> Add Content\n          </AdminButton>\n        </div>\n      </div>\n\n      {isAdding && (\n        <AdminCard>\n          <h3>{editingContent ? 'Edit Content' : 'Add New Content'}</h3>\n          <form onSubmit={handleSubmit} className=\"admin-form\">\n            <div className=\"form-group\">\n              <label htmlFor=\"contentTitle\">Title</label>\n              <input\n                type=\"text\"\n                id=\"contentTitle\"\n                name=\"title\"\n                value={formData.title}\n                onChange={handleInputChange}\n                placeholder=\"Enter content title\"\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"contentType\">Type</label>\n              <select\n                id=\"contentType\"\n                name=\"type\"\n                value={formData.type}\n                onChange={handleInputChange}\n              >\n                <option value=\"text\">Text</option>\n                <option value=\"banner\">Banner</option>\n                <option value=\"email\">Email</option>\n                <option value=\"image\">Image</option>\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"contentStatus\">Status</label>\n              <select\n                id=\"contentStatus\"\n                name=\"status\"\n                value={formData.status}\n                onChange={handleInputChange}\n              >\n                <option value=\"active\">Active</option>\n                <option value=\"inactive\">Inactive</option>\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"contentBody\">Content</label>\n              <textarea\n                id=\"contentBody\"\n                name=\"content\"\n                value={formData.content}\n                onChange={handleInputChange}\n                placeholder=\"Enter content\"\n                required\n                rows={4}\n              ></textarea>\n            </div>\n\n            <div className=\"form-actions\">\n              <AdminButton \n                type=\"button\" \n                onClick={() => {\n                  setIsAdding(false);\n                  setEditingContent(null);\n                }}\n              >\n                Cancel\n              </AdminButton>\n              <AdminButton type=\"submit\">\n                {editingContent ? 'Update Content' : 'Add Content'}\n              </AdminButton>\n            </div>\n          </form>\n        </AdminCard>\n      )}\n\n      <AdminCard>\n        <h3>Content Items</h3>\n        <div className=\"table-responsive\">\n          <table className=\"admin-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Title</th>\n                <th>Type</th>\n                <th>Status</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {contentItems.map((item) => (\n                <tr key={item.id}>\n                  <td>{item.id}</td>\n                  <td>{item.title}</td>\n                  <td>\n                    <span className={`badge ${item.type}`}>\n                      {item.type.charAt(0).toUpperCase() + item.type.slice(1)}\n                    </span>\n                  </td>\n                  <td>\n                    <span className={`status-badge ${item.status}`}>\n                      {item.status}\n                    </span>\n                  </td>\n                  <td>\n                    <div className=\"table-actions\">\n                      <button\n                        className=\"btn secondary\"\n                        onClick={() => handleEdit(item)}\n                        style={{marginRight: '10px'}}\n                      >\n                        <i className=\"fas fa-edit\"></i> Edit\n                      </button>\n                      <button\n                        className=\"btn danger\"\n                        onClick={() => handleDelete(item.id)}\n                      >\n                        <i className=\"fas fa-trash\"></i> Delete\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </AdminCard>\n    </div>\n  );\n};\n\n// Settings Content Component\nconst SettingsContent = () => {\n  return (\n    <div className=\"admin-settings\">\n      <div className=\"admin-header\">\n        <h2>Settings</h2>\n        <div className=\"admin-actions\">\n          <AdminButton>\n            <i className=\"fas fa-save\"></i> Save\n          </AdminButton>\n        </div>\n      </div>\n      \n      <AdminCard>\n        <h3>Site Settings</h3>\n        <p>Configure site-wide settings and preferences.</p>\n      </AdminCard>\n    </div>\n  );\n};\n\nexport default AdminDashboard;","import AdminDashboard from '@/components/AdminDashboard'\n\nexport default function Admin() {\n  return <AdminDashboard />\n}"],"names":["React","useState","useEffect","useRouter","useAppContext","Header","AdminContainer","AdminHeader","AdminSidebar","AdminContent","AdminCard","AdminButton","AdminDashboard","router","navigate","path","push","user","logout","activeTab","setActiveTab","currentPath","window","location","pathname","encodeURIComponent","role","alert","handleLogout","adminNavigation","id","label","icon","renderContent","map","item","DashboardContent","tab","products","orders","fetchProducts","fetchOrders","loading","error","stats","setStats","totalProducts","totalOrders","totalCustomers","totalRevenue","recentOrders","setRecentOrders","fetchDashboardData","err","console","length","reduce","sum","order","total","uniqueCustomers","Set","user_id","sortedOrders","sort","a","b","Date","created_at","getTime","slice","toLocaleString","createdAt","toLocaleDateString","status","ProductManagement","createProduct","updateProduct","isAdding","setIsAdding","editingProduct","setEditingProduct","imagePreview","setImagePreview","imagePreviews","setImagePreviews","formData","setFormData","name","description","price","category","imageClass","imageFile","File","imageFiles","handleInputChange","e","ChangeEvent","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","value","target","prev","handleImageChange","files","newFiles","Array","from","newPreviews","file","URL","createObjectURL","forEach","previewUrl","revokeObjectURL","handleSubmit","FormEvent","preventDefault","productData","parseFloat","imageUrls","Promise","all","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","image_urls","image_url","images","Error","message","handleEdit","product","toString","handleDelete","productId","confirm","log","display","flexWrap","gap","marginTop","preview","index","border","padding","borderRadius","maxWidth","maxHeight","img","in_stock","marginRight","OrderManagement","UserManagement","ContentManagement","contentItems","setContentItems","title","type","content","editingContent","setEditingContent","newContent","filter","charAt","toUpperCase","SettingsContent","Admin"],"mappings":"2UAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,mSAAqS,EAClU,kEACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,+QAAiR,EAC9S,8CACA,mIELJ,EAA2B,CAApBY,CAAiD,CAAA,CAAA,OAAA,AAEzC,IAFM,KAEGkK,CAFG,GAGzB,CAD2BA,CAAA,EAAG,EACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,CAAG,EAC3B","ignoreList":[0]}