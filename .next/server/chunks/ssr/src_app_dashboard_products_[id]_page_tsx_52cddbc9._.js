module.exports=[14658,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944),f=a.i(56025),g=a.i(88852);function h({productId:a,images:e,onImagesChange:f}){let[g,h]=(0,d.useState)(e||[]),[i,j]=(0,d.useState)(!1),[k,l]=(0,d.useState)(""),m=(0,d.useRef)(null),n=async b=>{let c=b.target.files;if(c&&0!==c.length){j(!0),l("Uploading images to Cloudflare R2...");try{let b=new FormData;b.append("productId",a),b.append("isPrimary",0===g.length?"true":"false"),Array.from(c).forEach(a=>{b.append("images",a)});let d=await fetch("/api/products/images/upload",{method:"POST",body:b}),e=await d.json();if(e.success){let a=e.results.filter(a=>a.success).length;l(`Successfully uploaded ${a} image(s) to Cloudflare R2!`);let b=e.results.filter(a=>a.success).map(a=>({id:a.imageId,url:a.url,cloudflare_image_id:a.cloudflareImageId,is_primary:a.isPrimary,display_order:g.length+e.results.indexOf(a)}));h([...g,...b]),f?.(),setTimeout(()=>l(""),3e3)}else{let a=e.error||e.message||"Upload failed";console.error("Upload failed:",e),l(`Error: ${a}`)}}catch(b){console.error("Upload error:",b);let a=b?.message||b?.toString()||"An unexpected error occurred";l(`Error: ${a}`)}finally{j(!1),m.current&&(m.current.value="")}}},o=async a=>{if(confirm("Are you sure you want to delete this image? It will also be removed from Cloudflare R2."))try{let b=await fetch(`/api/products/images/${a}`,{method:"DELETE"}),c=await b.json();c.success?(h(g.filter(b=>b.id!==a)),f?.()):alert(`Error: ${c.error}`)}catch(a){console.error("Delete error:",a),alert(`Error: ${a.message}`)}},p=async a=>{try{let b=await fetch(`/api/products/images/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPrimary:!0})}),c=await b.json();c.success?(h(g.map(b=>({...b,is_primary:b.id===a}))),f?.()):alert(`Error: ${c.error}`)}catch(a){console.error("Set primary error:",a),alert(`Error: ${a.message}`)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{id:"4f533d39a41412ca",children:"@media (width<=768px){.image-grid.jsx-4f533d39a41412ca{grid-template-columns:repeat(2,1fr)!important}.image-header.jsx-4f533d39a41412ca{flex-direction:column!important;align-items:stretch!important;gap:12px!important}.image-header.jsx-4f533d39a41412ca button.jsx-4f533d39a41412ca{width:100%!important}}"}),(0,b.jsxs)("div",{className:"jsx-4f533d39a41412ca",children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},className:"jsx-4f533d39a41412ca image-header",children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{style:{fontSize:"20px",color:"#c19a6b"},className:"jsx-4f533d39a41412ca fas fa-images"}),(0,b.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#333",margin:0},className:"jsx-4f533d39a41412ca",children:"Product Images"})]}),(0,b.jsx)("button",{onClick:()=>m.current?.click(),disabled:i,style:{padding:"10px 20px",background:i?"#999":"linear-gradient(135deg, #c19a6b, #a67c52)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(193, 154, 107, 0.2)"},className:"jsx-4f533d39a41412ca",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"},className:"jsx-4f533d39a41412ca"}),"Uploading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"jsx-4f533d39a41412ca fas fa-cloud-upload-alt"}),"Upload Images"]})}),(0,b.jsx)("input",{ref:m,type:"file",multiple:!0,accept:"image/*",onChange:n,style:{display:"none"},className:"jsx-4f533d39a41412ca"})]}),k&&(0,b.jsxs)("div",{style:{padding:"16px 20px",marginBottom:"20px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",background:k.startsWith("Error")?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",border:k.startsWith("Error")?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(34, 197, 94, 0.3)"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{style:{fontSize:"20px",color:k.startsWith("Error")?"#ef4444":"#16a34a"},className:"jsx-4f533d39a41412ca "+((k.startsWith("Error")?"fas fa-exclamation-circle":"fas fa-check-circle")||"")}),(0,b.jsx)("p",{style:{color:k.startsWith("Error")?"#ef4444":"#16a34a",fontSize:"14px",fontWeight:"600",margin:0},className:"jsx-4f533d39a41412ca",children:k})]}),0===g.length?(0,b.jsxs)("div",{style:{border:"2px dashed #e8d5c4",borderRadius:"12px",padding:"64px 32px",textAlign:"center",background:"rgba(193, 154, 107, 0.02)"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{style:{fontSize:"64px",color:"#e8d5c4",marginBottom:"16px"},className:"jsx-4f533d39a41412ca fas fa-cloud-upload-alt"}),(0,b.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#333",marginBottom:"8px"},className:"jsx-4f533d39a41412ca",children:"No images uploaded yet"}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"#666",marginBottom:"20px"},className:"jsx-4f533d39a41412ca",children:"Upload your first product image to Cloudflare R2"}),(0,b.jsxs)("button",{onClick:()=>m.current?.click(),style:{padding:"10px 24px",background:"linear-gradient(135deg, #c19a6b, #a67c52)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{className:"jsx-4f533d39a41412ca fas fa-plus"}),"Upload Images"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},className:"jsx-4f533d39a41412ca image-grid",children:g.map(a=>(0,b.jsx)("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",border:"2px solid #e8d5c4",transition:"all 0.2s ease",background:"white"},onMouseEnter:a=>{a.currentTarget.style.borderColor="#c19a6b",a.currentTarget.style.transform="translateY(-2px)",a.currentTarget.style.boxShadow="0 8px 16px rgba(193, 154, 107, 0.15)"},onMouseLeave:a=>{a.currentTarget.style.borderColor="#e8d5c4",a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="none"},className:"jsx-4f533d39a41412ca",children:(0,b.jsxs)("div",{style:{position:"relative",paddingTop:"100%",background:"linear-gradient(135deg, #f8f4f0, #efe9e3)"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("img",{src:a.url,alt:"Product",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},className:"jsx-4f533d39a41412ca"}),a.is_primary&&(0,b.jsxs)("div",{style:{position:"absolute",top:"8px",left:"8px",padding:"4px 10px",background:"linear-gradient(135deg, #c19a6b, #a67c52)",color:"white",borderRadius:"6px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{style:{marginRight:"4px"},className:"jsx-4f533d39a41412ca fas fa-star"}),"Primary"]}),(0,b.jsxs)("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.7)",opacity:0,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"opacity 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.opacity="1"},onMouseLeave:a=>{a.currentTarget.style.opacity="0"},className:"jsx-4f533d39a41412ca",children:[!a.is_primary&&(0,b.jsxs)("button",{onClick:()=>p(a.id),style:{padding:"8px 14px",background:"white",color:"#333",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{className:"jsx-4f533d39a41412ca fas fa-star"}),"Set Primary"]}),(0,b.jsxs)("button",{onClick:()=>o(a.id),style:{padding:"8px 14px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{className:"jsx-4f533d39a41412ca fas fa-trash"}),"Delete"]})]})]})},a.id))}),(0,b.jsx)("div",{style:{padding:"12px 16px",background:"rgba(193, 154, 107, 0.05)",borderRadius:"8px",border:"1px solid #e8d5c4"},className:"jsx-4f533d39a41412ca",children:(0,b.jsxs)("p",{style:{fontSize:"13px",color:"#666",margin:0,lineHeight:"1.5"},className:"jsx-4f533d39a41412ca",children:[(0,b.jsx)("i",{style:{marginRight:"8px",color:"#c19a6b"},className:"jsx-4f533d39a41412ca fas fa-info-circle"}),(0,b.jsx)("strong",{className:"jsx-4f533d39a41412ca",children:g.length})," image(s) stored in Cloudflare R2. The primary image will be displayed in product listings and can be marked with the star icon."]})})]})]})]})}function i({params:a}){let i=(0,e.useRouter)(),{user:j}=(0,f.useAuth)(),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(!0),[o,p]=(0,d.useState)(!1),[q,r]=(0,d.useState)(null),[s,t]=(0,d.useState)(null),[u,v]=(0,d.useState)(null),[w,x]=(0,d.useState)({name:"",description:"",price:"",original_price:"",sale_price:"",category:"",stock_quantity:""});(0,d.useEffect)(()=>{a.then(a=>v(a.id))},[]),(0,d.useEffect)(()=>{j?"admin"!==j.role?i.push("/dashboard"):u&&y():i.push("/auth?redirect=/dashboard/products")},[j,u]);let y=async()=>{if(u){if("new"===u)return void n(!1);try{n(!0);let a=await fetch(`/api/products/${u}`),b=await a.json();b.success?(l(b.data),x({name:b.data.name,description:b.data.description,price:b.data.price.toString(),original_price:b.data.original_price?.toString()||"",sale_price:b.data.sale_price?.toString()||"",category:b.data.category||"",stock_quantity:b.data.stock_quantity?.toString()||"0"})):r(b.error||"Failed to load product")}catch(a){console.error("Error loading product:",a),r(a.message||"Failed to load product")}finally{n(!1)}}},z=a=>{x({...w,[a.target.name]:a.target.value})},A=async a=>{if(a.preventDefault(),u){p(!0),r(null),t(null);try{let a="new"===u,b=a?"/api/products":`/api/products/${u}`,c=await fetch(b,{method:a?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name,description:w.description,price:parseFloat(w.price),original_price:w.original_price?parseFloat(w.original_price):null,sale_price:w.sale_price?parseFloat(w.sale_price):null,category:w.category,stock_quantity:parseInt(w.stock_quantity)||0})}),d=await c.json();d.success?a?(t("Product created successfully! Redirecting..."),setTimeout(()=>{i.push(`/dashboard/products/${d.data.id}`)},1e3)):(t("Product updated successfully!"),y(),setTimeout(()=>t(null),3e3)):r(d.error||`Failed to ${a?"create":"update"} product`)}catch(a){console.error("Error saving product:",a),r(a.message||"Failed to save product")}finally{p(!1)}}},B=async()=>{if(u&&confirm("Are you sure you want to delete this product? This action cannot be undone."))try{let a=await fetch(`/api/products/${u}`,{method:"DELETE"}),b=await a.json();b.success?(t("Product deleted successfully"),setTimeout(()=>{i.push("/dashboard/products")},1e3)):r(b.error||"Failed to delete product")}catch(a){console.error("Error deleting product:",a),r(a.message||"Failed to delete product")}};return!j||m?(0,b.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8f4f0 0%, #efe9e3 100%)"},children:(0,b.jsxs)("div",{style:{textAlign:"center"},className:"jsx-776cdcbc0448e4ea",children:[(0,b.jsx)("div",{style:{width:"48px",height:"48px",border:"3px solid #f0f0f0",borderTop:"3px solid #c19a6b",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-776cdcbc0448e4ea"}),(0,b.jsx)(c.default,{id:"776cdcbc0448e4ea",children:"@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"}),(0,b.jsx)("p",{style:{marginTop:"16px",color:"#666",fontSize:"14px"},className:"jsx-776cdcbc0448e4ea",children:"Loading product..."})]})}):q&&!k?(0,b.jsx)(g.default,{title:"Error",description:"Failed to load product",children:(0,b.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"64px 32px",textAlign:"center",boxShadow:"0 4px 12px rgba(193, 154, 107, 0.08)",border:"1px solid #e8d5c4"},children:[(0,b.jsx)("i",{className:"fas fa-exclamation-circle",style:{fontSize:"64px",color:"#ef4444",marginBottom:"16px"}}),(0,b.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#333",marginBottom:"8px"},children:"Error Loading Product"}),(0,b.jsx)("p",{style:{color:"#666",fontSize:"14px",marginBottom:"24px"},children:q}),(0,b.jsx)("button",{onClick:()=>i.push("/dashboard/products"),style:{padding:"10px 24px",background:"linear-gradient(135deg, #c19a6b, #a67c52)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Back to Products"})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{id:"1a2218f16ba3bdb4",children:"@media (width<=768px){.product-form-grid.jsx-1a2218f16ba3bdb4{grid-template-columns:1fr!important}.action-bar.jsx-1a2218f16ba3bdb4{flex-direction:column!important;gap:12px!important}.action-bar.jsx-1a2218f16ba3bdb4 button.jsx-1a2218f16ba3bdb4{width:100%!important}}"}),(0,b.jsxs)(g.default,{title:"new"===u?"Create New Product":`Edit Product${k?`: ${k.name}`:""}`,description:"new"===u?"Add a new product to your catalog":"Update product details, manage images, and configure settings.",children:[(0,b.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",boxShadow:"0 4px 12px rgba(193, 154, 107, 0.08)",border:"1px solid #e8d5c4",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-1a2218f16ba3bdb4 action-bar",children:[(0,b.jsxs)("button",{onClick:()=>i.push("/dashboard/products"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"transparent",color:"#666",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.background="rgba(193, 154, 107, 0.05)",a.currentTarget.style.color="#c19a6b"},onMouseLeave:a=>{a.currentTarget.style.background="transparent",a.currentTarget.style.color="#666"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{className:"jsx-1a2218f16ba3bdb4 fas fa-arrow-left"}),"Back to Products"]}),"new"!==u&&(0,b.jsxs)("button",{onClick:B,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"transparent",color:"#ef4444",border:"1px solid #fecaca",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.background="#ef4444",a.currentTarget.style.color="white"},onMouseLeave:a=>{a.currentTarget.style.background="transparent",a.currentTarget.style.color="#ef4444"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{className:"jsx-1a2218f16ba3bdb4 fas fa-trash"}),"Delete Product"]})]}),s&&(0,b.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{style:{fontSize:"20px",color:"#16a34a"},className:"jsx-1a2218f16ba3bdb4 fas fa-check-circle"}),(0,b.jsx)("p",{style:{color:"#16a34a",fontSize:"14px",fontWeight:"600",margin:0},className:"jsx-1a2218f16ba3bdb4",children:s})]}),q&&k&&(0,b.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{style:{fontSize:"20px",color:"#ef4444"},className:"jsx-1a2218f16ba3bdb4 fas fa-exclamation-circle"}),(0,b.jsx)("p",{style:{color:"#ef4444",fontSize:"14px",fontWeight:"600",margin:0},className:"jsx-1a2218f16ba3bdb4",children:q})]}),(0,b.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 4px 12px rgba(193, 154, 107, 0.08)",border:"1px solid #e8d5c4"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{style:{fontSize:"20px",color:"#c19a6b"},className:"jsx-1a2218f16ba3bdb4 fas fa-edit"}),(0,b.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#333",margin:0},className:"jsx-1a2218f16ba3bdb4",children:"Product Details"})]}),(0,b.jsx)("form",{onSubmit:A,className:"jsx-1a2218f16ba3bdb4",children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Product Name *"}),(0,b.jsx)("input",{type:"text",name:"name",value:w.name,onChange:z,required:!0,style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none"},className:"jsx-1a2218f16ba3bdb4"})]}),(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Description *"}),(0,b.jsx)("textarea",{name:"description",value:w.description,onChange:z,required:!0,rows:4,style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none",fontFamily:"inherit",resize:"vertical"},className:"jsx-1a2218f16ba3bdb4"})]}),(0,b.jsxs)("div",{style:{background:"rgba(193, 154, 107, 0.05)",borderRadius:"8px",padding:"16px",border:"1px solid #e8d5c4"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsxs)("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#333",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{style:{color:"#c19a6b"},className:"jsx-1a2218f16ba3bdb4 fas fa-tags"}),"Pricing"]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px"},className:"jsx-1a2218f16ba3bdb4 product-form-grid",children:[(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Current Price (₹) *"}),(0,b.jsx)("input",{type:"number",name:"price",value:w.price,onChange:z,required:!0,min:"0",step:"0.01",style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none"},className:"jsx-1a2218f16ba3bdb4"}),(0,b.jsx)("p",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},className:"jsx-1a2218f16ba3bdb4",children:"The primary price used"})]}),(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Original Price (₹)"}),(0,b.jsx)("input",{type:"number",name:"original_price",value:w.original_price,onChange:z,min:"0",step:"0.01",placeholder:"Full retail price",style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none"},className:"jsx-1a2218f16ba3bdb4"}),(0,b.jsx)("p",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},className:"jsx-1a2218f16ba3bdb4",children:"Shown as strikethrough price"})]}),(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Sale Price (₹)"}),(0,b.jsx)("input",{type:"number",name:"sale_price",value:w.sale_price,onChange:z,min:"0",step:"0.01",placeholder:"Discounted price",style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none"},className:"jsx-1a2218f16ba3bdb4"}),(0,b.jsx)("p",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},className:"jsx-1a2218f16ba3bdb4",children:"Displayed price (falls back to Current Price)"})]})]}),w.original_price&&w.sale_price&&parseFloat(w.original_price)>parseFloat(w.sale_price)&&(0,b.jsxs)("div",{style:{marginTop:"12px",padding:"8px 12px",background:"rgba(231, 76, 60, 0.1)",borderRadius:"6px",display:"flex",alignItems:"center",gap:"8px"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("i",{style:{color:"#e74c3c"},className:"jsx-1a2218f16ba3bdb4 fas fa-percent"}),(0,b.jsxs)("span",{style:{fontSize:"13px",color:"#e74c3c",fontWeight:"600"},className:"jsx-1a2218f16ba3bdb4",children:["Discount: ",Math.round((parseFloat(w.original_price)-parseFloat(w.sale_price))/parseFloat(w.original_price)*100),"% OFF"]})]})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},className:"jsx-1a2218f16ba3bdb4 product-form-grid",children:[(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Stock Quantity"}),(0,b.jsx)("input",{type:"number",name:"stock_quantity",value:w.stock_quantity,onChange:z,min:"0",style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none"},className:"jsx-1a2218f16ba3bdb4"})]}),(0,b.jsxs)("div",{className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"8px"},className:"jsx-1a2218f16ba3bdb4",children:"Category"}),(0,b.jsxs)("select",{name:"category",value:w.category,onChange:z,style:{width:"100%",padding:"10px 14px",border:"1px solid #e8d5c4",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",background:"white"},className:"jsx-1a2218f16ba3bdb4",children:[(0,b.jsx)("option",{value:"",className:"jsx-1a2218f16ba3bdb4",children:"Select category"}),(0,b.jsx)("option",{value:"Living Room",className:"jsx-1a2218f16ba3bdb4",children:"Living Room"}),(0,b.jsx)("option",{value:"Dining Room",className:"jsx-1a2218f16ba3bdb4",children:"Dining Room"}),(0,b.jsx)("option",{value:"Bedroom",className:"jsx-1a2218f16ba3bdb4",children:"Bedroom"}),(0,b.jsx)("option",{value:"Office",className:"jsx-1a2218f16ba3bdb4",children:"Office"})]})]})]}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:"12px"},className:"jsx-1a2218f16ba3bdb4",children:(0,b.jsx)("button",{type:"submit",disabled:o,style:{padding:"10px 32px",background:o?"#999":"linear-gradient(135deg, #c19a6b, #a67c52)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(193, 154, 107, 0.2)"},className:"jsx-1a2218f16ba3bdb4",children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"},className:"jsx-1a2218f16ba3bdb4"}),"new"===u?"Creating...":"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"jsx-1a2218f16ba3bdb4 "+(("new"===u?"fas fa-plus":"fas fa-save")||"")}),"new"===u?"Create Product":"Save Changes"]})})})]})})]}),k&&(0,b.jsx)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 4px 12px rgba(193, 154, 107, 0.08)",border:"1px solid #e8d5c4"},className:"jsx-1a2218f16ba3bdb4",children:(0,b.jsx)(h,{productId:k.id,images:k.images,onImagesChange:y})})]})]})}a.s(["default",()=>i],14658)}];

//# sourceMappingURL=src_app_dashboard_products_%5Bid%5D_page_tsx_52cddbc9._.js.map