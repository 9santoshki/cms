module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},66620,(a,b,c)=>{"use strict";b.exports=a.r(81211).vendored.contexts.AppRouterContext},2086,(a,b,c)=>{"use strict";b.exports=a.r(81211).vendored.contexts.HooksClientContext},45895,(a,b,c)=>{"use strict";b.exports=a.r(81211).vendored.contexts.ServerInsertedHtml},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},7579,a=>{"use strict";a.s(["calculateCartTotal",0,a=>a.reduce((a,b)=>a+("number"==typeof b.price?b.price:parseFloat(b.price||"0"))*b.quantity,0),"calculateShippingCost",0,a=>a>5e4?0:1500])},25809,a=>{"use strict";var b=a.i(54715),c=a.i(47937),d=a.i(49984),e=a.i(12851),f=a.i(20898),g=a.i(7579);a.s(["default",0,()=>{let a=(0,d.useRouter)(),h=b=>{a.push(b)},{cartItems:i,loading:j,error:k,setError:l,createOrder:m}=(0,e.useAppContext)(),[n,o]=(0,c.useState)({name:"",email:"",phone:"",address:"",city:"",zipCode:"",paymentMethod:"credit-card"}),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)({}),{user:t}=(0,e.useAppContext)();(0,c.useEffect)(()=>{t&&o(a=>({...a,name:t.name||"",email:t.email||""}))},[t]);let u=a=>{let{name:b,value:c}=a.target;o({...n,[b]:c}),r[b]&&s(a=>({...a,[b]:""})),k.orders&&l("orders","")},v=(0,g.calculateCartTotal)(i),w=(0,g.calculateShippingCost)(v),x=v+w,y=async a=>{let b,c;if(a.preventDefault(),b={},c=!0,n.name.trim()||(b.name="Full name is required",c=!1),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(b.email="Please enter a valid email address",c=!1):(b.email="Email is required",c=!1),n.phone.trim()||(b.phone="Phone number is required",c=!1),n.address.trim()||(b.address="Address is required",c=!1),n.city.trim()||(b.city="City is required",c=!1),n.zipCode.trim()||(b.zipCode="ZIP code is required",c=!1),s(b),c)try{let a={customer:n,items:i.map(a=>({id:a.id,quantity:a.quantity,price:"number"==typeof a.price?a.price.toString():a.price,name:a.name})),total_amount:x.toString(),status:"pending",created_at:new Date().toISOString()};await m(a),q(!0),setTimeout(()=>{q(!1),h("/")},5e3)}catch(a){console.error("Checkout error:",a),l("orders","Failed to place order. Please try again.")}};return p?(0,b.jsxs)("div",{className:"order-confirmation-page",children:[(0,b.jsx)(f.default,{}),(0,b.jsxs)("div",{className:"confirmation-content",children:[(0,b.jsx)("i",{className:"fas fa-check-circle confirmation-icon"}),(0,b.jsx)("h2",{children:"Order Confirmed!"}),(0,b.jsxs)("p",{children:["Thank you for your purchase. We've sent a confirmation email to ",n.email,"."]}),(0,b.jsxs)("p",{children:["Your order number is #",Math.floor(1e7*Math.random())]}),(0,b.jsx)("p",{children:"Redirecting to home page..."})]})]}):0===i.length?(0,b.jsxs)("div",{className:"checkout-page",children:[(0,b.jsx)(f.default,{}),(0,b.jsx)("div",{className:"checkout-header",children:(0,b.jsx)("h1",{children:"Checkout"})}),(0,b.jsxs)("div",{className:"empty-cart",children:[(0,b.jsx)("i",{className:"fas fa-shopping-cart"}),(0,b.jsx)("h2",{children:"Your cart is empty"}),(0,b.jsx)("p",{children:"You need to add items to your cart before checking out."}),(0,b.jsx)("button",{className:"btn primary",onClick:()=>h("/shop"),children:"Continue Shopping"})]})]}):(0,b.jsxs)("div",{className:"checkout-page",children:[(0,b.jsx)(f.default,{}),(0,b.jsxs)("div",{className:"checkout-header",children:[(0,b.jsx)("h1",{children:"Checkout"}),(0,b.jsxs)("div",{className:"checkout-progress",children:[(0,b.jsxs)("div",{className:"progress-step active",children:[(0,b.jsx)("span",{className:"step-number",children:"1"}),(0,b.jsx)("span",{className:"step-label",children:"Cart"})]}),(0,b.jsx)("div",{className:"progress-line"}),(0,b.jsxs)("div",{className:"progress-step active",children:[(0,b.jsx)("span",{className:"step-number",children:"2"}),(0,b.jsx)("span",{className:"step-label",children:"Information"})]}),(0,b.jsx)("div",{className:"progress-line"}),(0,b.jsxs)("div",{className:"progress-step",children:[(0,b.jsx)("span",{className:"step-number",children:"3"}),(0,b.jsx)("span",{className:"step-label",children:"Payment"})]}),(0,b.jsx)("div",{className:"progress-line"}),(0,b.jsxs)("div",{className:"progress-step",children:[(0,b.jsx)("span",{className:"step-number",children:"4"}),(0,b.jsx)("span",{className:"step-label",children:"Confirmation"})]})]})]}),k.orders&&(0,b.jsx)("div",{className:"error-message",children:k.orders}),(0,b.jsxs)("div",{className:"checkout-container",children:[(0,b.jsx)("div",{className:"checkout-form-section",children:(0,b.jsxs)("form",{onSubmit:y,className:"checkout-form",children:[(0,b.jsxs)("div",{className:"form-section",children:[(0,b.jsx)("h2",{children:"Shipping Information"}),(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,b.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:u,className:r.name?"error":"",required:!0}),r.name&&(0,b.jsx)("span",{className:"error-text",children:r.name})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,b.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,className:r.email?"error":"",required:!0}),r.email&&(0,b.jsx)("span",{className:"error-text",children:r.email})]})]}),(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:u,className:r.phone?"error":"",required:!0}),r.phone&&(0,b.jsx)("span",{className:"error-text",children:r.phone})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code *"}),(0,b.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:n.zipCode,onChange:u,className:r.zipCode?"error":"",required:!0}),r.zipCode&&(0,b.jsx)("span",{className:"error-text",children:r.zipCode})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"address",children:"Street Address *"}),(0,b.jsx)("textarea",{id:"address",name:"address",value:n.address,onChange:u,className:r.address?"error":"",required:!0,rows:2}),r.address&&(0,b.jsx)("span",{className:"error-text",children:r.address})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"city",children:"City *"}),(0,b.jsx)("input",{type:"text",id:"city",name:"city",value:n.city,onChange:u,className:r.city?"error":"",required:!0}),r.city&&(0,b.jsx)("span",{className:"error-text",children:r.city})]})]}),(0,b.jsxs)("div",{className:"form-section",children:[(0,b.jsx)("h2",{children:"Payment Method"}),(0,b.jsx)("div",{className:"payment-options",children:[{id:"credit-card",label:"Credit Card",icon:"fas fa-credit-card"},{id:"paypal",label:"PayPal",icon:"fab fa-paypal"},{id:"cod",label:"Cash on Delivery",icon:"fas fa-money-bill-wave"}].map(a=>(0,b.jsxs)("label",{className:"payment-option",children:[(0,b.jsx)("input",{type:"radio",name:"paymentMethod",value:a.id,checked:n.paymentMethod===a.id,onChange:u}),(0,b.jsxs)("div",{className:"payment-option-content",children:[(0,b.jsx)("div",{className:"payment-icon",children:(0,b.jsx)("i",{className:a.icon})}),(0,b.jsx)("div",{className:"payment-info",children:(0,b.jsx)("span",{className:"payment-title",children:a.label})})]})]},a.id))})]}),(0,b.jsx)("button",{type:"submit",className:"btn primary checkout-button",disabled:j.orders,children:j.orders?"Processing Order...":`Complete Order - ₹${x.toLocaleString()}`})]})}),(0,b.jsx)("div",{className:"checkout-summary-section",children:(0,b.jsxs)("div",{className:"checkout-summary",children:[(0,b.jsx)("h2",{children:"Order Summary"}),(0,b.jsx)("div",{className:"summary-items",children:i.map(a=>(0,b.jsxs)("div",{className:"summary-item",children:[(0,b.jsxs)("div",{className:"item-details",children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsxs)("p",{children:["Qty: ",a.quantity]})]}),(0,b.jsxs)("div",{className:"item-price",children:["₹","number"==typeof a.price?(a.price*a.quantity).toLocaleString():(parseFloat(a.price||"0")*a.quantity).toLocaleString()]})]},a.id))}),(0,b.jsxs)("div",{className:"summary-totals",children:[(0,b.jsxs)("div",{className:"total-row",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsxs)("span",{children:["₹",v.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"total-row",children:[(0,b.jsx)("span",{children:"Shipping"}),(0,b.jsx)("span",{children:0===w?"FREE":`₹${w.toLocaleString()}`})]}),(0,b.jsxs)("div",{className:"total-row grand-total",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:["₹",x.toLocaleString()]})]})]})]})})]})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c932afd0._.js.map