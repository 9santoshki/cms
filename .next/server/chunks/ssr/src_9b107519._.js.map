{"version":3,"sources":["turbopack:///[project]/src/context/AppContext.tsx","turbopack:///[project]/src/context/CombinedAppContext.ts","turbopack:///[project]/src/utils/cartUtils.ts","turbopack:///[project]/src/styles/CheckoutStyles.ts","turbopack:///[project]/src/app/checkout/page.tsx"],"sourcesContent":["// Modular Context System\n// This file now serves as an index for the modular context system.\n// The original monolithic AppContext has been split into smaller, focused contexts:\n// \n// - AuthContext: Handles authentication state (user, token, login, logout)\n// - CartContext: Manages shopping cart functionality\n// - ProductContext: Handles products, orders, and appointments\n// - UIContext: Manages UI state (loading, errors)\n//\n// To use these contexts in your components, import the specific context you need:\n//\n// import { useAuth } from '@/context/AuthContext';\n// import { useCart } from '@/context/CartContext';\n// import { useProduct } from '@/context/ProductContext';\n// import { useUI } from '@/context/UIContext';\n\nexport { useAuth } from './AuthContext';\nexport { useCart } from './CartContext';\nexport { useProduct } from './ProductContext';\nexport { useUI } from './UIContext';\nexport { AppProvider } from './AppProvider';\nexport { useAppContext } from './CombinedAppContext';","import { useAuth } from './AuthContext';\nimport { useProduct } from './ProductContext';\nimport { useCart } from './CartContext';\nimport { useUI } from './UIContext';\n\n// Define the types based on UIContext interface\ninterface LoadingState {\n  products: boolean;\n  cart: boolean;\n  orders: boolean;\n  appointments: boolean;\n  auth: boolean;\n  user: boolean;\n}\ninterface ErrorState {\n  products: string | null;\n  cart: string | null;\n  orders: string | null;\n  appointments: string | null;\n  auth: string | null;\n  user: string | null;\n}\n\n// Define the combined context interface\ninterface CombinedAppContext {\n  // Auth context\n  user: any;\n  token: string | null;\n  loading: any;\n  error: string | null;\n  setUser: (user: any) => void;\n  setToken: (token: string | null) => void;\n  setLoading: (loading: any) => void;\n  setError: (error: string | null) => void;\n  logout: () => void;\n  signInWithGoogle: () => Promise<void>;\n\n  // Product context\n  products: any[];\n  orders: any[];\n  appointments: any[];\n  fetchProducts: () => Promise<void>;\n  fetchOrders: () => Promise<void>;\n  fetchAppointments: () => Promise<void>;\n  createOrder: (orderData: any) => Promise<any>;\n  createAppointment: (appointmentData: any) => Promise<any>;\n  updateProduct: (id: number, data: any) => Promise<any>;\n  deleteProduct: (id: number) => Promise<any>;\n  createProduct: (productData: any) => Promise<any>;\n\n  // Cart context\n  cartItems: any[];\n  cartCount: number;\n  cartTotal: number;\n  addItem: (item: any) => void;\n  updateItem: (productId: number, quantity: number) => void;\n  removeItem: (productId: number) => void;\n  clearCart: () => void;\n  addToCartWithAuth: (product: any, quantity: number) => any;\n\n  // UI context (adapting to match the actual UIContext interface)\n  uiLoading: LoadingState;\n  uiError: ErrorState;\n  setUILoading: (type: keyof LoadingState, value: boolean) => void;\n  setUIError: (type: keyof ErrorState, value: string | null) => void;\n}\nexport const useAppContext = (): CombinedAppContext => {\n  const auth = useAuth();\n  const product = useProduct();\n  const cart = useCart();\n  const ui = useUI();\n\n  // Create a function to add to cart with authentication check\n  const addToCartWithAuth = (product: any, quantity: number) => {\n    if (!auth.user) {\n      // Not authenticated\n      return {\n        success: false,\n        requiresLogin: true,\n        product,\n        quantity\n      };\n    }\n\n    // User is authenticated, add to cart\n    cart.addItem({\n      id: Date.now(),\n      // temporary ID for cart item\n      product_id: product.id,\n      quantity: quantity,\n      name: product.name,\n      price: product.price,\n      image_url: product.image_url\n    });\n    return {\n      success: true,\n      requiresLogin: false\n    };\n  };\n  return {\n    // Auth context\n    user: auth.user,\n    token: auth.token,\n    loading: auth.loading,\n    error: auth.error,\n    setUser: auth.setUser,\n    setToken: auth.setToken,\n    setLoading: auth.setLoading,\n    setError: auth.setError,\n    logout: auth.logout,\n    signInWithGoogle: auth.signInWithGoogle,\n    // Product context\n    products: product.products,\n    orders: product.orders,\n    appointments: product.appointments,\n    fetchProducts: product.fetchProducts,\n    fetchOrders: product.fetchOrders,\n    fetchAppointments: product.fetchAppointments,\n    createOrder: product.createOrder,\n    createAppointment: product.createAppointment,\n    updateProduct: product.updateProduct,\n    deleteProduct: product.deleteProduct,\n    createProduct: product.createProduct,\n    // Cart context\n    cartItems: cart.items,\n    cartCount: cart.cartCount,\n    cartTotal: cart.cartTotal,\n    addItem: cart.addItem,\n    updateItem: cart.updateItem,\n    removeItem: cart.removeItem,\n    clearCart: cart.clearCart,\n    addToCartWithAuth,\n    // UI context (adapting to match the actual UIContext interface)\n    uiLoading: ui.loading,\n    uiError: ui.error,\n    setUILoading: ui.setLoading,\n    setUIError: ui.setError\n  };\n};","// Utility functions for cart operations\nimport { CartItem } from '@/types';\n\n// Calculate the total price of items in the cart (current discounted price)\nexport const calculateCartTotal = (cartItems: CartItem[]): number => {\n  return cartItems.reduce((total, item) => {\n    const price = typeof item.price === 'number'\n      ? item.price\n      : parseFloat(item.price || '0');\n    return total + (price * item.quantity);\n  }, 0);\n};\n\n// Calculate the original total price of items in the cart (before discount)\nexport const calculateOriginalCartTotal = (cartItems: CartItem[]): number => {\n  return cartItems.reduce((total, item) => {\n    // If item has originalPrice and it's higher than current price, use it\n    // otherwise, we'll estimate original price as 25% higher than current price for demo purposes\n    let originalPrice = typeof item.originalPrice === 'number' ? item.originalPrice : null;\n\n    // If originalPrice is null or the same as the current price, estimate it as 25% higher\n    if (originalPrice === null || originalPrice <= (typeof item.price === 'number' ? item.price : parseFloat(item.price || '0'))) {\n      const currentPrice = typeof item.price === 'number'\n        ? item.price\n        : parseFloat(item.price || '0');\n      // Estimate original price as current price / 0.8 (assuming 20% discount by default for demo purposes)\n      // But cap it to avoid infinite increases\n      originalPrice = currentPrice * 1.25; // 25% markup as default for demo\n    }\n\n    return total + (originalPrice * item.quantity);\n  }, 0);\n};\n\n// Calculate the total savings from discounts in the cart\nexport const calculateDiscountSavings = (cartItems: CartItem[]): number => {\n  return cartItems.reduce((savings, item) => {\n    const currentPrice = typeof item.price === 'number'\n      ? item.price\n      : parseFloat(item.price || '0');\n\n    // If item has originalPrice and it's higher than current price, use it\n    // otherwise, estimate based on current price\n    let originalPrice = typeof item.originalPrice === 'number' ? item.originalPrice : null;\n\n    // If originalPrice is null or the same as current price, estimate it as 25% higher\n    if (originalPrice === null || originalPrice <= currentPrice) {\n      originalPrice = currentPrice * 1.25; // 25% markup as default for demo\n    }\n\n    const priceDifference = originalPrice - currentPrice;\n    return savings + (priceDifference * item.quantity);\n  }, 0);\n};\n\n// Get shipping cost based on subtotal (placeholder - this will be replaced by the dynamic version)\nexport const calculateShippingCost = (subtotal: number): number => {\n  // For now, using a placeholder value until we can properly import the dynamic version\n  // Free shipping for orders over ₹50,000\n  return subtotal > 50000 ? 0 : 1500;\n};\n\n// Get tax amount based on subtotal (placeholder - this will be replaced by the dynamic version)\nexport const calculateTaxAmount = (subtotal: number): number => {\n  // Placeholder - no tax by default\n  return 0;\n};\n\n// Get cart total including shipping and tax\nexport const calculateTotalWithShippingAndTax = (cartItems: CartItem[]): number => {\n  const subtotal = calculateCartTotal(cartItems);\n  const shipping = calculateShippingCost(subtotal);\n  const tax = calculateTaxAmount(subtotal + shipping);\n  return subtotal + shipping + tax;\n};","import styled from 'styled-components';\nexport const CheckoutContainer = styled.div.withConfig({\n  displayName: \"CheckoutStyles__CheckoutContainer\",\n  componentId: \"sc-7o1jzq-0\"\n})([\"display:flex;flex-direction:column;min-height:100vh;background:linear-gradient(135deg,#ffffff 0%,#f8f9fa 50%,#ffffff 100%);font-family:var(--font-montserrat),'Montserrat',sans-serif;\"]);\nexport const CheckoutHeader = styled.div.withConfig({\n  displayName: \"CheckoutStyles__CheckoutHeader\",\n  componentId: \"sc-7o1jzq-1\"\n})([\"padding:10px 0 20px;text-align:center;background:linear-gradient(135deg,#ffffff 0%,#f8f9fa 100%);margin-top:0;h1{font-size:2.5rem;margin-bottom:10px;color:#222;font-weight:400;letter-spacing:2px;font-family:var(--font-playfair),'Playfair Display',serif;text-transform:uppercase;}h1::after{content:'';display:block;width:80px;height:2px;background:linear-gradient(to right,transparent,#c19a6b,transparent);margin:15px auto 0;opacity:0.7;}p{color:#666;font-size:0.95rem;margin-top:10px;}\"]);\nexport const CheckoutContent = styled.div.withConfig({\n  displayName: \"CheckoutStyles__CheckoutContent\",\n  componentId: \"sc-7o1jzq-2\"\n})([\"max-width:1400px;margin:0 auto;padding:0 100px 40px 40px;display:grid;grid-template-columns:1fr 380px;gap:40px;align-items:start;@media (max-width:992px){grid-template-columns:1fr;padding:0 20px 40px;}\"]);\nexport const ShippingSection = styled.div.withConfig({\n  displayName: \"CheckoutStyles__ShippingSection\",\n  componentId: \"sc-7o1jzq-3\"\n})([\"background:white;padding:40px;box-shadow:0 5px 20px rgba(0,0,0,0.08);border:1px solid #f0f0f0;h2{font-size:1.8rem;margin-bottom:30px;color:#222;font-weight:400;font-family:var(--font-playfair),'Playfair Display',serif;text-transform:uppercase;letter-spacing:1px;padding-bottom:15px;border-bottom:2px solid #f0f0f0;}\"]);\nexport const FormGrid = styled.div.withConfig({\n  displayName: \"CheckoutStyles__FormGrid\",\n  componentId: \"sc-7o1jzq-4\"\n})([\"display:grid;grid-template-columns:repeat(2,1fr);gap:20px;@media (max-width:640px){grid-template-columns:1fr;}\"]);\nexport const FormField = styled.div.withConfig({\n  displayName: \"CheckoutStyles__FormField\",\n  componentId: \"sc-7o1jzq-5\"\n})([\"grid-column:\", \";@media (max-width:640px){grid-column:span 1;}label{display:block;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;color:#333;margin-bottom:8px;font-family:var(--font-montserrat),'Montserrat',sans-serif;}input{width:100%;padding:12px 14px;border:2px solid #e0e0e0;font-size:15px;font-family:var(--font-montserrat),'Montserrat',sans-serif;transition:all 0.3s ease;background:#fafafa;&:focus{outline:none;border-color:#c19a6b;background:white;box-shadow:0 0 0 3px rgba(193,154,107,0.1);}&:read-only{background:#f5f5f5;cursor:not-allowed;}}\"], props => props.$fullWidth ? 'span 2' : 'span 1');\nexport const OrderSummarySection = styled.div.withConfig({\n  displayName: \"CheckoutStyles__OrderSummarySection\",\n  componentId: \"sc-7o1jzq-6\"\n})([\"position:sticky;top:100px;@media (max-width:992px){position:static;}\"]);\nexport const OrderSummaryCard = styled.div.withConfig({\n  displayName: \"CheckoutStyles__OrderSummaryCard\",\n  componentId: \"sc-7o1jzq-7\"\n})([\"background:white;padding:25px;box-shadow:0 10px 30px -15px rgba(0,0,0,0.1);border:1px solid #f0f0f0;h2{font-size:1.5rem;margin-bottom:20px;color:#222;font-weight:400;font-family:var(--font-playfair),'Playfair Display',serif;padding-bottom:12px;border-bottom:2px solid #f0f0f0;}\"]);\nexport const OrderItemsList = styled.div.withConfig({\n  displayName: \"CheckoutStyles__OrderItemsList\",\n  componentId: \"sc-7o1jzq-8\"\n})([\"max-height:250px;overflow-y:auto;margin-bottom:15px;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:#f1f1f1;}&::-webkit-scrollbar-thumb{background:#c19a6b;border-radius:3px;}\"]);\nexport const OrderItem = styled.div.withConfig({\n  displayName: \"CheckoutStyles__OrderItem\",\n  componentId: \"sc-7o1jzq-9\"\n})([\"display:flex;gap:12px;padding:12px 0;border-bottom:1px solid #f0f0f0;&:last-child{border-bottom:none;}\"]);\nexport const ItemImage = styled.div.withConfig({\n  displayName: \"CheckoutStyles__ItemImage\",\n  componentId: \"sc-7o1jzq-10\"\n})([\"width:50px;height:50px;flex-shrink:0;background:#f5f5f5;display:flex;align-items:center;justify-content:center;overflow:hidden;img{width:100%;height:100%;object-fit:cover;}\"]);\nexport const ItemDetails = styled.div.withConfig({\n  displayName: \"CheckoutStyles__ItemDetails\",\n  componentId: \"sc-7o1jzq-11\"\n})([\"flex:1;min-width:0;h3{font-size:13px;font-weight:600;color:#222;margin:0 0 6px 0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.price-qty{display:flex;justify-content:space-between;align-items:center;font-size:12px;.qty{color:#666;}.price{color:#c19a6b;font-weight:600;}}\"]);\nexport const OrderSummaryDetails = styled.div.withConfig({\n  displayName: \"CheckoutStyles__OrderSummaryDetails\",\n  componentId: \"sc-7o1jzq-12\"\n})([\"padding:12px 0;border-top:2px solid #f0f0f0;border-bottom:2px solid #f0f0f0;margin:12px 0;.summary-row{display:flex;justify-content:space-between;padding:5px 0;font-size:14px;span:first-child{color:#666;}span:last-child{font-weight:500;color:#222;}&.total{font-size:17px;font-weight:600;padding-top:10px;border-top:2px solid #f0f0f0;margin-top:5px;span:first-child{color:#222;}span:last-child{color:#c19a6b;}}}\"]);\nexport const PayButton = styled.button.withConfig({\n  displayName: \"CheckoutStyles__PayButton\",\n  componentId: \"sc-7o1jzq-13\"\n})([\"width:100%;padding:14px;background:#c19a6b;color:white;border:none;font-size:15px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;cursor:pointer;transition:all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);font-family:var(--font-montserrat),'Montserrat',sans-serif;position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(120deg,transparent,rgba(255,255,255,0.3),transparent);transition:0.8s;}&:hover:not(:disabled){background:#a8825f;transform:translateY(-2px);box-shadow:0 8px 20px rgba(193,154,107,0.3);&::before{left:100%;}}&:disabled{background:#ccc;cursor:not-allowed;transform:none;}.spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,0.3);border-top:2px solid white;border-radius:50%;animation:spin 0.8s linear infinite;margin-right:10px;}@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}\"]);\nexport const ErrorMessage = styled.div.withConfig({\n  displayName: \"CheckoutStyles__ErrorMessage\",\n  componentId: \"sc-7o1jzq-14\"\n})([\"margin-top:20px;padding:15px;background:#fee;border:2px solid #fcc;color:#c33;font-size:14px;font-weight:500;text-align:center;\"]);\nexport const SecurityNote = styled.p.withConfig({\n  displayName: \"CheckoutStyles__SecurityNote\",\n  componentId: \"sc-7o1jzq-15\"\n})([\"margin-top:12px;font-size:10px;color:#999;text-align:center;line-height:1.4;font-family:var(--font-montserrat),'Montserrat',sans-serif;i{margin-right:5px;color:#c19a6b;}\"]);\nexport const LoadingScreen = styled.div.withConfig({\n  displayName: \"CheckoutStyles__LoadingScreen\",\n  componentId: \"sc-7o1jzq-16\"\n})([\"min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffffff 0%,#f8f9fa 100%);.loading-content{text-align:center;.spinner{width:50px;height:50px;border:4px solid rgba(193,154,107,0.2);border-top:4px solid #c19a6b;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 20px;}p{color:#666;font-size:16px;font-family:var(--font-montserrat),'Montserrat',sans-serif;}}@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}\"]);","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAppContext } from '@/context/AppContext';\nimport { useCartStore } from '@/store/cartStore';\nimport { apiClient } from '@/lib/api';\nimport { calculateCartTotal, calculateShippingCost } from '@/utils/cartUtils';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\nimport { CheckoutContainer, CheckoutHeader, CheckoutContent, ShippingSection, FormGrid, FormField, OrderSummarySection, OrderSummaryCard, OrderItemsList, OrderItem, ItemImage, ItemDetails, OrderSummaryDetails, PayButton, ErrorMessage, SecurityNote, LoadingScreen } from '@/styles/CheckoutStyles';\nconst CheckoutPage = () => {\n  const router = useRouter();\n  const {\n    user\n  } = useAppContext();\n  const cartItems = useCartStore(state => state.items);\n  const getTotalPrice = useCartStore(state => state.getTotalPrice);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [shippingAddress, setShippingAddress] = useState({\n    name: user?.name || '',\n    email: user?.email || '',\n    phone: '',\n    address: '',\n    city: '',\n    state: '',\n    zipCode: '',\n    country: 'India'\n  });\n  const subtotal = calculateCartTotal(cartItems);\n  const shipping = calculateShippingCost(subtotal);\n  const total = subtotal + shipping;\n\n  // Check if user is logged in\n  useEffect(() => {\n    if (!user) {\n      router.push('/auth?redirect=/checkout');\n    }\n  }, [user, router]);\n\n  // Update shipping address when user data becomes available\n  useEffect(() => {\n    if (user) {\n      setShippingAddress(prev => ({\n        ...prev,\n        name: user.name || prev.name,\n        email: user.email || prev.email\n      }));\n    }\n  }, [user]);\n\n  // Handle input changes for shipping address\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const {\n      name,\n      value\n    } = e.target;\n    setShippingAddress(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    try {\n      // Verify cart is not empty\n      if (cartItems.length === 0) {\n        throw new Error('Cannot checkout with an empty cart');\n      }\n\n      // Create checkout session with Razorpay\n      const response = await apiClient.createCheckoutSession({\n        items: cartItems.map(item => ({\n          product_id: item.product_id,\n          quantity: item.quantity,\n          price: typeof item.price === 'number' ? item.price : parseFloat(item.price || '0'),\n          // Ensure price is a number\n          name: item.name\n        })),\n        shipping_address: shippingAddress\n      });\n      if (!response.success || !response.data) {\n        throw new Error(response.error || 'Failed to create checkout session');\n      }\n\n      // Initialize Razorpay checkout\n      const options = {\n        key: process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID!,\n        // Should be in environment variables\n        amount: response.data.amount,\n        // Amount in paise\n        currency: response.data.currency,\n        name: 'Colour My Space',\n        description: 'Furniture Purchase',\n        order_id: response.data.razorpay_order_id,\n        handler: async (response: any) => {\n          try {\n            // Verify payment with our backend after successful payment\n            const verifyResponse = await apiClient.verifyPayment({\n              razorpay_order_id: response.razorpay_order_id,\n              razorpay_payment_id: response.razorpay_payment_id,\n              razorpay_signature: response.razorpay_signature\n            });\n            if (!verifyResponse.success || !verifyResponse.data) {\n              throw new Error(verifyResponse.error || 'Payment verification failed');\n            }\n            if (verifyResponse.success && verifyResponse.data) {\n              // Payment successful - clear cart and redirect to success page\n              import('@/store/cartStore').then(module => {\n                module.useCartStore.getState().clearCart();\n              });\n              router.push(`/checkout/success?orderId=${verifyResponse.data.order_id}`);\n            } else {\n              setError('Payment verification failed. Please contact support.');\n            }\n          } catch (verifyError) {\n            console.error('Payment verification error:', verifyError);\n            setError('Payment verification failed. Please contact support.');\n          }\n        },\n        prefill: {\n          name: shippingAddress.name,\n          email: shippingAddress.email,\n          contact: shippingAddress.phone\n        },\n        theme: {\n          color: '#F59E0B' // Amber color to match our theme\n        }\n      };\n\n      // Load Razorpay checkout\n      const script = document.createElement('script');\n      script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n      script.onload = () => {\n        // @ts-ignore - Razorpay checkout is added to window by the script\n        const rzp = new window.Razorpay(options);\n        rzp.open();\n      };\n      script.onerror = () => {\n        setError('Failed to load payment gateway. Please try again.');\n        setLoading(false);\n      };\n      document.body.appendChild(script);\n    } catch (err: any) {\n      console.error('Checkout error:', err);\n      setError(err.message || 'An error occurred during checkout');\n      setLoading(false);\n    }\n  };\n  if (!user) {\n    return <LoadingScreen>\n        <div className=\"loading-content\">\n          <div className=\"spinner\"></div>\n          <p>Redirecting to login...</p>\n        </div>\n      </LoadingScreen>;\n  }\n  return <CheckoutContainer>\n      <Header activePage=\"checkout\" />\n\n      <CheckoutHeader>\n        <h1>Checkout</h1>\n        <p>Complete your order securely</p>\n      </CheckoutHeader>\n\n      <CheckoutContent>\n        {/* Shipping Information */}\n        <ShippingSection>\n          <h2>Shipping Information</h2>\n\n          <form onSubmit={handleSubmit}>\n            <FormGrid>\n              <FormField>\n                <label htmlFor=\"name\">Full Name *</label>\n                <input type=\"text\" name=\"name\" id=\"name\" value={shippingAddress.name} onChange={handleInputChange} required />\n              </FormField>\n\n              <FormField>\n                <label htmlFor=\"email\">Email Address *</label>\n                <input type=\"email\" name=\"email\" id=\"email\" value={shippingAddress.email} onChange={handleInputChange} required readOnly={!!user?.email} />\n              </FormField>\n\n              <FormField>\n                <label htmlFor=\"phone\">Phone Number *</label>\n                <input type=\"tel\" name=\"phone\" id=\"phone\" value={shippingAddress.phone} onChange={handleInputChange} required />\n              </FormField>\n\n              <FormField $fullWidth>\n                <label htmlFor=\"address\">Street Address *</label>\n                <input type=\"text\" name=\"address\" id=\"address\" value={shippingAddress.address} onChange={handleInputChange} required />\n              </FormField>\n\n              <FormField>\n                <label htmlFor=\"city\">City *</label>\n                <input type=\"text\" name=\"city\" id=\"city\" value={shippingAddress.city} onChange={handleInputChange} required />\n              </FormField>\n\n              <FormField>\n                <label htmlFor=\"state\">State / Province *</label>\n                <input type=\"text\" name=\"state\" id=\"state\" value={shippingAddress.state} onChange={handleInputChange} required />\n              </FormField>\n\n              <FormField>\n                <label htmlFor=\"zipCode\">ZIP / Postal Code *</label>\n                <input type=\"text\" name=\"zipCode\" id=\"zipCode\" value={shippingAddress.zipCode} onChange={handleInputChange} required />\n              </FormField>\n\n              <FormField>\n                <label htmlFor=\"country\">Country</label>\n                <input type=\"text\" name=\"country\" id=\"country\" value={shippingAddress.country} onChange={handleInputChange} required readOnly />\n              </FormField>\n            </FormGrid>\n\n            {error && <ErrorMessage>{error}</ErrorMessage>}\n          </form>\n        </ShippingSection>\n\n        {/* Order Summary */}\n        <OrderSummarySection>\n          <OrderSummaryCard>\n            <h2>Order Summary</h2>\n\n            <OrderItemsList>\n              {cartItems.map((item, index) => {\n              const uniqueKey = item.product_id ? `prod-${item.product_id}` : item.id ? `item-${item.id}-${index}` : `idx-${index}`;\n\n              // Check if image_url is valid (not a placeholder URL)\n              const hasValidImage = item.image_url && !item.image_url.includes('r2-placeholder.com');\n              return <OrderItem key={uniqueKey}>\n                    <ItemImage>\n                      {hasValidImage ? <img src={item.image_url} alt={item.name} style={{\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover'\n                  }} onError={e => {\n                    // If image fails to load, show placeholder\n                    e.currentTarget.style.display = 'none';\n                    if (e.currentTarget.nextSibling) {\n                      (e.currentTarget.nextSibling as HTMLElement).style.display = 'flex';\n                    }\n                  }} /> : null}\n                      <div style={{\n                    width: '100%',\n                    height: '100%',\n                    backgroundColor: '#e8d5c4',\n                    display: hasValidImage ? 'none' : 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '20px',\n                    color: '#c19a6b'\n                  }}>\n                        <i className=\"fas fa-image\"></i>\n                      </div>\n                    </ItemImage>\n\n                    <ItemDetails>\n                      <h3>{item.name}</h3>\n                      <div className=\"price-qty\">\n                        <span className=\"qty\">Qty: {item.quantity}</span>\n                        <span className=\"price\">\n                          ₹{(typeof item.price === 'number' ? item.price : parseFloat(item.price || '0')).toLocaleString()}\n                        </span>\n                      </div>\n                    </ItemDetails>\n                  </OrderItem>;\n            })}\n            </OrderItemsList>\n\n            <OrderSummaryDetails>\n              <div className=\"summary-row\">\n                <span>Subtotal</span>\n                <span>₹{subtotal.toLocaleString()}</span>\n              </div>\n              <div className=\"summary-row\">\n                <span>Shipping</span>\n                <span>{shipping === 0 ? 'FREE' : `₹${shipping.toLocaleString()}`}</span>\n              </div>\n              <div className=\"summary-row total\">\n                <span>Total</span>\n                <span>₹{total.toLocaleString()}</span>\n              </div>\n            </OrderSummaryDetails>\n\n            <PayButton type=\"submit\" disabled={loading || cartItems.length === 0} onClick={handleSubmit}>\n              {loading ? <>\n                  <span className=\"spinner\"></span>\n                  Processing...\n                </> : `Pay ₹${total.toLocaleString()}`}\n            </PayButton>\n\n            <SecurityNote>\n              <i className=\"fas fa-lock\"></i>\n              Secure payment powered by Razorpay. Your information is encrypted and safe.\n            </SecurityNote>\n          </OrderSummaryCard>\n        </OrderSummarySection>\n      </CheckoutContent>\n\n      <Footer />\n    </CheckoutContainer>;\n};\nexport default CheckoutPage;"],"names":["CartItem","calculateCartTotal","cartItems","reduce","total","item","price","parseFloat","quantity","calculateOriginalCartTotal","originalPrice","currentPrice","calculateDiscountSavings","savings","priceDifference","calculateShippingCost","subtotal","calculateTaxAmount","calculateTotalWithShippingAndTax","shipping","tax"],"mappings":"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"}