{"version":3,"sources":["turbopack:///[project]/src/app/debug/oauth/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport default function OAuthDebugPage() {\n  const [config, setConfig] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch('/api/debug/oauth-config')\n      .then(res => res.json())\n      .then(data => {\n        setConfig(data);\n        setLoading(false);\n      });\n  }, []);\n\n  const testOAuth = () => {\n    const redirectUri = `${window.location.origin}/auth/callback`;\n    const googleAuthUrl = new URL('https://accounts.google.com/o/oauth2/v2/auth');\n    googleAuthUrl.searchParams.set('client_id', config.clientIdFull);\n    googleAuthUrl.searchParams.set('redirect_uri', redirectUri);\n    googleAuthUrl.searchParams.set('response_type', 'code');\n    googleAuthUrl.searchParams.set('scope', 'openid email profile');\n    googleAuthUrl.searchParams.set('access_type', 'offline');\n    googleAuthUrl.searchParams.set('prompt', 'consent');\n\n    window.location.href = googleAuthUrl.toString();\n  };\n\n  if (loading) return <div className=\"p-8\">Loading...</div>;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-6\">OAuth Configuration Debugger</h1>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Current Configuration</h2>\n          <div className=\"space-y-2 font-mono text-sm\">\n            <div>\n              <strong>Client ID:</strong> {config.clientIdFull}\n            </div>\n            <div>\n              <strong>Client Secret:</strong> {config.clientSecretSet ? '‚úì Set' : '‚úó Not Set'}\n            </div>\n            <div>\n              <strong>Environment:</strong> {config.environment}\n            </div>\n            <div>\n              <strong>Redirect URI (this page):</strong> {window.location.origin}/auth/callback\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-blue-900\">Google Console Setup</h2>\n          <ol className=\"list-decimal list-inside space-y-2 text-sm\">\n            {config.instructions.map((instruction: string, i: number) => (\n              <li key={i} className=\"text-gray-700\">{instruction}</li>\n            ))}\n          </ol>\n          <div className=\"mt-4\">\n            <a\n              href=\"https://console.cloud.google.com/apis/credentials\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n            >\n              Open Google Console ‚Üí\n            </a>\n          </div>\n        </div>\n\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-green-900\">Test OAuth Flow</h2>\n          <p className=\"text-sm text-gray-700 mb-4\">\n            Click the button below to test the OAuth flow. You should be redirected to Google\n            and then back to your app.\n          </p>\n          <button\n            onClick={testOAuth}\n            className=\"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-semibold\"\n          >\n            üîê Test Google Sign-In\n          </button>\n        </div>\n\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-yellow-900\">Common Issues</h2>\n          <ul className=\"list-disc list-inside space-y-2 text-sm text-gray-700\">\n            <li>\n              <strong>Wrong Client ID:</strong> Make sure you're configuring the correct Client ID\n              in Google Console (there are different ones for local vs production)\n            </li>\n            <li>\n              <strong>Trailing slash:</strong> Don't add a trailing slash to the redirect URI\n              (use <code>/auth/callback</code> not <code>/auth/callback/</code>)\n            </li>\n            <li>\n              <strong>Propagation delay:</strong> Google Console changes can take 2-5 minutes to take effect\n            </li>\n            <li>\n              <strong>HTTP vs HTTPS:</strong> Use http:// for localhost and https:// for production\n            </li>\n            <li>\n              <strong>OAuth Consent Screen:</strong> Make sure your OAuth consent screen is configured\n              and published (or in testing mode with your email added as a test user)\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useEffect","useState","OAuthDebugPage","config","setConfig","loading","setLoading","fetch","then","res","json","data","testOAuth","redirectUri","window","location","origin","googleAuthUrl","URL","searchParams","set","clientIdFull","href","toString","clientSecretSet","environment","instructions","map","instruction","i"],"mappings":"wDAEA,EAA2C,EAAA,CAAA,AAAlCA,CAAkC,OAE5B,CAFG,EAAEC,MAEIC,EAFI,EAG1B,GAAM,CAACC,EAH2B,AAGnBC,EAAU,CAAA,CADWF,AACvB,AAAY,CADW,CACRD,CAHa,AAEF,CACXA,CAAJ,OAAIA,AAAQ,CAAC,CAAK,EAAF,CAAC,CAAK,CAAC,CACzC,CAACI,EAASC,EAAW,CAAA,CAAA,CAAb,CAAgBL,EAAAA,EAAJ,MAAIA,AAAQ,GAAC,IAAI,CAAC,QAE5CD,EAAAA,SAAAA,AAAS,EAAC,KACRO,CADc,IACT,CAAC,yBAAyB,CAAC,CAC7BC,IAAI,CAACC,EAAG,CAAIA,EAAIC,CAAD,GAAK,CAAC,CAAC,CAAC,CACvBF,IAAI,CAAA,AAACG,IAAI,AACRP,EAAUO,EADE,CAEZL,CADc,CAAC,CACJ,CADF,CAEX,CAAC,CAAC,AACN,CAAC,AAFqB,CAEnB,AAFoB,CAAP,CAEX,CAAC,CAeFD,GAAgB,CAAA,EAAA,CAAT,CAAS,CAAP,EAAO,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,KAAK,UAAC,UAAU,EAAE,GAAG,AAGtD,CAHuD,AAGvD,EAAA,EAAA,GAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,6BAA6B,UAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,mBAAmB,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,yBAAyB,UAAC,4BAA4B,EAAE,EAAE,CAExE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,qCAAqC,WAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,4BAA4B,UAAC,qBAAqB,EAAE,EAAE,CACpE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,6BAA6B,WAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,WACF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,UAAU,EAAE,GAAO,CAAC,EAAF,CAAGF,EAAOkB,IAAD,QAAa,IAElD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,WACF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,cAAc,EAAE,GAAO,CAAC,EAAF,CAAGlB,EAAOqB,IAAD,WAAgB,CAAG,OAAO,CAAG,WAAW,IAEjF,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,WACF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,YAAY,EAAE,GAAO,CAAC,EAAF,CAAGrB,EAAOsB,IAAD,OAAY,IAEnD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,WACF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,yBAAyB,EAAE,GAAO,CAAC,EAAF,CAAGX,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,0BAKzE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,uDAAuD,WACpE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,0CAA0C,UAAC,oBAAoB,EAAE,EAAE,CACjF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,4CAA4C,UACvDb,EAAOuB,IAAD,QAAa,CAACC,GAAG,CAAC,CAACC,EAAqBC,CAAC,EAAE,CAChD,CAAA,CAD2C,CAC3C,EADmC,AAAmB,AACtD,GAAA,EAAC,EAAE,CAAC,EAAG,CAAK,AAAJ,SAAa,CAAC,eAAe,CAAC,SAACD,GAA9BC,CAAC,CAAC,IAGf,CAAA,CAHsD,CAAC,AAGvD,EAHyD,AAGzD,EAH2D,CACxD,AAEH,CAFI,CAEH,GAAG,GAAA,CAAC,SAAS,CAAC,MAAM,UACnB,CAAA,EAAA,EAAA,GAAA,EAAC,CAAC,GAAA,CACA,IAAI,CAAC,mDAAmD,CACxD,MAAM,CAAC,QAAQ,CACf,GAAG,CAAC,qBAAqB,CACzB,SAAS,CAAC,yEAAyE,UAAA,+BAOzF,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,oDAAoD,WACjE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,2CAA2C,UAAC,eAAe,EAAE,EAAE,CAC7E,CAAA,EAAA,EAAA,GAAA,EAAC,CAAC,GAAA,CAAC,SAAS,CAAC,4BAA4B,UAAA,iHAIzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,CACL,OAAO,CAhECjB,AAgEA,CAACA,AAhED,IAChB,CADsB,GAChBC,CA+DoB,CA/DN,AA+DO,CA/DP,EAAGC,MAAN,AAAY,CAACC,QAAQ,CAACC,MAAM,CAAA,cAAA,CAAgB,CACvDC,EAAgB,IAAIC,GAAG,CAAC,GAAX,2CAAyD,CAAC,CAC7ED,EAAcE,WAAD,CAAa,CAACC,GAAG,CAAC,WAAW,CAAEjB,EAAOkB,IAAD,QAAa,CAAC,CAChEJ,EAAcE,WAAD,CAAa,CAACC,GAAG,CAAC,cAAc,CAAEP,GAC/CI,EAAcE,MAD4C,CAAC,IAC9C,CAAa,CAACC,GAAG,CAAC,eAAe,CAAE,MAAM,CAAC,CACvDH,EAAcE,WAAD,CAAa,CAACC,GAAG,CAAC,OAAO,CAAE,sBAAsB,CAAC,CAC/DH,EAAcE,WAAD,CAAa,CAACC,GAAG,CAAC,aAAa,CAAE,SAAS,CAAC,CACxDH,EAAcE,WAAD,CAAa,CAACC,GAAG,CAAC,QAAQ,CAAE,SAAS,CAAC,CAEnDN,MAAM,CAACC,QAAQ,CAACO,IAAI,CAAGL,EAAcM,QAAQ,CAAC,CAAC,AACjD,CAAC,AADqC,CAuD5B,SAAS,CAAC,+EAA+E,UAAA,8BAM7F,CAAA,EAAA,EAAA,IAAA,EAAC,GAAG,GAAA,CAAC,SAAS,CAAC,2DAA2D,WACxE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,4CAA4C,UAAC,aAAa,EAAE,EAAE,CAC5E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAE,GAAA,CAAC,SAAS,CAAC,uDAAuD,WACnE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAE,GAAA,WACD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,gBAAgB,EAAE,GAAO,GAAD,2HAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAE,GAAA,WACD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,eAAe,EAAE,GAAO,GAAD,qDAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAI,GAAA,UAAC,cAAc,EAAE,GAAK,CAAD,OAAM,CAAA,EAAA,EAAA,GAAA,EAAC,IAAI,GAAA,UAAC,eAAe,EAAE,GAAK,CAAD,MAElE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAE,GAAA,WACD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,kBAAkB,EAAE,GAAO,GAAD,8DAEpC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAE,GAAA,WACD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,cAAc,EAAE,GAAO,GAAD,yDAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAE,GAAA,WACD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAM,GAAA,UAAC,qBAAqB,EAAE,GAAO,GAAD,uIAQnD"}