{"version":3,"sources":["turbopack:///[project]/sk/codebase/newprojs/qwenproj/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/sk/codebase/newprojs/qwenproj/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/sk/codebase/newprojs/qwenproj/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/sk/codebase/newprojs/qwenproj/src/components/AdminLogin.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAppContext } from '../context/AppContext';\nimport '../App.css'; // Import the main CSS file\n\nconst AdminLogin = () => {\n  const router = useRouter();\n\nconst navigate = (path: string) => {\n  router.push(path);\n};\n  const { user, login, loading, error, setError } = useAppContext();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    // Clear error when user starts typing\n    if (error.auth) setError('auth', '');\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      // Admin login validation\n      if (!formData.email || !formData.password) {\n        throw new Error('Please fill in all fields');\n      }\n      \n      await login({\n        email: formData.email,\n        password: formData.password\n      });\n    } catch (err) {\n      console.error('Login error:', err);\n      // Error is handled by the context\n    }\n  };\n\n  // Redirect to admin panel automatically if user becomes an admin\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      navigate('/admin');\n    } else if (user && user.role !== 'admin') {\n      setError('auth', 'Access denied: Admin privileges required');\n    }\n  }, [user, navigate, setError]);\n\n  // Add a secret mechanism for admin login\n  const [secretAccess, setSecretAccess] = useState(false);\n  const [secretKey, setSecretKey] = useState('');\n  \n  const handleSecretSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // In a real application, this would verify against a secure key\n    // For this demo, we'll use a simple hardcoded key\n    if (secretKey === 'admin-secret-key-2023') { // This would be securely stored\n      setSecretAccess(true);\n    } else {\n      alert('Invalid secret key. Access denied.');\n    }\n  };\n  \n  if (!secretAccess) {\n    return (\n      <div className=\"auth-page\">\n        <div className=\"auth-container\" style={{ maxWidth: '500px', margin: '80px auto', padding: '30px' }}>\n          <div className=\"auth-header\" style={{ textAlign: 'center', marginBottom: '30px' }}>\n            <h2 style={{ color: '#222', marginBottom: '10px' }}>Admin Access</h2>\n            <p style={{ color: '#666' }}>Enter the secret key to access admin panel</p>\n          </div>\n          \n          <form onSubmit={handleSecretSubmit} className=\"auth-form\">\n            <div className=\"form-group\" style={{ marginBottom: '25px' }}>\n              <input\n                type=\"text\"\n                placeholder=\"Secret Key\"\n                value={secretKey}\n                onChange={(e) => setSecretKey(e.target.value)}\n                required\n                style={{\n                  width: '100%',\n                  padding: '14px',\n                  border: '1px solid #ddd',\n                  borderRadius: '0',\n                  fontSize: '16px'\n                }}\n              />\n            </div>\n            \n            <button \n              type=\"submit\" \n              className=\"btn primary auth-button\"\n              style={{\n                width: '100%',\n                padding: '16px',\n                fontSize: '16px'\n              }}\n            >\n              Access Admin Panel\n            </button>\n          </form>\n          \n          <div className=\"auth-toggle\" style={{ textAlign: 'center', marginTop: '20px' }}>\n            <p>\n              <a \n                href=\"/auth\" \n                style={{ \n                  color: '#c19a6b', \n                  textDecoration: 'none',\n                  fontWeight: '500'\n                }}\n              >\n                Back to User Login\n              </a>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-container\" style={{ maxWidth: '500px', margin: '80px auto', padding: '30px' }}>\n        <div className=\"auth-header\" style={{ textAlign: 'center', marginBottom: '30px' }}>\n          <h2 style={{ color: '#222', marginBottom: '10px' }}>Admin Login</h2>\n          <p style={{ color: '#666' }}>Enter your admin credentials</p>\n        </div>\n        \n        {error.auth && <div className=\"error-message\" style={{ \n          backgroundColor: '#f8d7da', \n          color: '#721c24', \n          padding: '12px', \n          borderRadius: '0',\n          marginBottom: '20px',\n          border: '1px solid #f5c6cb'\n        }}>{error.auth}</div>}\n        \n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          <div className=\"form-group\" style={{ marginBottom: '20px' }}>\n            <input\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Admin Email\"\n              value={formData.email}\n              onChange={handleChange}\n              required\n              style={{\n                width: '100%',\n                padding: '14px',\n                border: '1px solid #ddd',\n                borderRadius: '0',\n                fontSize: '16px'\n              }}\n            />\n          </div>\n          \n          <div className=\"form-group\" style={{ marginBottom: '25px' }}>\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              style={{\n                width: '100%',\n                padding: '14px',\n                border: '1px solid #ddd',\n                borderRadius: '0',\n                fontSize: '16px'\n              }}\n            />\n          </div>\n          \n          <button \n            type=\"submit\" \n            className=\"btn primary auth-button\"\n            disabled={loading.auth}\n            style={{\n              width: '100%',\n              padding: '16px',\n              fontSize: '16px'\n            }}\n          >\n            {loading.auth ? 'Signing In...' : 'Sign In as Admin'}\n          </button>\n        </form>\n        \n        <div className=\"auth-toggle\" style={{ textAlign: 'center', marginTop: '20px' }}>\n          <p>\n            <button \n              onClick={() => setSecretAccess(false)}\n              style={{ \n                color: '#c19a6b', \n                textDecoration: 'none',\n                fontWeight: '500',\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer'\n              }}\n            >\n              Back to Secret Key\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminLogin;"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"gjBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,8BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,0CCAzC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,wBAGmB,KACjB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAEpB,EAAW,AAAC,IAChB,EAAO,IAAI,CAAC,EACd,EACQ,MAAE,CAAI,OAAE,CAAK,CAAE,SAAO,CAAE,OAAK,UAAE,CAAQ,CAAE,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,IACzD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACvC,MAAO,GACP,SAAU,EACZ,GAEM,EAAe,AAAC,IACpB,EAAY,CACV,GAAG,CAAQ,CACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAE,EAAE,MAAM,CAAC,KAAK,AACjC,GAEI,EAAM,IAAI,EAAE,EAAS,OAAQ,GACnC,EAEM,EAAe,MAAO,IAC1B,EAAE,cAAc,GAEhB,GAAI,CAEF,GAAI,CAAC,EAAS,KAAK,EAAI,CAAC,EAAS,QAAQ,CACvC,CADyC,KACnC,AAAI,MAAM,4BAGlB,OAAM,EAAM,CACV,MAAO,EAAS,KAAK,CACrB,SAAU,EAAS,QACrB,AAD6B,EAE/B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,eAAgB,EAEhC,CACF,EAGA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GAAsB,SAAS,CAAvB,EAAK,IAAI,CACnB,EAAS,UACA,GAAsB,SAAS,CAAvB,EAAK,IAAI,EAC1B,EAAS,OAAQ,2CAErB,EAAG,CAAC,EAAM,EAAU,EAAS,EAG7B,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,WAa3C,AAAK,EA4DH,CAAA,CA5DE,CA4DF,EAAA,GAAA,EAAC,EA5DgB,IA4DhB,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,SAAU,QAAS,OAAQ,YAAa,QAAS,MAAO,YAC/F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,cAAc,MAAO,CAAE,UAAW,SAAU,aAAc,MAAO,YAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,MAAO,OAAQ,aAAc,MAAO,WAAG,gBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,MAAO,MAAO,WAAG,oCAG9B,EAAM,IAAI,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBAAgB,MAAO,CACnD,gBAAiB,UACjB,MAAO,UACP,QAAS,OACT,aAAc,IACd,aAAc,OACd,OAAQ,mBACV,WAAI,EAAM,IAAI,GAEd,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,aAAc,MAAO,WACxD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,QACL,YAAY,cACZ,MAAO,EAAS,KAAK,CACrB,SAAU,EACV,QAAQ,CAAA,CAAA,EACR,MAAO,CACL,MAAO,OACP,QAAS,OACT,OAAQ,iBACR,aAAc,IACd,SAAU,MACZ,MAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,aAAc,MAAO,WACxD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,KAAK,WACL,YAAY,WACZ,MAAO,EAAS,QAAQ,CACxB,SAAU,EACV,QAAQ,CAAA,CAAA,EACR,MAAO,CACL,MAAO,OACP,QAAS,OACT,OAAQ,iBACR,aAAc,IACd,SAAU,MACZ,MAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,0BACV,SAAU,EAAQ,IAAI,CACtB,MAAO,CACL,MAAO,OACP,QAAS,OACT,SAAU,MACZ,WAEC,EAAQ,IAAI,CAAG,gBAAkB,wBAItC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,cAAc,MAAO,CAAE,UAAW,SAAU,UAAW,MAAO,WAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,GAC/B,MAAO,CACL,MAAO,UACP,eAAgB,OAChB,WAAY,MACZ,WAAY,OACZ,OAAQ,OACR,OAAQ,SACV,WACD,gCAzIP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,SAAU,QAAS,OAAQ,YAAa,QAAS,MAAO,YAC/F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,cAAc,MAAO,CAAE,UAAW,SAAU,aAAc,MAAO,YAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,MAAO,OAAQ,aAAc,MAAO,WAAG,iBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,MAAO,MAAO,WAAG,kDAG/B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SApBa,AAAC,CAoBJ,GAnBtB,EAAE,cAAc,GAGE,yBAAyB,CAAvC,EACF,GAAgB,GAEhB,MAAM,qCAEV,EAW4C,UAAU,sBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,aAAc,MAAO,WACxD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,aACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAa,EAAE,MAAM,CAAC,KAAK,EAC5C,QAAQ,CAAA,CAAA,EACR,MAAO,CACL,MAAO,OACP,QAAS,OACT,OAAQ,iBACR,aAAc,IACd,SAAU,MACZ,MAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,0BACV,MAAO,CACL,MAAO,OACP,QAAS,OACT,SAAU,MACZ,WACD,0BAKH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,cAAc,MAAO,CAAE,UAAW,SAAU,UAAW,MAAO,WAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAK,QACL,MAAO,CACL,MAAO,UACP,eAAgB,OAChB,WAAY,KACd,WACD,+BAkGf","ignoreList":[0,1,2]}