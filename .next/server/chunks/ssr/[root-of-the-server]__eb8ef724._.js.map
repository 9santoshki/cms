{"version":3,"sources":["turbopack:///[project]/src/app/dashboard/products/page.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/dashboard/products/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/products/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/products/page.tsx\",\n    \"default\",\n);\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport DashboardLayout from '@/components/DashboardLayout';\nimport { useProduct } from '@/context/ProductContext';\n\nconst DashboardProductsPage = () => {\n  const router = useRouter();\n  const { user } = useAuth();\n  const { products, fetchProducts, loading, error: contextError } = useProduct();\n  const [filteredProducts, setFilteredProducts] = useState<any[]>([]);\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\n  const [searchTerm, setSearchTerm] = useState<string>('');\n\n  useEffect(() => {\n    if (!user) {\n      router.push('/auth?redirect=/dashboard/products');\n      return;\n    }\n\n    if (user.role !== 'admin') {\n      router.push('/dashboard');\n      return;\n    }\n\n    fetchProducts();\n  }, [user]);\n\n  useEffect(() => {\n    if (products && products.length > 0) {\n      let filtered = products;\n\n      // Apply category filter\n      if (categoryFilter !== 'all') {\n        filtered = filtered.filter((product: any) =>\n          product.category?.toLowerCase() === categoryFilter.toLowerCase()\n        );\n      }\n\n      // Apply search filter\n      if (searchTerm) {\n        filtered = filtered.filter((product: any) =>\n          product.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          product.description?.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n      }\n\n      setFilteredProducts(filtered);\n    } else {\n      setFilteredProducts([]);\n    }\n  }, [products, categoryFilter, searchTerm]);\n\n  if (!user || loading) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #f8f4f0 0%, #efe9e3 100%)'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <style jsx>{`\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          `}</style>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading products...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <style jsx>{`\n        @media (max-width: 768px) {\n          .products-action-bar {\n            grid-template-columns: 1fr !important;\n          }\n          .products-grid {\n            grid-template-columns: 1fr !important;\n          }\n        }\n      `}</style>\n      <DashboardLayout\n        title=\"Product Management\"\n        description=\"Manage your product catalog, add new items, and update existing products.\"\n      >\n      {/* Actions Bar */}\n      <div style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '20px',\n        marginBottom: '24px',\n        boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n        border: '1px solid #e8d5c4'\n      }}>\n        <div className=\"products-action-bar\" style={{\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr auto',\n          gap: '16px',\n          alignItems: 'end'\n        }}>\n          {/* Search */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '13px',\n              fontWeight: '600',\n              color: '#666',\n              marginBottom: '8px',\n              letterSpacing: '0.3px'\n            }}>\n              Search Products\n            </label>\n            <div style={{ position: 'relative' }}>\n              <i className=\"fas fa-search\" style={{\n                position: 'absolute',\n                left: '14px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                color: '#999',\n                fontSize: '14px'\n              }}></i>\n              <input\n                type=\"text\"\n                placeholder=\"Search by name or description...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                style={{\n                  width: '100%',\n                  padding: '10px 14px 10px 40px',\n                  border: '1px solid #e8d5c4',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  outline: 'none',\n                  transition: 'all 0.2s ease'\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#c19a6b';\n                  e.target.style.boxShadow = '0 0 0 3px rgba(193, 154, 107, 0.1)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = '#e8d5c4';\n                  e.target.style.boxShadow = 'none';\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Category Filter */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '13px',\n              fontWeight: '600',\n              color: '#666',\n              marginBottom: '8px',\n              letterSpacing: '0.3px'\n            }}>\n              Filter by Category\n            </label>\n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '10px 14px',\n                border: '1px solid #e8d5c4',\n                borderRadius: '8px',\n                fontSize: '14px',\n                outline: 'none',\n                cursor: 'pointer',\n                background: 'white'\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#c19a6b';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = '#e8d5c4';\n              }}\n            >\n              <option value=\"all\">All Categories</option>\n              <option value=\"Living Room\">Living Room</option>\n              <option value=\"Dining Room\">Dining Room</option>\n              <option value=\"Bedroom\">Bedroom</option>\n              <option value=\"Office\">Office</option>\n            </select>\n          </div>\n\n          {/* Add Button */}\n          <button\n            onClick={() => router.push('/dashboard/products/new')}\n            style={{\n              padding: '10px 24px',\n              background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              transition: 'all 0.2s ease',\n              boxShadow: '0 2px 8px rgba(193, 154, 107, 0.2)'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 4px 12px rgba(193, 154, 107, 0.3)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 2px 8px rgba(193, 154, 107, 0.2)';\n            }}\n          >\n            <i className=\"fas fa-plus\"></i>\n            Add Product\n          </button>\n        </div>\n      </div>\n\n      {/* Products List */}\n      {contextError ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '32px',\n          textAlign: 'center',\n          border: '1px solid #fecaca',\n          backgroundColor: '#fee2e2'\n        }}>\n          <i className=\"fas fa-exclamation-circle\" style={{ fontSize: '48px', color: '#dc2626', marginBottom: '16px' }}></i>\n          <p style={{ color: '#991b1b', fontSize: '16px', fontWeight: '600' }}>{contextError}</p>\n        </div>\n      ) : loading ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading products...</p>\n        </div>\n      ) : filteredProducts.length === 0 ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px 32px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <i className=\"fas fa-box-open\" style={{ fontSize: '64px', color: '#e8d5c4', marginBottom: '16px' }}></i>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#333', marginBottom: '8px' }}>\n            No Products Found\n          </h3>\n          <p style={{ color: '#666', fontSize: '14px', marginBottom: '24px' }}>\n            {categoryFilter === 'all' && !searchTerm\n              ? \"Get started by adding your first product.\"\n              : \"Try adjusting your filters or search term.\"}\n          </p>\n          {categoryFilter === 'all' && !searchTerm && (\n            <button\n              onClick={() => router.push('/dashboard/products/new')}\n              style={{\n                padding: '10px 24px',\n                background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                fontSize: '14px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                display: 'inline-flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}\n            >\n              <i className=\"fas fa-plus\"></i>\n              Add Your First Product\n            </button>\n          )}\n        </div>\n      ) : (\n        <div className=\"products-grid\" style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n          gap: '20px'\n        }}>\n          {filteredProducts.map((product: any) => (\n            <div\n              key={product.id}\n              onClick={() => router.push(`/dashboard/products/${product.id}`)}\n              style={{\n                background: 'white',\n                borderRadius: '12px',\n                overflow: 'hidden',\n                boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n                border: '1px solid #e8d5c4',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.transform = 'translateY(-4px)';\n                e.currentTarget.style.boxShadow = '0 8px 20px rgba(193, 154, 107, 0.15)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = 'translateY(0)';\n                e.currentTarget.style.boxShadow = '0 4px 12px rgba(193, 154, 107, 0.08)';\n              }}\n            >\n              {/* Product Image */}\n              <div style={{\n                width: '100%',\n                height: '200px',\n                background: (product.primary_image || product.image_url)\n                  ? `url(${product.primary_image || product.image_url}) center/cover no-repeat`\n                  : 'linear-gradient(135deg, #f8f4f0, #efe9e3)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}>\n                {!(product.primary_image || product.image_url) && (\n                  <i className=\"fas fa-image\" style={{ fontSize: '48px', color: '#e8d5c4' }}></i>\n                )}\n              </div>\n\n              {/* Product Info */}\n              <div style={{ padding: '20px' }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'start',\n                  marginBottom: '8px'\n                }}>\n                  <h3 style={{\n                    fontSize: '16px',\n                    fontWeight: '600',\n                    color: '#333',\n                    margin: 0,\n                    flex: 1\n                  }}>\n                    {product.name}\n                  </h3>\n                  <span style={{\n                    display: 'inline-block',\n                    padding: '4px 10px',\n                    background: 'rgba(193, 154, 107, 0.1)',\n                    color: '#c19a6b',\n                    borderRadius: '6px',\n                    fontSize: '11px',\n                    fontWeight: '600',\n                    textTransform: 'uppercase',\n                    letterSpacing: '0.3px'\n                  }}>\n                    {product.category || 'Uncategorized'}\n                  </span>\n                </div>\n\n                <p style={{\n                  fontSize: '13px',\n                  color: '#666',\n                  margin: '8px 0',\n                  lineHeight: '1.5',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                  overflow: 'hidden'\n                }}>\n                  {product.description || 'No description available'}\n                </p>\n\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginTop: '16px',\n                  paddingTop: '16px',\n                  borderTop: '1px solid #f0f0f0'\n                }}>\n                  <div>\n                    <span style={{\n                      fontSize: '20px',\n                      fontWeight: '700',\n                      color: '#c19a6b'\n                    }}>\n                      â‚¹{product.price?.toLocaleString()}\n                    </span>\n                  </div>\n                  <div style={{ display: 'flex', gap: '8px' }}>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        router.push(`/dashboard/products/${product.id}`);\n                      }}\n                      style={{\n                        width: '36px',\n                        height: '36px',\n                        borderRadius: '8px',\n                        border: '1px solid #e8d5c4',\n                        background: 'white',\n                        color: '#c19a6b',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        transition: 'all 0.2s ease'\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.background = '#c19a6b';\n                        e.currentTarget.style.color = 'white';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.background = 'white';\n                        e.currentTarget.style.color = '#c19a6b';\n                      }}\n                    >\n                      <i className=\"fas fa-edit\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </DashboardLayout>\n    </>\n  );\n};\n\nexport default DashboardProductsPage;\n"],"names":["React","useState","useEffect","useAuth","useRouter","DashboardLayout","useProduct","DashboardProductsPage","router","user","products","fetchProducts","loading","error","contextError","filteredProducts","setFilteredProducts","categoryFilter","setCategoryFilter","searchTerm","setSearchTerm","push","role","length","filtered","filter","product","category","toLowerCase","name","includes","description","minHeight","display","alignItems","justifyContent","background","textAlign","width","height","border","borderTop","borderRadius","animation","margin","marginTop","color","fontSize","padding","marginBottom","boxShadow","gridTemplateColumns","gap","fontWeight","letterSpacing","position","left","top","transform","e","target","value","outline","transition","style","borderColor","cursor","currentTarget","backgroundColor","map","id","overflow","primary_image","image_url","flex","textTransform","lineHeight","WebkitLineClamp","WebkitBoxOrient","paddingTop","price","toLocaleString","stopPropagation"],"mappings":"4ZAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,qSAAuS,EACpU,oEACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,iRAAmR,EAChT,gDACA","ignoreList":[0]}