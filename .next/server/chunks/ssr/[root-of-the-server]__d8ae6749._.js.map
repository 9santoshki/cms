{"version":3,"sources":["turbopack:///[project]/src/app/checkout/success/page.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/checkout/success/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/checkout/success/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/checkout/success/page.tsx\",\n    \"default\",\n);\n","'use client';\n\nimport React, { useState, useEffect, Suspense } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\nimport { useAppContext } from '@/context/AppContext';\n\nconst CheckoutSuccessContent = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const orderId = searchParams.get('orderId');\n  const [order, setOrder] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const { user } = useAppContext();\n\n  useEffect(() => {\n    if (!orderId) {\n      router.push('/cart');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        setLoading(true);\n        \n        // In a real implementation, this would fetch order details from the API\n        // For now, we'll create mock order data based on the orderId\n        const mockOrder = {\n          id: orderId,\n          total_amount: 0, // This would come from the API\n          status: 'paid',\n          created_at: new Date().toISOString(),\n          shipping_address: {\n            name: user?.name || 'Customer',\n            address: 'Sample Address',\n            city: 'Sample City',\n            state: 'Sample State',\n            zipCode: '123456',\n            country: 'India'\n          },\n          items: [] // This would come from the API\n        };\n        \n        setOrder(mockOrder);\n      } catch (err: any) {\n        setError('Failed to fetch order details');\n        console.error('Error fetching order:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId, router, user]);\n\n  const handleContinueShopping = () => {\n    router.push('/');\n  };\n\n  const handleViewOrder = () => {\n    router.push(`/order/${order.id}`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Header activePage=\"checkout\" />\n        <div className=\"container mx-auto px-4 py-8 flex justify-center items-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Loading order details...</p>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Header activePage=\"checkout\" />\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-md mx-auto bg-white rounded-lg shadow-md p-8 text-center\">\n            <div className=\"text-red-500 text-5xl mb-4\">❌</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Order Error</h2>\n            <p className=\"text-gray-600 mb-6\">{error}</p>\n            <button\n              onClick={handleContinueShopping}\n              className=\"px-6 py-3 bg-amber-600 text-white rounded-md hover:bg-amber-700\"\n            >\n              Continue Shopping\n            </button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header activePage=\"checkout\" />\n\n      <main className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden\">\n          <div className=\"p-8\">\n            <div className=\"text-center mb-8\">\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Thank You for Your Order!</h1>\n              <p className=\"text-gray-600\">Your order has been placed successfully</p>\n            </div>\n\n            <div className=\"border-t border-gray-200 pt-6 mb-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Order Details</h3>\n                  <div className=\"space-y-2\">\n                    <p className=\"text-gray-600\"><span className=\"font-medium\">Order ID:</span> #{order.id}</p>\n                    <p className=\"text-gray-600\"><span className=\"font-medium\">Date:</span> {new Date(order.created_at).toLocaleDateString('en-IN')}</p>\n                    <p className=\"text-gray-600\"><span className=\"font-medium\">Status:</span> \n                      <span className=\"inline-flex items-center ml-2 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                        Paid\n                      </span>\n                    </p>\n                  </div>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Shipping Address</h3>\n                  <div className=\"text-gray-600\">\n                    <p>{order.shipping_address.name}</p>\n                    <p>{order.shipping_address.address}</p>\n                    <p>{order.shipping_address.city}, {order.shipping_address.state} {order.shipping_address.zipCode}</p>\n                    <p>{order.shipping_address.country}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border-t border-gray-200 pt-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Order Summary</h3>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Product\n                        </th>\n                        <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Quantity\n                        </th>\n                        <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Price\n                        </th>\n                        <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Total\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {order.items && order.items.length > 0 ? (\n                        order.items.map((item: any, index: number) => (\n                          <tr key={index}>\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\n                              <div className=\"text-sm font-medium text-gray-900\">{item.name}</div>\n                            </td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-500\">\n                              {item.quantity}\n                            </td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-500\">\n                              ₹{typeof item.price === 'number' ? item.price.toLocaleString() : parseFloat(item.price || '0').toLocaleString()}\n                            </td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900\">\n                              ₹{typeof item.price === 'number' \n                                ? (item.price * item.quantity).toLocaleString() \n                                : (parseFloat(item.price || '0') * item.quantity).toLocaleString()}\n                            </td>\n                          </tr>\n                        ))\n                      ) : (\n                        <tr>\n                          <td colSpan={4} className=\"px-6 py-4 text-center text-sm text-gray-500\">\n                            No items to display\n                          </td>\n                        </tr>\n                      )}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50\">\n                      <tr>\n                        <th scope=\"row\" colSpan={3} className=\"px-6 py-3 text-right text-sm font-medium text-gray-900\">\n                          Total\n                        </th>\n                        <td className=\"px-6 py-3 text-right text-sm font-bold text-gray-900\">\n                          ₹{order.total_amount?.toLocaleString() || '0'}\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col sm:flex-row justify-between gap-4 pt-6 border-t border-gray-200\">\n              <button\n                onClick={handleContinueShopping}\n                className=\"px-6 py-3 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300\"\n              >\n                Continue Shopping\n              </button>\n              <button\n                onClick={handleViewOrder}\n                className=\"px-6 py-3 bg-amber-600 text-white rounded-md hover:bg-amber-700\"\n              >\n                View Order Details\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-8 text-center text-gray-600\">\n          <p>An order confirmation email has been sent to {user?.email}</p>\n          <p className=\"mt-2\">Need help? Contact us at support@colormyspace.com</p>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n\nconst CheckoutSuccessPage = () => {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-gray-50\">\n        <Header activePage=\"checkout\" />\n        <div className=\"container mx-auto px-4 py-8 flex justify-center items-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Loading...</p>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    }>\n      <CheckoutSuccessContent />\n    </Suspense>\n  );\n};\n\nexport default CheckoutSuccessPage;"],"names":["React","useState","useEffect","Suspense","useRouter","useSearchParams","Header","Footer","useAppContext","CheckoutSuccessContent","router","searchParams","orderId","get","order","setOrder","loading","setLoading","error","setError","user","push","fetchOrder","mockOrder","id","total_amount","status","created_at","Date","toISOString","shipping_address","name","address","city","state","zipCode","country","items","err","console","handleContinueShopping","handleViewOrder","toLocaleDateString","length","map","item","index","quantity","price","toLocaleString","parseFloat","email","CheckoutSuccessPage"],"mappings":"iYAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,mSAAqS,EAClU,kEACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,+QAAiR,EAC9S,8CACA","ignoreList":[0]}