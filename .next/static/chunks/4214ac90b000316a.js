(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(s,e,a)=>{e.exports=s.r(76562)},39743,s=>{"use strict";var e=s.i(43476),a=s.i(71645),n=s.i(18566),r=s.i(63371);s.s(["default",0,()=>{let s=(0,n.useRouter)(),c=e=>{s.push(e)},{user:i,cartItems:l,orders:o,loading:t,error:d,fetchOrders:h}=(0,r.useAppContext)(),m=l.reduce((s,e)=>s+e.quantity,0);return((0,a.useEffect)(()=>{h()},[h]),t.orders)?(0,e.jsxs)("div",{className:"order-history-page",children:[(0,e.jsx)("nav",{className:"navbar",children:(0,e.jsxs)("div",{className:"nav-container",children:[(0,e.jsx)("div",{className:"nav-logo",children:(0,e.jsx)("h2",{children:"Colour My Space"})}),(0,e.jsxs)("div",{className:"nav-menu",children:[(0,e.jsx)("a",{href:"/",className:"nav-link",children:"Home"}),(0,e.jsx)("a",{href:"/shop",className:"nav-link",children:"Shop"}),(0,e.jsx)("a",{href:"#portfolio",className:"nav-link",children:"Portfolio"}),(0,e.jsx)("a",{href:"#services",className:"nav-link",children:"Services"}),i&&(0,e.jsx)("a",{href:"/orders",className:"nav-link",children:"Orders"}),(0,e.jsx)("a",{href:"#about",className:"nav-link",children:"About"}),(0,e.jsx)("a",{href:"#contact",className:"nav-link",children:"Contact"})]}),(0,e.jsxs)("div",{className:"nav-icons",children:[(0,e.jsx)("button",{className:"nav-icon",children:(0,e.jsx)("i",{className:"fas fa-search"})}),i?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{className:"nav-icon",onClick:()=>{let s=window.location.pathname;c(`/auth?redirect=${encodeURIComponent(s)}`)},children:(0,e.jsx)("i",{className:"fas fa-sign-out-alt"})}),(0,e.jsxs)("span",{className:"user-greeting",children:["Hi, ",i.name]})]}):(0,e.jsx)("button",{className:"nav-icon",onClick:()=>{let s=window.location.pathname;c(`/auth?redirect=${encodeURIComponent(s)}`)},children:(0,e.jsx)("i",{className:"fas fa-user"})}),(0,e.jsxs)("button",{className:"nav-icon",onClick:()=>c("/cart"),children:[(0,e.jsx)("i",{className:"fas fa-shopping-cart"}),l.length>0&&(0,e.jsx)("span",{className:"cart-count",children:m})]})]}),(0,e.jsxs)("div",{className:"nav-toggle",children:[(0,e.jsx)("span",{className:"bar"}),(0,e.jsx)("span",{className:"bar"}),(0,e.jsx)("span",{className:"bar"})]})]})}),(0,e.jsxs)("div",{className:"order-history-container",children:[(0,e.jsxs)("div",{className:"order-history-header",children:[(0,e.jsx)("h2",{children:"Order History"}),(0,e.jsx)("p",{children:"Loading your orders..."})]}),(0,e.jsx)("div",{className:"order-history-content",children:(0,e.jsx)("div",{className:"loading-container",children:(0,e.jsx)("div",{className:"loading-spinner"})})})]})]}):(0,e.jsxs)("div",{className:"order-history-page",children:[(0,e.jsx)("nav",{className:"navbar",children:(0,e.jsxs)("div",{className:"nav-container",children:[(0,e.jsx)("div",{className:"nav-logo",children:(0,e.jsx)("h2",{children:"Colour My Space"})}),(0,e.jsxs)("div",{className:"nav-menu",children:[(0,e.jsx)("a",{href:"/",className:"nav-link",children:"Home"}),(0,e.jsx)("a",{href:"/shop",className:"nav-link",children:"Shop"}),(0,e.jsx)("a",{href:"#portfolio",className:"nav-link",children:"Portfolio"}),(0,e.jsx)("a",{href:"#services",className:"nav-link",children:"Services"}),i&&(0,e.jsx)("a",{href:"/orders",className:"nav-link",children:"Orders"}),(0,e.jsx)("a",{href:"#",className:"nav-link",onClick:s=>{s.preventDefault(),c("/about")},children:"About"}),(0,e.jsx)("a",{href:"#",className:"nav-link",onClick:s=>{s.preventDefault(),c("/contact")},children:"Contact"})]}),(0,e.jsxs)("div",{className:"nav-menu",children:[(0,e.jsx)("a",{href:"#",className:"nav-link",onClick:s=>{s.preventDefault(),c("/about")},children:"About"}),(0,e.jsx)("a",{href:"#",className:"nav-link",onClick:s=>{s.preventDefault(),c("/contact")},children:"Contact"})]}),(0,e.jsxs)("div",{className:"nav-icons",children:[(0,e.jsx)("button",{className:"nav-icon",children:(0,e.jsx)("i",{className:"fas fa-search"})}),i?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{className:"nav-icon",onClick:()=>c("/auth"),children:(0,e.jsx)("i",{className:"fas fa-sign-out-alt"})}),(0,e.jsxs)("span",{className:"user-greeting",children:["Hi, ",i.name]})]}):(0,e.jsx)("button",{className:"nav-icon",onClick:()=>{let s=window.location.pathname;c(`/auth?redirect=${encodeURIComponent(s)}`)},children:(0,e.jsx)("i",{className:"fas fa-user"})}),i&&(0,e.jsxs)("button",{className:"nav-icon",onClick:()=>c("/cart"),children:[(0,e.jsx)("i",{className:"fas fa-shopping-cart"}),l.length>0&&(0,e.jsx)("span",{className:"cart-count",children:m})]})]}),(0,e.jsxs)("div",{className:"nav-toggle",children:[(0,e.jsx)("span",{className:"bar"}),(0,e.jsx)("span",{className:"bar"}),(0,e.jsx)("span",{className:"bar"})]})]})}),(0,e.jsxs)("div",{className:"order-history-container",children:[(0,e.jsxs)("div",{className:"order-history-header",children:[(0,e.jsx)("h2",{children:"Order History"}),(0,e.jsx)("p",{children:"Your past purchases"})]}),d.orders&&(0,e.jsx)("div",{className:"error-message",children:d.orders}),(0,e.jsx)("div",{className:"order-history-content",children:0===o.length?(0,e.jsxs)("div",{className:"empty-orders",children:[(0,e.jsx)("i",{className:"fas fa-shopping-bag"}),(0,e.jsx)("h3",{children:"No orders yet"}),(0,e.jsx)("p",{children:"You haven't placed any orders yet."}),(0,e.jsx)("button",{className:"btn primary",onClick:()=>c("/shop"),children:"Start Shopping"})]}):(0,e.jsx)("div",{className:"orders-list",children:[...o].reverse().map((s,a)=>{var n;return(0,e.jsxs)("div",{className:"order-card",children:[(0,e.jsxs)("div",{className:"order-header",children:[(0,e.jsxs)("div",{className:"order-id",children:[(0,e.jsxs)("span",{children:["Order #",s.id||a+1]}),(0,e.jsx)("span",{className:"order-date",children:(n=s.created_at||s.date)?new Date(n).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""})]}),(0,e.jsxs)("div",{className:"order-total",children:["₹",(s.total_amount??s.total??0).toLocaleString()]})]}),(0,e.jsx)("div",{className:"order-items",children:s.items&&s.items.map((s,a)=>(0,e.jsxs)("div",{className:"order-item",children:[(0,e.jsx)("div",{className:"item-name",children:s.name||s.product_name}),(0,e.jsxs)("div",{className:"item-quantity",children:["Qty: ",s.quantity]}),(0,e.jsxs)("div",{className:"item-price",children:["₹",(("number"==typeof s.price?s.price:parseFloat(s.price||"0"))*s.quantity).toLocaleString()]})]},s.id||a))}),s.customer&&(0,e.jsxs)("div",{className:"order-customer",children:[(0,e.jsxs)("div",{className:"customer-info",children:[(0,e.jsx)("strong",{children:"Customer:"})," ",s.customer.name]}),(0,e.jsxs)("div",{className:"customer-info",children:[(0,e.jsx)("strong",{children:"Email:"})," ",s.customer.email]})]})]},s.id||a)})})})]})]})}],39743)}]);