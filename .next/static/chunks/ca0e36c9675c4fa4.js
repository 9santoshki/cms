(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80230,e=>{"use strict";let t,r,i,n,a;var l,s=e.i(71645);let u=e=>{let t,r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,a={setState:i,getState:n,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(i,n,a);return a},o=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>o(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>o(t)(e)}}},d=(n=(l=(t=(e,t)=>({items:[],addItem:t=>e(e=>{let r=e.items.findIndex(e=>e.product_id===t.product_id);if(!(r>=0))return{items:[...e.items,t]};{let i=[...e.items];return i[r]={...i[r],quantity:i[r].quantity+t.quantity},{items:i}}}),updateItem:(t,r)=>e(e=>r<=0?{items:e.items.filter(e=>e.product_id!==t)}:{items:e.items.map(e=>e.product_id===t?{...e,quantity:r}:e)}),removeItem:t=>e(e=>({items:e.items.filter(e=>e.product_id!==t)})),clearCart:()=>e({items:[]}),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0)}),r=(e,r,i)=>{let n=i.subscribe;return i.subscribe=(e,t,r)=>{let a=e;if(t){let n=(null==r?void 0:r.equalityFn)||Object.is,l=e(i.getState());a=r=>{let i=e(r);if(!n(l,i)){let e=l;t(l=i,e)}},(null==r?void 0:r.fireImmediately)&&t(l,l)}return n(a)},t(e,r,i)},i={name:"cart-storage",partialize:e=>({items:e.items})},(e,t,n)=>{let a,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let i=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(i):i(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...i},s=!1,u=new Set,d=new Set,c=l.storage;if(!c)return r((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),e(...t)},t,n);let m=()=>{let e=l.partialize({...t()});return c.setItem(l.name,{state:e,version:l.version})},f=n.setState;n.setState=(e,t)=>(f(e,t),m());let g=r((...t)=>(e(...t),m()),t,n);n.getInitialState=()=>g;let v=()=>{var r,i;if(!c)return;s=!1,u.forEach(e=>{var r;return e(null!=(r=t())?r:g)});let n=(null==(i=l.onRehydrateStorage)?void 0:i.call(l,null!=(r=t())?r:g))||void 0;return o(c.getItem.bind(c))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var i;let[n,s]=r;if(e(a=l.merge(s,null!=(i=t())?i:g),!0),n)return m()}).then(()=>{null==n||n(a,void 0),a=t(),s=!0,d.forEach(e=>e(a))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{l={...l,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},l.skipHydration||v(),a||g}))?u(l):u,Object.assign(a=e=>(function(e,t=e=>e){let r=s.default.useSyncExternalStore(e.subscribe,s.default.useCallback(()=>t(e.getState()),[e,t]),s.default.useCallback(()=>t(e.getInitialState()),[e,t]));return s.default.useDebugValue(r),r})(n,e),n),a);e.s(["useCartStore",0,d],80230)}]);