(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,s)=>{a.exports=e.r(76562)},33256,e=>{"use strict";var a=e.i(43476),s=e.i(18566),r=e.i(63371),i=e.i(45828);e.s(["default",0,({onClose:e=()=>{}})=>{let{error:l,setError:t,loading:n}=(0,r.useAppContext)();(0,s.useRouter)();let c=(0,s.useSearchParams)();c?.get("redirect");let o=async()=>{try{t("auth",null),await (0,i.signInWithGoogle)(),e()}catch(e){console.error("Google sign-in error:",e),t("auth",e.message||"Google authentication failed. Please try again.")}};return(0,a.jsx)("div",{className:"auth-page",children:(0,a.jsxs)("div",{className:"auth-container-elegant",children:[(0,a.jsx)("button",{onClick:e,className:"close-btn absolute top-6 right-6 w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center z-10",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"auth-header-elegant text-center mb-8",children:(0,a.jsxs)("div",{className:"auth-title",children:[(0,a.jsx)("h2",{className:"auth-main-title text-3xl font-bold text-gray-900 mb-3",children:"Sign in to Your Account"}),(0,a.jsx)("p",{className:"auth-subtitle text-gray-600",children:"Use your Google account to continue"})]})}),l?.auth&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:l.auth})]})}),(0,a.jsx)("div",{className:"google-auth-section-elegant mb-6",children:(0,a.jsx)("button",{onClick:o,disabled:n?.auth,className:`w-full flex items-center justify-center px-6 py-4 border-2 rounded-xl transition-colors duration-300 font-medium shadow-sm ${n?.auth?"bg-gray-200 border-gray-300 cursor-not-allowed":"bg-white border-gray-300 hover:border-amber-400 text-gray-700"}`,children:n?.auth?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",className:"mr-3",children:[(0,a.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,a.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,a.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,a.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})})}),(0,a.jsx)("div",{className:"text-center text-sm text-gray-500 mt-6",children:"By signing in with Google, you agree to our Terms of Service and Privacy Policy."})]})})}])},30275,e=>{"use strict";e.s(["calculateCartTotal",0,e=>e.reduce((e,a)=>e+("number"==typeof a.price?a.price:parseFloat(a.price||"0"))*a.quantity,0),"calculateDiscountSavings",0,e=>e.reduce((e,a)=>{let s="number"==typeof a.price?a.price:parseFloat(a.price||"0"),r="number"==typeof a.originalPrice?a.originalPrice:null;return(null===r||r<=s)&&(r=1.25*s),e+(r-s)*a.quantity},0),"calculateOriginalCartTotal",0,e=>e.reduce((e,a)=>{let s="number"==typeof a.originalPrice?a.originalPrice:null;return(null===s||s<=("number"==typeof a.price?a.price:parseFloat(a.price||"0")))&&(s=1.25*("number"==typeof a.price?a.price:parseFloat(a.price||"0"))),e+s*a.quantity},0),"calculateShippingCost",0,e=>e>5e4?0:1500])},65150,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(18566),i=e.i(63371),l=e.i(2971),t=e.i(30275);e.s(["default",0,()=>{let e=(0,r.useRouter)(),n=a=>{e.push(a)},{cartItems:c,loading:o,error:d,setError:h,createOrder:m}=(0,i.useAppContext)(),[p,u]=(0,s.useState)({name:"",email:"",phone:"",address:"",city:"",zipCode:"",paymentMethod:"razorpay"}),[x,j]=(0,s.useState)(!1),[g,v]=(0,s.useState)({}),{user:y}=(0,i.useAppContext)();(0,s.useEffect)(()=>{y&&u(e=>({...e,name:y.name||"",email:y.email||""}))},[y]);let N=e=>{let{name:a,value:s}=e.target;u({...p,[a]:s}),g[a]&&v(e=>({...e,[a]:""})),d.orders&&h("orders","")},f=(0,t.calculateCartTotal)(c),b=(0,t.calculateShippingCost)(f),C=f+b,w=async e=>{let a,s;if(e.preventDefault(),a={},s=!0,p.name.trim()||(a.name="Full name is required",s=!1),p.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(a.email="Please enter a valid email address",s=!1):(a.email="Email is required",s=!1),p.phone.trim()||(a.phone="Phone number is required",s=!1),p.address.trim()||(a.address="Address is required",s=!1),p.city.trim()||(a.city="City is required",s=!1),p.zipCode.trim()||(a.zipCode="ZIP code is required",s=!1),v(a),s)try{let e={customer:p,items:c.map(e=>({id:e.id,quantity:e.quantity,price:"number"==typeof e.price?e.price.toString():e.price,name:e.name})),total_amount:C.toString(),status:"pending",created_at:new Date().toISOString()};await m(e),j(!0),setTimeout(()=>{j(!1),n("/")},5e3)}catch(e){console.error("Checkout error:",e),h("orders","Failed to place order. Please try again.")}};return x?(0,a.jsxs)("div",{className:"order-confirmation-page",children:[(0,a.jsx)(l.default,{}),(0,a.jsxs)("div",{className:"confirmation-content",children:[(0,a.jsx)("i",{className:"fas fa-check-circle confirmation-icon"}),(0,a.jsx)("h2",{children:"Order Confirmed!"}),(0,a.jsxs)("p",{children:["Thank you for your purchase. We've sent a confirmation email to ",p.email,"."]}),(0,a.jsxs)("p",{children:["Your order number is #",Math.floor(1e7*Math.random())]}),(0,a.jsx)("p",{children:"Redirecting to home page..."})]})]}):0===c.length?(0,a.jsxs)("div",{className:"checkout-page",children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("div",{className:"checkout-header",children:(0,a.jsx)("h1",{children:"Checkout"})}),(0,a.jsxs)("div",{className:"empty-cart",children:[(0,a.jsx)("i",{className:"fas fa-shopping-cart"}),(0,a.jsx)("h2",{children:"Your cart is empty"}),(0,a.jsx)("p",{children:"You need to add items to your cart before checking out."}),(0,a.jsx)("button",{className:"btn primary",onClick:()=>n("/shop"),children:"Continue Shopping"})]})]}):(0,a.jsxs)("div",{className:"checkout-page",children:[(0,a.jsx)(l.default,{}),(0,a.jsxs)("div",{className:"checkout-header",children:[(0,a.jsx)("h1",{children:"Checkout"}),(0,a.jsxs)("div",{className:"checkout-progress",children:[(0,a.jsxs)("div",{className:"progress-step active",children:[(0,a.jsx)("span",{className:"step-number",children:"1"}),(0,a.jsx)("span",{className:"step-label",children:"Cart"})]}),(0,a.jsx)("div",{className:"progress-line"}),(0,a.jsxs)("div",{className:"progress-step active",children:[(0,a.jsx)("span",{className:"step-number",children:"2"}),(0,a.jsx)("span",{className:"step-label",children:"Information"})]}),(0,a.jsx)("div",{className:"progress-line"}),(0,a.jsxs)("div",{className:"progress-step",children:[(0,a.jsx)("span",{className:"step-number",children:"3"}),(0,a.jsx)("span",{className:"step-label",children:"Payment"})]}),(0,a.jsx)("div",{className:"progress-line"}),(0,a.jsxs)("div",{className:"progress-step",children:[(0,a.jsx)("span",{className:"step-number",children:"4"}),(0,a.jsx)("span",{className:"step-label",children:"Confirmation"})]})]})]}),d.orders&&(0,a.jsx)("div",{className:"error-message",children:d.orders}),(0,a.jsxs)("div",{className:"checkout-container",children:[(0,a.jsx)("div",{className:"checkout-form-section",children:(0,a.jsxs)("form",{onSubmit:w,className:"checkout-form",children:[(0,a.jsxs)("div",{className:"form-section",children:[(0,a.jsx)("h2",{children:"Shipping Information"}),(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:p.name,onChange:N,className:g.name?"error":"",required:!0}),g.name&&(0,a.jsx)("span",{className:"error-text",children:g.name})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:p.email,onChange:N,className:g.email?"error":"",required:!0}),g.email&&(0,a.jsx)("span",{className:"error-text",children:g.email})]})]}),(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,a.jsx)("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:N,className:g.phone?"error":"",required:!0}),g.phone&&(0,a.jsx)("span",{className:"error-text",children:g.phone})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code *"}),(0,a.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:p.zipCode,onChange:N,className:g.zipCode?"error":"",required:!0}),g.zipCode&&(0,a.jsx)("span",{className:"error-text",children:g.zipCode})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"address",children:"Street Address *"}),(0,a.jsx)("textarea",{id:"address",name:"address",value:p.address,onChange:N,className:g.address?"error":"",required:!0,rows:2}),g.address&&(0,a.jsx)("span",{className:"error-text",children:g.address})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"city",children:"City *"}),(0,a.jsxs)("select",{id:"city",name:"city",value:p.city,onChange:N,className:g.city?"error":"",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select City"}),(0,a.jsx)("option",{value:"Mumbai",children:"Mumbai"}),(0,a.jsx)("option",{value:"Delhi",children:"Delhi"}),(0,a.jsx)("option",{value:"Bangalore",children:"Bangalore"}),(0,a.jsx)("option",{value:"Hyderabad",children:"Hyderabad"}),(0,a.jsx)("option",{value:"Ahmedabad",children:"Ahmedabad"}),(0,a.jsx)("option",{value:"Chennai",children:"Chennai"}),(0,a.jsx)("option",{value:"Kolkata",children:"Kolkata"}),(0,a.jsx)("option",{value:"Pune",children:"Pune"}),(0,a.jsx)("option",{value:"Jaipur",children:"Jaipur"}),(0,a.jsx)("option",{value:"Surat",children:"Surat"}),(0,a.jsx)("option",{value:"Lucknow",children:"Lucknow"}),(0,a.jsx)("option",{value:"Kanpur",children:"Kanpur"}),(0,a.jsx)("option",{value:"Nagpur",children:"Nagpur"}),(0,a.jsx)("option",{value:"Indore",children:"Indore"}),(0,a.jsx)("option",{value:"Thane",children:"Thane"}),(0,a.jsx)("option",{value:"Bhopal",children:"Bhopal"}),(0,a.jsx)("option",{value:"Visakhapatnam",children:"Visakhapatnam"}),(0,a.jsx)("option",{value:"Pimpri-Chinchwad",children:"Pimpri-Chinchwad"}),(0,a.jsx)("option",{value:"Patna",children:"Patna"}),(0,a.jsx)("option",{value:"Vadodara",children:"Vadodara"})]}),g.city&&(0,a.jsx)("span",{className:"error-text",children:g.city})]})]}),(0,a.jsxs)("div",{className:"form-section",children:[(0,a.jsx)("h2",{children:"Payment Method"}),(0,a.jsx)("div",{className:"payment-options",children:[{id:"razorpay",label:"Credit/Debit Card (Razorpay)",icon:"fas fa-credit-card"},{id:"upi",label:"UPI (Razorpay)",icon:"fas fa-qrcode"},{id:"netbanking",label:"Net Banking (Razorpay)",icon:"fas fa-university"},{id:"paypal",label:"PayPal",icon:"fab fa-paypal"},{id:"cod",label:"Cash on Delivery",icon:"fas fa-money-bill-wave"}].map(e=>(0,a.jsxs)("label",{className:"payment-option",children:[(0,a.jsx)("input",{type:"radio",name:"paymentMethod",value:e.id,checked:p.paymentMethod===e.id,onChange:N}),(0,a.jsxs)("div",{className:"payment-option-content",children:[(0,a.jsx)("div",{className:"payment-icon",children:(0,a.jsx)("i",{className:e.icon})}),(0,a.jsx)("div",{className:"payment-info",children:(0,a.jsx)("span",{className:"payment-title",children:e.label})})]})]},e.id))})]})]})}),(0,a.jsx)("div",{className:"checkout-summary-section",children:(0,a.jsxs)("div",{className:"checkout-summary checkout-summary-sticky",children:[(0,a.jsx)("h2",{children:"Order Summary"}),(0,a.jsx)("div",{className:"summary-items",children:c.map(e=>(0,a.jsxs)("div",{className:"summary-item",children:[(0,a.jsxs)("div",{className:"item-details",children:[(0,a.jsx)("h3",{children:e.name}),(0,a.jsxs)("p",{children:["Qty: ",e.quantity]})]}),(0,a.jsxs)("div",{className:"item-price",children:["₹","number"==typeof e.price?(e.price*e.quantity).toLocaleString():(parseFloat(e.price||"0")*e.quantity).toLocaleString()]})]},e.id))}),(0,a.jsxs)("div",{className:"summary-totals",children:[(0,a.jsxs)("div",{className:"total-row",children:[(0,a.jsx)("span",{children:"Original Price"}),(0,a.jsxs)("span",{children:["₹",(0,t.calculateOriginalCartTotal)(c).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"total-row",style:{color:"#28a745",fontWeight:"600"},children:[(0,a.jsx)("span",{children:"You saved"}),(0,a.jsxs)("span",{children:["-₹",(0,t.calculateDiscountSavings)(c).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"total-row",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",f.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"total-row",children:[(0,a.jsx)("span",{children:"Shipping"}),(0,a.jsx)("span",{children:0===b?"FREE":`₹${b.toLocaleString()}`})]}),(0,a.jsxs)("div",{className:"total-row grand-total",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",C.toLocaleString()]})]})]})]})})]}),(0,a.jsx)("div",{className:"checkout-payment-section",children:(0,a.jsx)("button",{type:"submit",className:"btn primary checkout-button",disabled:o.orders,children:o.orders?"Processing Order...":["razorpay","upi","netbanking"].includes(p.paymentMethod)?`Pay with ${"razorpay"===p.paymentMethod?"Card":"upi"===p.paymentMethod?"UPI":"Net Banking"} - ₹${C.toLocaleString()}`:`Complete Order - ₹${C.toLocaleString()}`})})]})}])},56744,e=>{e.v(e=>Promise.resolve().then(()=>e(17255)))}]);