(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83598,(e,s,a)=>{s.exports=e.r(63962)},45794,e=>{"use strict";e.s(["calculateCartTotal",0,e=>e.reduce((e,s)=>e+("number"==typeof s.price?s.price:parseFloat(s.price||"0"))*s.quantity,0),"calculateShippingCost",0,e=>e>5e4?0:1500])},50541,e=>{"use strict";var s=e.i(24431),a=e.i(33225),r=e.i(83598),i=e.i(33637),l=e.i(62433),t=e.i(45794);e.s(["default",0,()=>{let e=(0,r.useRouter)(),n=s=>{e.push(s)},{cartItems:c,loading:d,error:o,setError:m,createOrder:h}=(0,i.useAppContext)(),[p,u]=(0,a.useState)({name:"",email:"",phone:"",address:"",city:"",zipCode:"",paymentMethod:"credit-card"}),[x,j]=(0,a.useState)(!1),[N,y]=(0,a.useState)({}),{user:v}=(0,i.useAppContext)();(0,a.useEffect)(()=>{v&&u(e=>({...e,name:v.name||"",email:v.email||""}))},[v]);let g=e=>{let{name:s,value:a}=e.target;u({...p,[s]:a}),N[s]&&y(e=>({...e,[s]:""})),o.orders&&m("orders","")},f=(0,t.calculateCartTotal)(c),b=(0,t.calculateShippingCost)(f),C=f+b,S=async e=>{let s,a;if(e.preventDefault(),s={},a=!0,p.name.trim()||(s.name="Full name is required",a=!1),p.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(s.email="Please enter a valid email address",a=!1):(s.email="Email is required",a=!1),p.phone.trim()||(s.phone="Phone number is required",a=!1),p.address.trim()||(s.address="Address is required",a=!1),p.city.trim()||(s.city="City is required",a=!1),p.zipCode.trim()||(s.zipCode="ZIP code is required",a=!1),y(s),a)try{let e={customer:p,items:c.map(e=>({id:e.id,quantity:e.quantity,price:"number"==typeof e.price?e.price.toString():e.price,name:e.name})),total_amount:C.toString(),status:"pending",created_at:new Date().toISOString()};await h(e),j(!0),setTimeout(()=>{j(!1),n("/")},5e3)}catch(e){console.error("Checkout error:",e),m("orders","Failed to place order. Please try again.")}};return x?(0,s.jsxs)("div",{className:"order-confirmation-page",children:[(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"confirmation-content",children:[(0,s.jsx)("i",{className:"fas fa-check-circle confirmation-icon"}),(0,s.jsx)("h2",{children:"Order Confirmed!"}),(0,s.jsxs)("p",{children:["Thank you for your purchase. We've sent a confirmation email to ",p.email,"."]}),(0,s.jsxs)("p",{children:["Your order number is #",Math.floor(1e7*Math.random())]}),(0,s.jsx)("p",{children:"Redirecting to home page..."})]})]}):0===c.length?(0,s.jsxs)("div",{className:"checkout-page",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"checkout-header",children:(0,s.jsx)("h1",{children:"Checkout"})}),(0,s.jsxs)("div",{className:"empty-cart",children:[(0,s.jsx)("i",{className:"fas fa-shopping-cart"}),(0,s.jsx)("h2",{children:"Your cart is empty"}),(0,s.jsx)("p",{children:"You need to add items to your cart before checking out."}),(0,s.jsx)("button",{className:"btn primary",onClick:()=>n("/shop"),children:"Continue Shopping"})]})]}):(0,s.jsxs)("div",{className:"checkout-page",children:[(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"checkout-header",children:[(0,s.jsx)("h1",{children:"Checkout"}),(0,s.jsxs)("div",{className:"checkout-progress",children:[(0,s.jsxs)("div",{className:"progress-step active",children:[(0,s.jsx)("span",{className:"step-number",children:"1"}),(0,s.jsx)("span",{className:"step-label",children:"Cart"})]}),(0,s.jsx)("div",{className:"progress-line"}),(0,s.jsxs)("div",{className:"progress-step active",children:[(0,s.jsx)("span",{className:"step-number",children:"2"}),(0,s.jsx)("span",{className:"step-label",children:"Information"})]}),(0,s.jsx)("div",{className:"progress-line"}),(0,s.jsxs)("div",{className:"progress-step",children:[(0,s.jsx)("span",{className:"step-number",children:"3"}),(0,s.jsx)("span",{className:"step-label",children:"Payment"})]}),(0,s.jsx)("div",{className:"progress-line"}),(0,s.jsxs)("div",{className:"progress-step",children:[(0,s.jsx)("span",{className:"step-number",children:"4"}),(0,s.jsx)("span",{className:"step-label",children:"Confirmation"})]})]})]}),o.orders&&(0,s.jsx)("div",{className:"error-message",children:o.orders}),(0,s.jsxs)("div",{className:"checkout-container",children:[(0,s.jsx)("div",{className:"checkout-form-section",children:(0,s.jsxs)("form",{onSubmit:S,className:"checkout-form",children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h2",{children:"Shipping Information"}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:p.name,onChange:g,className:N.name?"error":"",required:!0}),N.name&&(0,s.jsx)("span",{className:"error-text",children:N.name})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:p.email,onChange:g,className:N.email?"error":"",required:!0}),N.email&&(0,s.jsx)("span",{className:"error-text",children:N.email})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:g,className:N.phone?"error":"",required:!0}),N.phone&&(0,s.jsx)("span",{className:"error-text",children:N.phone})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code *"}),(0,s.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:p.zipCode,onChange:g,className:N.zipCode?"error":"",required:!0}),N.zipCode&&(0,s.jsx)("span",{className:"error-text",children:N.zipCode})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"address",children:"Street Address *"}),(0,s.jsx)("textarea",{id:"address",name:"address",value:p.address,onChange:g,className:N.address?"error":"",required:!0,rows:2}),N.address&&(0,s.jsx)("span",{className:"error-text",children:N.address})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"city",children:"City *"}),(0,s.jsx)("input",{type:"text",id:"city",name:"city",value:p.city,onChange:g,className:N.city?"error":"",required:!0}),N.city&&(0,s.jsx)("span",{className:"error-text",children:N.city})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h2",{children:"Payment Method"}),(0,s.jsx)("div",{className:"payment-options",children:[{id:"credit-card",label:"Credit Card",icon:"fas fa-credit-card"},{id:"paypal",label:"PayPal",icon:"fab fa-paypal"},{id:"cod",label:"Cash on Delivery",icon:"fas fa-money-bill-wave"}].map(e=>(0,s.jsxs)("label",{className:"payment-option",children:[(0,s.jsx)("input",{type:"radio",name:"paymentMethod",value:e.id,checked:p.paymentMethod===e.id,onChange:g}),(0,s.jsxs)("div",{className:"payment-option-content",children:[(0,s.jsx)("div",{className:"payment-icon",children:(0,s.jsx)("i",{className:e.icon})}),(0,s.jsx)("div",{className:"payment-info",children:(0,s.jsx)("span",{className:"payment-title",children:e.label})})]})]},e.id))})]}),(0,s.jsx)("button",{type:"submit",className:"btn primary checkout-button",disabled:d.orders,children:d.orders?"Processing Order...":`Complete Order - ₹${C.toLocaleString()}`})]})}),(0,s.jsx)("div",{className:"checkout-summary-section",children:(0,s.jsxs)("div",{className:"checkout-summary",children:[(0,s.jsx)("h2",{children:"Order Summary"}),(0,s.jsx)("div",{className:"summary-items",children:c.map(e=>(0,s.jsxs)("div",{className:"summary-item",children:[(0,s.jsxs)("div",{className:"item-details",children:[(0,s.jsx)("h3",{children:e.name}),(0,s.jsxs)("p",{children:["Qty: ",e.quantity]})]}),(0,s.jsxs)("div",{className:"item-price",children:["₹","number"==typeof e.price?(e.price*e.quantity).toLocaleString():(parseFloat(e.price||"0")*e.quantity).toLocaleString()]})]},e.id))}),(0,s.jsxs)("div",{className:"summary-totals",children:[(0,s.jsxs)("div",{className:"total-row",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsxs)("span",{children:["₹",f.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"total-row",children:[(0,s.jsx)("span",{children:"Shipping"}),(0,s.jsx)("span",{children:0===b?"FREE":`₹${b.toLocaleString()}`})]}),(0,s.jsxs)("div",{className:"total-row grand-total",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["₹",C.toLocaleString()]})]})]})]})})]})]})}])}]);