(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13500,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function l(){let[e,l]=(0,t.useState)(null),[n,o]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{fetch("/api/debug/oauth-config").then(e=>e.json()).then(e=>{l(e),o(!1)})},[]),n)?(0,s.jsx)("div",{className:"p-8",children:"Loading..."}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"OAuth Configuration Debugger"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Current Configuration"}),(0,s.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Client ID:"})," ",e.clientIdFull]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Client Secret:"})," ",e.clientSecretSet?"âœ“ Set":"âœ— Not Set"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Environment:"})," ",e.environment]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Redirect URI (this page):"})," ",window.location.origin,"/auth/callback"]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-blue-900",children:"Google Console Setup"}),(0,s.jsx)("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:e.instructions.map((e,t)=>(0,s.jsx)("li",{className:"text-gray-700",children:e},t))}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Open Google Console â†’"})})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-green-900",children:"Test OAuth Flow"}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Click the button below to test the OAuth flow. You should be redirected to Google and then back to your app."}),(0,s.jsx)("button",{onClick:()=>{let s=`${window.location.origin}/auth/callback`,t=new URL("https://accounts.google.com/o/oauth2/v2/auth");t.searchParams.set("client_id",e.clientIdFull),t.searchParams.set("redirect_uri",s),t.searchParams.set("response_type","code"),t.searchParams.set("scope","openid email profile"),t.searchParams.set("access_type","offline"),t.searchParams.set("prompt","consent"),window.location.href=t.toString()},className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-semibold",children:"ðŸ” Test Google Sign-In"})]}),(0,s.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-yellow-900",children:"Common Issues"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-sm text-gray-700",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Wrong Client ID:"})," Make sure you're configuring the correct Client ID in Google Console (there are different ones for local vs production)"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Trailing slash:"})," Don't add a trailing slash to the redirect URI (use ",(0,s.jsx)("code",{children:"/auth/callback"})," not ",(0,s.jsx)("code",{children:"/auth/callback/"}),")"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Propagation delay:"})," Google Console changes can take 2-5 minutes to take effect"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"HTTP vs HTTPS:"})," Use http:// for localhost and https:// for production"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"OAuth Consent Screen:"})," Make sure your OAuth consent screen is configured and published (or in testing mode with your email added as a test user)"]})]})]})]})})}e.s(["default",()=>l])}]);