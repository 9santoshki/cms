{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/lib/auth.ts"],"sourcesContent":["import NextAuth from 'next-auth';\nimport GoogleProvider from 'next-auth/providers/google';\n\nimport type { NextAuthOptions } from 'next-auth';\n\nexport const authOptions: NextAuthOptions = {\n  providers: [\n    GoogleProvider({\n      clientId: process.env.GOOGLE_CLIENT_ID!,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n    }),\n  ],\n  secret: process.env.NEXTAUTH_SECRET, // You should add this to your environment variables\n  session: {\n    strategy: 'jwt',\n  },\n  callbacks: {\n    async signIn({ account, profile }) {\n      // Only allow sign in if it's a Google account\n      if (account?.provider === 'google' && profile?.email) {\n        return true; // Allow sign in\n      }\n      return false; // Deny sign in for other providers\n    },\n    async jwt({ token, account, profile }) {\n      if (account && profile) {\n        token.id = profile.sub; // Google user ID\n        token.name = profile.name;\n        token.email = profile.email;\n        // Use the correct property name based on the Google profile type\n        token.picture = (profile as any).picture || (profile as any).image || (profile as any).avatar_url;\n      }\n      return token;\n    },\n    async session({ session, token }) {\n      return {\n        ...session,\n        user: {\n          ...session.user,\n          id: token.sub as string,\n          name: token.name as string,\n          email: token.email as string,\n          image: token.picture as string,\n        }\n      };\n    },\n  },\n  pages: {\n    signIn: '/auth/login', // Custom sign in page if needed\n  },\n  // Add debug to see what's happening during auth\n  debug: process.env.NODE_ENV === 'development',\n};\n\nconst handler = NextAuth(authOptions);\n\nexport default handler;\nexport { handler as auth };"],"names":["NextAuth","GoogleProvider","NextAuthOptions","authOptions","providers","clientId","process","env","GOOGLE_CLIENT_ID","clientSecret","GOOGLE_CLIENT_SECRET","secret","NEXTAUTH_SECRET","session","strategy","callbacks","signIn","account","profile","provider","email","jwt","token","id","sub","name","picture","image","avatar_url","user","pages","debug","NODE_ENV","handler","auth"],"mappings":";;;;;;;;AAAA,OAAOA,QAAQ,MAAM,WAAW;AAChC,OAAOC,cAAc,MAAM,4BAA4B;;;AAIhD,MAAME,WAAW,EAAED,CAAkB,cAAH;IACvCE,SAAS,EAAE;YACTH,gKAAc,EAAC;YACbI,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB,CAAC;YACvCC,YAAY,EAAEH,OAAO,CAACC,GAAG,CAACG,oBAAoB;QAChD,CAAC,CAAC;KACH;IACDC,MAAM,EAAEL,OAAO,CAACC,GAAG,CAACK,eAAe;IAAE,oDAAA;IACrCC,OAAO,EAAE;QACPC,QAAQ,EAAE;IACZ,CAAC;IACDC,SAAS,EAAE;QACT,MAAMC,MAAMA,EAAC,EAAEC,OAAO,EAAEC,OAAAA,EAAS,EAAE;YACjC,8CAAA;YACA,IAAID,OAAO,EAAEE,QAAQ,KAAK,QAAQ,IAAID,OAAO,EAAEE,KAAK,EAAE;gBACpD,OAAO,IAAI,CAAC,CAAC,gBAAA;YACf;YACA,OAAO,KAAK,CAAC,CAAC,mCAAA;QAChB,CAAC;QACD,MAAMC,GAAGA,EAAC,EAAEC,KAAK,EAAEL,OAAO,EAAEC,OAAAA,EAAS,EAAE;YACrC,IAAID,OAAO,IAAIC,OAAO,EAAE;gBACtBI,KAAK,CAACC,EAAE,GAAGL,OAAO,CAACM,GAAG,CAAC,CAAC,iBAAA;gBACxBF,KAAK,CAACG,IAAI,GAAGP,OAAO,CAACO,IAAI;gBACzBH,KAAK,CAACF,KAAK,GAAGF,OAAO,CAACE,KAAK;gBAC3B,iEAAA;gBACAE,KAAK,CAACI,OAAO,GAAIR,AAAD,OAAQ,CAASQ,GAAL,GAAG,CAAS,IAAI,AAACR,OAAO,CAASS,GAAL,EAAU,CAAP,GAAW,AAACT,OAAO,CAASU,GAAL,GAAG,IAAY;YACnG;YACA,OAAON,KAAK;QACd,CAAC;QACD,MAAMT,OAAOA,EAAC,EAAEA,OAAO,EAAES,KAAAA,EAAO,EAAE;YAChC,OAAO;gBACL,GAAGT,OAAO;gBACVgB,IAAI,EAAE;oBACJ,GAAGhB,OAAO,CAACgB,IAAI;oBACfN,EAAE,EAAED,KAAK,CAACE,GAAG,IAAI,MAAM;oBACvBC,IAAI,EAAEH,KAAK,CAACG,IAAI,IAAI,MAAM;oBAC1BL,KAAK,EAAEE,KAAK,CAACF,KAAK,IAAI,MAAM;oBAC5BO,KAAK,EAAEL,KAAK,CAACI,OAAO,IAAI;gBAC1B;YACF,CAAC;QACH;IACF,CAAC;IACDI,KAAK,EAAE;QACLd,MAAM,EAAE,aAAa,CAAE,gCAAA;IACzB,CAAC;IACD,gDAAA;IACAe,KAAK,EAAEzB,OAAO,CAACC,GAAG,CAACyB,QAAQ,gCAAK;AAClC,CAAC;AAED,MAAMC,OAAO,OAAGjC,kJAAQ,EAACG,WAAW,CAAC;uCAEtB8B,OAAO","ignoreList":[],"debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth from 'next-auth';\nimport { authOptions } from '@/lib/auth';\n\n// Export the handlers for Next.js\nconst handler = NextAuth(authOptions);\nexport { handler as GET, handler as POST };"],"names":["NextAuth","authOptions","handler","GET","POST"],"mappings":";;;;;;AAAA,OAAOA,QAAQ,MAAM,WAAW;AAChC,SAASC,WAAW,QAAQ,YAAY;;;AAExC,kCAAA;AACA,MAAMC,OAAO,OAAGF,kJAAQ,EAACC,mIAAW,CAAC","ignoreList":[],"debugId":null}}]
}