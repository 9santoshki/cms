{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/hooks/useSyncNextAuthSession.ts"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useSession } from 'next-auth/react';\nimport { useAppContext } from '@/context/AppContext';\nimport { apiClient } from '@/lib/api';\nimport { User } from '@/types';\n\nexport const useSyncNextAuthSession = () => {\n  const { data: session, status } = useSession();\n  const { user, setUser, setToken, logout, fetchUserProfile, addToCart } = useAppContext();\n\n  useEffect(() => {\n    // DEBUG: Log session status changes\n    console.log('üîç useSyncNextAuthSession - status:', status);\n    console.log('üîç useSyncNextAuthSession - session exists?', !!session);\n    console.log('üîç useSyncNextAuthSession - current user:', user);\n    console.log('üîç useSyncNextAuthSession - user has name?', !!user?.name);\n    console.log('üîç useSyncNextAuthSession - user id:', user?.id);\n\n    // Track if user is from NextAuth (Google) or from our auth (email/password)\n    const isGoogleUser = !!session?.user;\n    const isEmailUser = !!user?.name && !session?.user;  // Has user data but no session = email auth\n\n    if (isGoogleUser && session?.user) {\n      // GOOGLE AUTH: Create user object from NextAuth session\n      const nextAuthUser: User = {\n        id: (session.user as any)?.id || '',\n        email: session.user?.email || '',\n        name: session.user?.name || session.user?.email?.split('@')[0] || 'User',\n        role: 'user', // Default role for Google auth users\n        avatar: session.user?.image || undefined,\n        googleId: (session.user as any)?.id || ''\n      };\n\n      // Only update context if the user has changed to avoid render loops\n      if (!user || user.id !== nextAuthUser.id) {\n        setUser(nextAuthUser);\n        setToken('nextauth-session');\n      }\n      \n      // Check if this is a new login (user was not previously authenticated)\n      const wasPreviouslyAuthenticated = !!user;\n\n      // After auth, fetch user profile from our database to get complete information\n      // This ensures we have the avatar from our DB (which might be updated during sign in)\n      if (user?.id !== nextAuthUser.id) {\n        // Fetch user profile and handle pending cart actions immediately\n        (async () => {\n          await fetchUserProfile();\n          \n          // Check if there was a pending cart action from before login\n          const pendingCartAction = localStorage.getItem('pendingCartAction');\n          if (pendingCartAction && !wasPreviouslyAuthenticated) {\n            try {\n              const { product, quantity } = JSON.parse(pendingCartAction);\n              if (product && quantity) {\n                await addToCart(product, quantity);\n              }\n            } catch (error) {\n              console.error('Error processing pending cart action:', error);\n            } finally {\n              // Clear the pending action after processing\n              localStorage.removeItem('pendingCartAction');\n            }\n          }\n        })();\n      }\n    } else if (isEmailUser) {\n      // EMAIL AUTH: User is logged in via email/password - don't touch!\n      console.log('‚úÖ Email user detected - skipping NextAuth sync to preserve user state');\n      // Do nothing - let the email auth handle everything\n    } else if (!isGoogleUser && !isEmailUser) {\n      // NOT AUTHENTICATED: Both NextAuth and email auth show no user\n      if (status === 'unauthenticated' && user) {\n        console.log('üîç No authenticated user detected - clearing state');\n        logout();\n      }\n    }\n  }, [status, session, setUser, setToken, logout, fetchUserProfile, user, addToCart]);\n};"],"names":["useEffect","useSession","useAppContext","apiClient","User","useSyncNextAuthSession","data","session","status","user","setUser","setToken","logout","fetchUserProfile","addToCart","console","log","name","id","isGoogleUser","isEmailUser","nextAuthUser","email","split","role","avatar","image","undefined","googleId","wasPreviouslyAuthenticated","pendingCartAction","localStorage","getItem","product","quantity","JSON","parse","error","removeItem"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/Modal.tsx"],"sourcesContent":["import React from 'react';\nimport { createPortal } from 'react-dom';\nimport { motion } from 'framer-motion';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n}\n\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, children }) => {\n  const [isMounted, setIsMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  if (!isOpen || !isMounted) return null;\n\n  return createPortal(\n    <motion.div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: 9999,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '16px'\n      }}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n    >\n      {/* Backdrop */}\n      <div \n        style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          zIndex: -1\n        }}\n        onClick={onClose}\n      />\n\n      {/* Modal content */}\n      <motion.div \n        style={{\n          position: 'relative',\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          boxShadow: '0 10px 40px rgba(0, 0, 0, 0.2)',\n          maxWidth: '500px',\n          width: '100%',\n          maxHeight: '90vh',\n          overflowY: 'auto'\n        }}\n        initial={{ scale: 0.9, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        exit={{ scale: 0.9, opacity: 0 }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          style={{\n            position: 'absolute',\n            top: '12px',\n            right: '16px',\n            backgroundColor: '#f3f4f6',\n            border: '2px solid #d1d5db',\n            borderRadius: '50%',\n            color: '#4b5563',\n            fontSize: '20px',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            width: '36px',\n            height: '36px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 10,\n            padding: 0,\n            transition: 'all 0.2s ease'\n          }}\n          onClick={onClose}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = '#e5e7eb';\n            e.currentTarget.style.borderColor = '#9ca3af';\n            e.currentTarget.style.color = '#374151';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = '#f3f4f6';\n            e.currentTarget.style.borderColor = '#d1d5db';\n            e.currentTarget.style.color = '#4b5563';\n          }}\n        >\n          √ó\n        </button>\n        <div style={{ padding: '24px' }}>\n          {children}\n        </div>\n      </motion.div>\n    </motion.div>,\n    document.body\n  );\n};\n\nexport default Modal;"],"names":["React","createPortal","motion","ModalProps","isOpen","onClose","children","ReactNode","Modal","FC","isMounted","setIsMounted","useState","useEffect","position","top","left","right","bottom","zIndex","display","alignItems","justifyContent","padding","opacity","backgroundColor","borderRadius","boxShadow","maxWidth","width","maxHeight","overflowY","scale","e","stopPropagation","border","color","fontSize","fontWeight","cursor","height","transition","currentTarget","style","borderColor","document","body"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/AuthForm.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAppContext } from '../context/AppContext';\nimport { signIn } from 'next-auth/react';\nimport '../App.css'; // Import the main CSS file\n\ninterface AuthFormProps {\n  onClose?: () => void;\n}\n\nconst AuthForm: React.FC<AuthFormProps> = ({ onClose: _onClose = () => {} }) => {\n  const { error, loading, setError, login, register } = useAppContext();\n  const router = useRouter();\n  const [redirect, setRedirect] = useState('/');\n  const googleClientId = process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || '';\n\n  const navigate = (path: string) => {\n    router.push(path);\n  };\n\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    // Clear error when user starts typing\n    if (error.auth) setError('auth', '');\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      if (isLogin) {\n        // Login validation\n        if (!formData.email || !formData.password) {\n          throw new Error('Please fill in all fields');\n        }\n\n        await login({\n          email: formData.email,\n          password: formData.password\n        });\n\n        // Close modal and navigate to redirect URL or home page after login\n        const targetPath = redirect && redirect !== '/' ? decodeURIComponent(redirect) : '/';\n        if (targetPath === '/') {\n          // If redirecting to home, just close the modal\n          _onClose();\n        } else {\n          // Otherwise navigate to the redirect page\n          navigate(targetPath);\n        }\n      } else {\n        // Registration validation\n        if (!formData.name || !formData.email || !formData.password) {\n          throw new Error('Please fill in all fields');\n        }\n\n        if (formData.password !== formData.confirmPassword) {\n          throw new Error('Passwords do not match');\n        }\n\n        // Password strength validation\n        if (formData.password.length < 6) {\n          throw new Error('Password must be at least 6 characters long');\n        }\n\n        if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password)) {\n          throw new Error('Password must contain at least one lowercase letter, one uppercase letter, and one digit');\n        }\n\n        await register({\n          name: formData.name,\n          email: formData.email,\n          password: formData.password\n        });\n\n        // Close modal and navigate to redirect URL or home page after registration\n        const targetPath = redirect && redirect !== '/' ? decodeURIComponent(redirect) : '/';\n        if (targetPath === '/') {\n          // If redirecting to home, just close the modal\n          _onClose();\n        } else {\n          // Otherwise navigate to the redirect page\n          navigate(targetPath);\n        }\n      }\n    } catch (err) {\n      console.error('Auth error:', err);\n      // Error is handled by the context\n    }\n  };\n\n  // Google Sign In handler\n  const handleGoogleSuccess = async () => {\n    try {\n      // Use NextAuth to sign in with Google - don't redirect immediately\n      // Instead, use callback to handle the response\n      const result = await signIn('google', {\n        redirect: false, // Don't redirect, use callback to handle response\n      });\n      \n      if (result?.error) {\n        console.error('Google sign-in error:', result.error);\n        setError('auth', result.error || 'Google authentication failed. Please try again.');\n      } else if (result?.ok) {\n        // Google sign-in was successful, close modal\n        // The session will be handled by NextAuth and sync to AppContext via useSyncNextAuthSession\n        _onClose();\n      }\n    } catch (error) {\n      console.error('Google login error:', error);\n      setError('auth', 'Google authentication failed. Please try again.');\n    }\n  };\n\n  // Read redirect param from URL on client side\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const params = new URLSearchParams(window.location.search);\n      setRedirect(params.get('redirect') || '/');\n    }\n  }, []);\n\n  const handleGoogleError = () => {\n    console.error('Google Login Failed');\n    // Provide a more user-friendly error message\n    setError('auth', 'Google authentication failed. This might be due to a configuration issue. Please try regular login or contact support.');\n  };\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-container-elegant\">\n        <button onClick={_onClose} className=\"close-btn\">&times;</button>\n        <div className=\"auth-header-elegant\">\n          <div className=\"auth-title\">\n            <h2 className=\"auth-main-title\">{isLogin ? 'Welcome Back' : 'Create Account'}</h2>\n            <p className=\"auth-subtitle\">{isLogin ? 'Sign in to continue your journey' : 'Join our community today'}</p>\n          </div>\n        </div>\n\n        {error.auth && (\n          <div className=\"auth-error-message\">\n            <div className=\"error-icon\">‚ö†Ô∏è</div>\n            <span>{error.auth}</span>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"auth-form-elegant\">\n          {!isLogin && (\n            <div className=\"form-group-elegant\">\n              <label htmlFor=\"name\" className=\"form-label\">Full Name</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                placeholder=\"Enter your full name\"\n                value={formData.name}\n                onChange={handleChange}\n                required={!isLogin}\n                autoComplete=\"name\"\n                className=\"form-input\"\n              />\n            </div>\n          )}\n\n          <div className=\"form-group-elegant\">\n            <label htmlFor=\"email\" className=\"form-label\">Email Address</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Enter your email\"\n              value={formData.email}\n              onChange={handleChange}\n              required\n              autoComplete=\"email\"\n              className=\"form-input\"\n            />\n          </div>\n\n          <div className=\"form-group-elegant\">\n            <label htmlFor=\"password\" className=\"form-label\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Enter your password\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              autoComplete=\"current-password\"\n              className=\"form-input\"\n            />\n            {!isLogin && (\n              <div className=\"password-requirements\">\n                <p className=\"requirements-text\">Password must contain:</p>\n                <ul className=\"requirements-list\">\n                  <li className={formData.password.length >= 6 ? 'valid' : 'invalid'}>At least 6 characters</li>\n                  <li className={/(?=.*[a-z])/.test(formData.password) ? 'valid' : 'invalid'}>One lowercase letter</li>\n                  <li className={/(?=.*[A-Z])/.test(formData.password) ? 'valid' : 'invalid'}>One uppercase letter</li>\n                  <li className={/(?=.*\\d)/.test(formData.password) ? 'valid' : 'invalid'}>One number</li>\n                </ul>\n              </div>\n            )}\n          </div>\n\n          {!isLogin && (\n            <div className=\"form-group-elegant\">\n              <label htmlFor=\"confirmPassword\" className=\"form-label\">Confirm Password</label>\n              <input\n                type=\"password\"\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                placeholder=\"Confirm your password\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                required={!isLogin}\n                autoComplete=\"new-password\"\n                className=\"form-input\"\n              />\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            className={`auth-submit-btn ${isLogin ? 'login-btn' : 'register-btn'}`}\n            disabled={loading.auth}\n          >\n            {loading.auth ? (\n              <span className=\"loading-spinner\">Loading...</span>\n            ) : (\n              <span>{isLogin ? 'Sign In' : 'Create Account'}</span>\n            )}\n          </button>\n        </form>\n\n        <div className=\"auth-separator\">\n          <div className=\"separator-line\"></div>\n          <span className=\"separator-text\">or</span>\n          <div className=\"separator-line\"></div>\n        </div>\n\n        {/* Google Sign In Button */}\n        <div className=\"google-auth-section-elegant\">\n          <button\n            onClick={handleGoogleSuccess}\n            className=\"google-signin-btn-elegant\"\n          >\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" className=\"google-icon\">\n              <path \n                d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" \n                fill=\"#4285F4\"\n              />\n              <path \n                d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" \n                fill=\"#34A853\"\n              />\n              <path \n                d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" \n                fill=\"#FBBC05\"\n              />\n              <path \n                d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" \n                fill=\"#EA4335\"\n              />\n            </svg>\n            <span>Continue with Google</span>\n          </button>\n        </div>\n\n        <div className=\"auth-toggle-elegant\">\n          <p>\n            {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\n            <button \n              className=\"toggle-link\"\n              onClick={() => {\n                setIsLogin(!isLogin);\n                setError('auth', '');\n              }}\n            >\n              {isLogin ? 'Sign Up' : 'Sign In'}\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthForm;"],"names":["React","useState","useEffect","useRef","useRouter","useAppContext","signIn","AuthFormProps","onClose","AuthForm","FC","_onClose","error","loading","setError","login","register","router","redirect","setRedirect","googleClientId","process","env","NEXT_PUBLIC_GOOGLE_CLIENT_ID","navigate","path","push","isLogin","setIsLogin","formData","setFormData","name","email","password","confirmPassword","handleChange","e","ChangeEvent","HTMLInputElement","target","value","auth","handleSubmit","FormEvent","preventDefault","Error","targetPath","decodeURIComponent","length","test","err","console","handleGoogleSuccess","result","ok","window","params","URLSearchParams","location","search","get","handleGoogleError"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 830, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/styles/HeaderStyles.ts"],"sourcesContent":["// Header styles\nimport styled from 'styled-components';\n\n// Shared header styles\nexport const SharedHeader = styled.nav`\n  background-color: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n  padding: 15px 0;\n  font-family: 'Playfair Display', serif;\n  transition: all 0.4s ease;\n  border-bottom: 1px solid rgba(193, 154, 107, 0.1);\n`;\n\nexport const HeaderContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 0 40px;\n  gap: 20px;\n`;\n\nexport const HeaderLogo = styled.div`\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n\n  a {\n    text-decoration: none;\n  }\n\n  .logo-image {\n    height: 65px;\n    max-height: 65px;\n    object-fit: contain;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transition: transform 0.3s ease;\n    \n    &:hover {\n      transform: scale(1.03);\n    }\n  }\n`;\n\nexport const HeaderMenu = styled.div`\n  display: flex;\n  gap: 35px;\n  flex: 1;\n  justify-content: center;\n\n  @media (max-width: 992px) {\n    gap: 25px;\n  }\n\n  @media (max-width: 768px) {\n    gap: 15px;\n    display: none;\n  }\n`;\n\nexport const HeaderLink = styled.a<{ $active?: boolean }>`\n  text-decoration: none;\n  color: ${props => props.$active ? '#c19a6b' : '#333'};\n  font-weight: 400;\n  font-size: 16px;\n  text-transform: uppercase;\n  letter-spacing: 1.5px;\n  transition: all 0.3s ease;\n  position: relative;\n  padding: 10px 0;\n  display: inline-block;\n  font-family: 'Montserrat', sans-serif;\n\n  &:hover {\n    color: #c19a6b;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    width: 0;\n    height: 2px;\n    bottom: 0;\n    left: 0;\n    background: linear-gradient(to right, #c19a6b, transparent);\n    transition: width 0.4s ease;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: ${props => props.$active ? '100%' : '0'};\n    height: 2px;\n    bottom: 0;\n    right: 0;\n    background: linear-gradient(to left, #c19a6b, transparent);\n    transition: width 0.4s ease;\n  }\n\n  &:hover::before {\n    width: 100%;\n  }\n\n  &::after {\n    ${props => props.$active && `\n      width: 100%;\n    `}\n  }\n\n  &:hover {\n    transform: translateY(-2px);\n  }\n`;\n\nexport const HeaderIcons = styled.div`\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  flex-shrink: 0;\n\n  @media (max-width: 768px) {\n    gap: 15px;\n  }\n`;\n\nexport const CartCount = styled.span`\n  position: absolute;\n  top: -10px;\n  right: -10px;\n  background: linear-gradient(135deg, #c19a6b, #a8825f);\n  color: white;\n  border-radius: 50%;\n  width: 22px;\n  height: 22px;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(193, 154, 107, 0.3);\n`;\n\nexport const UserGreeting = styled.span`\n  color: #333;\n  font-family: 'Montserrat', sans-serif;\n  font-size: 15px;\n  margin: 0 10px;\n  font-weight: 500;\n  text-align: right;\n`;\n\nexport const NavIcon = styled.button`\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  color: #333;\n  transition: all 0.3s ease;\n  position: relative;\n  padding: 8px;\n  border-radius: 4px;\n  \n  &:hover {\n    color: #c19a6b;\n    background-color: rgba(193, 154, 107, 0.08);\n    transform: translateY(-2px);\n  }\n`;\n\nexport const MobileMenuToggle = styled.button`\n  display: none;\n  flex-direction: column;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 5px;\n  \n  @media (max-width: 768px) {\n    display: flex;\n  }\n  \n  span {\n    width: 25px;\n    height: 3px;\n    background-color: #333;\n    margin: 3px 0;\n    transition: 0.3s;\n    border-radius: 2px;\n  }\n`;"],"names":["styled","SharedHeader","nav","withConfig","displayName","componentId","HeaderContainer","div","HeaderLogo","HeaderMenu","HeaderLink","a","props","$active","HeaderIcons","CartCount","span","UserGreeting","NavIcon","button","MobileMenuToggle"],"mappings":"AAAA,gBAAA;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAOA,MAAM,MAAM,mBAAmB;;AAG/B,MAAMC,YAAY,GAAGD,sLAAM,CAACE,GAAG,CAAAC,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAWrC;AAEM,MAAMC,eAAe,GAAGN,sLAAM,CAACO,GAAG,CAAAJ,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAQxC;AAEM,MAAMG,UAAU,GAAGR,sLAAM,CAACO,GAAG,CAAAJ,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAoBnC;AAEM,MAAMI,UAAU,GAAGT,sLAAM,CAACO,GAAG,CAAAJ,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAcnC;AAEM,MAAMK,UAAU,GAAGV,sLAAM,CAACW,CAAC,CAAAR,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;IAAA;IAAA;IAAA;CAAA,GAEvBO,KAAK,GAAIA,KAAK,CAACC,OAAO,GAAG,SAAS,GAAG,MAAM,GA6BzCD,KAAK,GAAIA,KAAK,CAACC,OAAO,GAAG,MAAM,GAAG,GAAG,GAa5CD,KAAK,GAAIA,KAAK,CAACC,OAAO,IAAI,CAAA;;IAEhC,CAAK,CAMJ;AAEM,MAAMC,WAAW,GAAGd,sLAAM,CAACO,GAAG,CAAAJ,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CASpC;AAEM,MAAMU,SAAS,GAAGf,sLAAM,CAACgB,IAAI,CAAAb,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAenC;AAEM,MAAMY,YAAY,GAAGjB,sLAAM,CAACgB,IAAI,CAAAb,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAOtC;AAEM,MAAMa,OAAO,GAAGlB,sLAAM,CAACmB,MAAM,CAAAhB,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAgBnC;AAEM,MAAMe,gBAAgB,GAAGpB,sLAAM,CAACmB,MAAM,CAAAhB,UAAA,CAAA;IAAAC,WAAA,EAAA;IAAAC,WAAA,EAAA;AAAA,GAAA;IAAA;CAAA,CAoB5C","ignoreList":[],"debugId":null}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { apiClient } from '@/lib/api';\nimport { useRouter } from 'next/navigation';\nimport { useAppContext } from '../context/AppContext';\nimport { useSession } from 'next-auth/react';\nimport { useSyncNextAuthSession } from '../hooks/useSyncNextAuthSession';\nimport Modal from './Modal';\nimport AuthForm from './AuthForm';\n\n// Import header styles\nimport {\n  SharedHeader,\n  HeaderContainer,\n  HeaderLogo,\n  HeaderMenu,\n  HeaderLink,\n  HeaderIcons,\n  CartCount,\n  UserGreeting,\n  NavIcon,\n  MobileMenuToggle\n} from '../styles/HeaderStyles';\n\ninterface SharedHeaderProps {\n  activePage?: string;\n}\n\nconst Header: React.FC<SharedHeaderProps> = ({ activePage = '' }) => {\n  const router = useRouter();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\n  const [isAccountModalOpen, setIsAccountModalOpen] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [dropdownTimeout, setDropdownTimeout] = useState<NodeJS.Timeout | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // NextAuth session\n  const { data: session, status } = useSession();\n  useSyncNextAuthSession(); // Sync NextAuth session with AppContext\n\n  const navigate = (path: string) => {\n    router.push(path);\n    setIsMobileMenuOpen(false); // Close mobile menu after navigation\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      navigate(`/search?q=${encodeURIComponent(searchQuery)}`);\n      setIsSearchOpen(false);\n    }\n  };\n\n  const { user, cartItems, logout, setUser, setToken, loading } = useAppContext();\n  const userLoading = loading?.user || false;\n\n  // DEBUG: Log user state\n  console.log('üîç Header - user state:', user);\n  console.log('üîç Header - user truthy?', !!user);\n  console.log('üîç Header - user details:', {\n    id: user?.id,\n    name: user?.name,\n    email: user?.email,\n    role: user?.role\n  });\n\n  const cartCount = cartItems.reduce((total, item) => total + item.quantity, 0);\n\n  const handleLogout = () => {\n    logout();\n    // Use NextAuth's signOut if available\n    import('next-auth/react').then(({ signOut }) => {\n      signOut({ redirect: false }); // Don't redirect after signout\n    });\n    navigate('/');\n    setIsMobileMenuOpen(false);\n  };\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n\n\n  // Trigger Google sign-in by opening auth modal which contains the GoogleLogin button\n  const handleGoogleSignIn = () => {\n    // Open the auth modal which contains the GoogleLogin button\n    setIsAuthModalOpen(true);\n  };\n\n  // Effect to listen for showLoginModal event from other components\n  useEffect(() => {\n    const handleShowLoginModal = () => {\n      setIsAuthModalOpen(true);\n    };\n\n    window.addEventListener('showLoginModal', handleShowLoginModal);\n\n    // Clean up the event listener\n    return () => {\n      window.removeEventListener('showLoginModal', handleShowLoginModal);\n    };\n  }, []);\n\n  // Handler to close auth modal and clear any pending cart action\n  const closeAuthModal = () => {\n    setIsAuthModalOpen(false);\n    // Clear pending cart action if user closes modal without logging in\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('pendingCartAction');\n    }\n  };\n\n  return (\n    <SharedHeader>\n      <HeaderContainer>\n        <HeaderLogo>\n          <a href=\"#\" onClick={(e) => { e.preventDefault(); navigate('/'); }}>\n            <img\n              src=\"/logo.svg\"\n              alt=\"Colour My Space Logo\"\n              className=\"logo-image\"\n              style={{ height: '40px', width: 'auto', maxHeight: '40px' }}\n            />\n          </a>\n        </HeaderLogo>\n\n        <>\n          {/* Desktop Menu - Hidden on mobile via CSS */}\n          <HeaderMenu>\n            <HeaderLink\n              href=\"#\"\n              $active={activePage === 'home'}\n              onClick={(e) => { e.preventDefault(); navigate('/'); }}\n            >\n              Home\n            </HeaderLink>\n            <HeaderLink\n              href=\"#\"\n              $active={activePage === 'shop'}\n              onClick={(e) => { e.preventDefault(); navigate('/shop'); }}\n            >\n              Shop\n            </HeaderLink>\n            <HeaderLink\n              href=\"#\"\n              $active={activePage === 'portfolio'}\n              onClick={(e) => { e.preventDefault(); navigate('/portfolio'); }}\n            >\n              Portfolio\n            </HeaderLink>\n            <HeaderLink\n              href=\"#\"\n              $active={activePage === 'services'}\n              onClick={(e) => { e.preventDefault(); navigate('/services'); }}\n            >\n              Services\n            </HeaderLink>\n\n            {user && user.role === 'admin' && (\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'admin'}\n                onClick={(e) => { e.preventDefault(); navigate('/admin'); }}\n              >\n                Admin\n              </HeaderLink>\n            )}\n            <HeaderLink\n              href=\"#\"\n              $active={activePage === 'about'}\n              onClick={(e) => { e.preventDefault(); navigate('/about'); }}\n            >\n              About\n            </HeaderLink>\n            <HeaderLink\n              href=\"#\"\n              $active={activePage === 'contact'}\n              onClick={(e) => { e.preventDefault(); navigate('/contact'); }}\n            >\n              Contact\n            </HeaderLink>\n          </HeaderMenu>\n\n          {/* Mobile Menu - Only shown when mobile menu is open (renders a separate container) */}\n          {isMobileMenuOpen && (\n            <div\n              className=\"mobile-menu\"\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                position: 'absolute',\n                top: '100%',\n                left: 0,\n                width: '100%',\n                backgroundColor: 'white',\n                boxShadow: '0 10px 15px rgba(0,0,0,0.1)',\n                padding: '20px 0',\n                zIndex: 999,\n                gap: '0',\n                maxHeight: '70vh',\n                overflowY: 'auto'\n              }}\n            >\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'home'}\n                onClick={(e) => { e.preventDefault(); navigate('/'); setIsMobileMenuOpen(false); }}\n                style={{ padding: '15px 40px', display: 'block' }}\n              >\n                Home\n              </HeaderLink>\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'shop'}\n                onClick={(e) => { e.preventDefault(); navigate('/shop'); setIsMobileMenuOpen(false); }}\n                style={{ padding: '15px 40px', display: 'block' }}\n              >\n                Shop\n              </HeaderLink>\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'portfolio'}\n                onClick={(e) => { e.preventDefault(); navigate('/portfolio'); setIsMobileMenuOpen(false); }}\n                style={{ padding: '15px 40px', display: 'block' }}\n              >\n                Portfolio\n              </HeaderLink>\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'services'}\n                onClick={(e) => { e.preventDefault(); navigate('/services'); setIsMobileMenuOpen(false); }}\n                style={{ padding: '15px 40px', display: 'block' }}\n              >\n                Services\n              </HeaderLink>\n\n              {user && user.role === 'admin' && (\n                <HeaderLink\n                  href=\"#\"\n                  $active={activePage === 'admin'}\n                  onClick={(e) => { e.preventDefault(); navigate('/admin'); setIsMobileMenuOpen(false); }}\n                  style={{ padding: '15px 40px', display: 'block' }}\n                >\n                  Admin\n                </HeaderLink>\n              )}\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'about'}\n                onClick={(e) => { e.preventDefault(); navigate('/about'); setIsMobileMenuOpen(false); }}\n                style={{ padding: '15px 40px', display: 'block' }}\n              >\n                About\n              </HeaderLink>\n              <HeaderLink\n                href=\"#\"\n                $active={activePage === 'contact'}\n                onClick={(e) => { e.preventDefault(); navigate('/contact'); setIsMobileMenuOpen(false); }}\n                style={{ padding: '15px 40px', display: 'block' }}\n              >\n                Contact\n              </HeaderLink>\n            </div>\n          )}\n        </>\n\n        <HeaderIcons>\n          <NavIcon onClick={() => setIsSearchOpen(!isSearchOpen)}>\n            <i className=\"fas fa-search\"></i>\n          </NavIcon>\n          {user ? (\n            <div \n              className=\"relative\"\n              onMouseEnter={() => {\n                if (dropdownTimeout) clearTimeout(dropdownTimeout);\n                setIsDropdownOpen(true);\n              }}\n              onMouseLeave={() => {\n                // Set a timeout to close the dropdown, allowing time to move to it\n                const timeout = setTimeout(() => {\n                  setIsDropdownOpen(false);\n                }, 200); // 200ms delay to allow moving to dropdown\n                setDropdownTimeout(timeout);\n              }}\n              style={{ display: 'inline-block', position: 'relative' }}\n            >\n              <NavIcon \n                onClick={() => setIsAccountModalOpen(true)}\n                style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                title=\"Account\"\n              >\n                {user.avatar ? (\n                  // Show avatar image if available\n                  <img \n                    src={user.avatar} \n                    alt=\"Profile\" \n                    style={{ \n                      width: '24px', \n                      height: '24px', \n                      borderRadius: '50%', \n                      objectFit: 'cover'\n                    }} \n                  />\n                ) : (\n                  // Fallback to user icon if no avatar\n                  <i className=\"fas fa-user\"></i>\n                )}\n              </NavIcon>\n              \n              {/* Dropdown menu - properly positioned below the nav icon */}\n              <div \n                className=\"dropdown-menu\"\n                style={{\n                  display: isDropdownOpen ? 'block' : 'none',\n                  position: 'absolute',\n                  top: '100%',\n                  left: '50%',\n                  transform: 'translateX(-50%)', // Center the dropdown under the icon\n                  backgroundColor: 'white',\n                  border: '1px solid #ddd',\n                  borderRadius: '4px',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                  zIndex: 1000,\n                  minWidth: '160px',\n                  padding: '5px 0',\n                  marginTop: '5px'\n                }}\n              >\n                <div \n                  className=\"dropdown-item\"\n                  style={{\n                    padding: '10px 15px',\n                    cursor: 'pointer',\n                    transition: 'background-color 0.2s',\n                    borderBottom: '1px solid #f0f0f0'\n                  }}\n                  onClick={() => {\n                    navigate('/account');\n                    setIsDropdownOpen(false);\n                  }}\n                >\n                  View Account\n                </div>\n                {(user.role === 'admin' || user.role === 'moderator') && (\n                  <div \n                    className=\"dropdown-item\"\n                    style={{\n                      padding: '10px 15px',\n                      cursor: 'pointer',\n                      transition: 'background-color 0.2s',\n                      borderBottom: '1px solid #f0f0f0'\n                    }}\n                    onClick={() => {\n                      navigate('/moderator');\n                      setIsDropdownOpen(false);\n                    }}\n                  >\n                    Moderator\n                  </div>\n                )}\n                <div \n                  className=\"dropdown-item\"\n                  style={{\n                    padding: '10px 15px',\n                    cursor: 'pointer',\n                    transition: 'background-color 0.2s'\n                  }}\n                  onClick={() => {\n                    handleLogout();\n                    setIsDropdownOpen(false);\n                  }}\n                >\n                  Logout\n                </div>\n              </div>\n            </div>\n          ) : (\n            <NavIcon onClick={handleGoogleSignIn}>\n              <i className=\"fas fa-user\"></i>\n            </NavIcon>\n          )}\n          {user && (\n            <div style={{ position: 'relative' }}>\n              <NavIcon onClick={() => navigate('/cart')}>\n                <i className=\"fas fa-shopping-cart\"></i>\n              </NavIcon>\n              {cartItems.length > 0 && <CartCount>{cartCount}</CartCount>}\n            </div>\n          )}\n\n          <MobileMenuToggle onClick={toggleMobileMenu}>\n            <span></span>\n            <span></span>\n            <span></span>\n          </MobileMenuToggle>\n        </HeaderIcons>\n      </HeaderContainer>\n\n      {/* Search Below Header */}\n      {isSearchOpen && (\n        <div\n          style={{\n            backgroundColor: '#f9fafb',\n            padding: '15px 20px',\n            borderBottom: '1px solid #e5e7eb',\n            zIndex: 999\n          }}\n        >\n          <div\n            style={{\n              maxWidth: '600px',\n              margin: '0 auto',\n              display: 'flex'\n            }}\n          >\n            <form onSubmit={handleSearch} style={{ display: 'flex', width: '100%' }}>\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search products by name, category...\"\n                style={{\n                  flex: 1,\n                  padding: '12px 15px',\n                  fontSize: '16px',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px 0 0 4px',\n                  outline: 'none'\n                }}\n                autoFocus\n              />\n              <button\n                type=\"submit\"\n                style={{\n                  padding: '12px 20px',\n                  backgroundColor: '#f59e0b',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '0 4px 4px 0',\n                  cursor: 'pointer',\n                  fontSize: '16px'\n                }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setIsSearchOpen(false)}\n                style={{\n                  marginLeft: '10px',\n                  padding: '12px 15px',\n                  backgroundColor: '#6b7280',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  fontSize: '16px'\n                }}\n              >\n                <i className=\"fas fa-times\"></i>\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n      \n      {/* Authentication Modal */}\n      <Modal isOpen={isAuthModalOpen} onClose={closeAuthModal}>\n        <AuthForm onClose={closeAuthModal} />\n      </Modal>\n      \n      {/* Account Modal - For logged-in users */}\n      {user && (\n        <Modal isOpen={isAccountModalOpen} onClose={() => setIsAccountModalOpen(false)}>\n          <div style={{ padding: '16px' }}>\n            <h2 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '16px' }}>Account Information</h2>\n            <div style={{ marginBottom: '16px' }}>\n              <p><strong>Name:</strong> {user.name}</p>\n              <p><strong>Email:</strong> {user.email}</p>\n              <p><strong>Role:</strong> {user.role}</p>\n            </div>\n            <div style={{ display: 'flex', gap: '8px' }}>\n              <button \n                className=\"btn primary\"\n                style={{ flex: 1 }}\n                onClick={() => {\n                  navigate('/account');\n                  setIsAccountModalOpen(false);\n                }}\n              >\n                View Profile\n              </button>\n              <button \n                className=\"btn secondary\"\n                style={{ flex: 1 }}\n                onClick={handleLogout}\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </Modal>\n      )}\n    </SharedHeader>\n  );\n};\n\nexport default Header;"],"names":["React","useEffect","useState","apiClient","useRouter","useAppContext","useSession","useSyncNextAuthSession","Modal","AuthForm","SharedHeader","HeaderContainer","HeaderLogo","HeaderMenu","HeaderLink","HeaderIcons","CartCount","UserGreeting","NavIcon","MobileMenuToggle","SharedHeaderProps","activePage","Header","FC","router","isMobileMenuOpen","setIsMobileMenuOpen","isSearchOpen","setIsSearchOpen","isAuthModalOpen","setIsAuthModalOpen","isAccountModalOpen","setIsAccountModalOpen","isDropdownOpen","setIsDropdownOpen","dropdownTimeout","setDropdownTimeout","NodeJS","Timeout","searchQuery","setSearchQuery","data","session","status","navigate","path","push","handleSearch","e","FormEvent","preventDefault","trim","encodeURIComponent","user","cartItems","logout","setUser","setToken","loading","userLoading","console","log","id","name","email","role","cartCount","reduce","total","item","quantity","handleLogout","then","signOut","redirect","toggleMobileMenu","handleGoogleSignIn","handleShowLoginModal","window","addEventListener","removeEventListener","closeAuthModal","localStorage","removeItem","height","width","maxHeight","display","flexDirection","position","top","left","backgroundColor","boxShadow","padding","zIndex","gap","overflowY","clearTimeout","timeout","setTimeout","alignItems","justifyContent","avatar","borderRadius","objectFit","transform","border","minWidth","marginTop","cursor","transition","borderBottom","length","maxWidth","margin","target","value","flex","fontSize","outline","color","marginLeft","fontWeight","marginBottom"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1805, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/utils/cartUtils.ts"],"sourcesContent":["// Utility functions for cart operations\nimport { CartItem } from '@/types';\n\n// Calculate the total price of items in the cart (current discounted price)\nexport const calculateCartTotal = (cartItems: CartItem[]): number => {\n  return cartItems.reduce((total, item) => {\n    const price = typeof item.price === 'number'\n      ? item.price\n      : parseFloat(item.price || '0');\n    return total + (price * item.quantity);\n  }, 0);\n};\n\n// Calculate the original total price of items in the cart (before discount)\nexport const calculateOriginalCartTotal = (cartItems: CartItem[]): number => {\n  return cartItems.reduce((total, item) => {\n    // If item has originalPrice and it's higher than current price, use it\n    // otherwise, we'll estimate original price as 25% higher than current price for demo purposes\n    let originalPrice = typeof item.originalPrice === 'number' ? item.originalPrice : null;\n\n    // If originalPrice is null or the same as the current price, estimate it as 25% higher\n    if (originalPrice === null || originalPrice <= (typeof item.price === 'number' ? item.price : parseFloat(item.price || '0'))) {\n      const currentPrice = typeof item.price === 'number'\n        ? item.price\n        : parseFloat(item.price || '0');\n      // Estimate original price as current price / 0.8 (assuming 20% discount by default for demo purposes)\n      // But cap it to avoid infinite increases\n      originalPrice = currentPrice * 1.25; // 25% markup as default for demo\n    }\n\n    return total + (originalPrice * item.quantity);\n  }, 0);\n};\n\n// Calculate the total savings from discounts in the cart\nexport const calculateDiscountSavings = (cartItems: CartItem[]): number => {\n  return cartItems.reduce((savings, item) => {\n    const currentPrice = typeof item.price === 'number'\n      ? item.price\n      : parseFloat(item.price || '0');\n\n    // If item has originalPrice and it's higher than current price, use it\n    // otherwise, estimate based on current price\n    let originalPrice = typeof item.originalPrice === 'number' ? item.originalPrice : null;\n\n    // If originalPrice is null or the same as current price, estimate it as 25% higher\n    if (originalPrice === null || originalPrice <= currentPrice) {\n      originalPrice = currentPrice * 1.25; // 25% markup as default for demo\n    }\n\n    const priceDifference = originalPrice - currentPrice;\n    return savings + (priceDifference * item.quantity);\n  }, 0);\n};\n\n// Get shipping cost based on subtotal (placeholder - this will be replaced by the dynamic version)\nexport const calculateShippingCost = (subtotal: number): number => {\n  // For now, using a placeholder value until we can properly import the dynamic version\n  // Free shipping for orders over ‚Çπ50,000\n  return subtotal > 50000 ? 0 : 1500;\n};\n\n// Get tax amount based on subtotal (placeholder - this will be replaced by the dynamic version)\nexport const calculateTaxAmount = (subtotal: number): number => {\n  // Placeholder - no tax by default\n  return 0;\n};\n\n// Get cart total including shipping and tax\nexport const calculateTotalWithShippingAndTax = (cartItems: CartItem[]): number => {\n  const subtotal = calculateCartTotal(cartItems);\n  const shipping = calculateShippingCost(subtotal);\n  const tax = calculateTaxAmount(subtotal + shipping);\n  return subtotal + shipping + tax;\n};"],"names":["CartItem","calculateCartTotal","cartItems","reduce","total","item","price","parseFloat","quantity","calculateOriginalCartTotal","originalPrice","currentPrice","calculateDiscountSavings","savings","priceDifference","calculateShippingCost","subtotal","calculateTaxAmount","calculateTotalWithShippingAndTax","shipping","tax"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1874, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/EnhancedCheckoutPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAppContext } from '../context/AppContext';\nimport Header from './Header';\nimport '../App.css'; // Import the main CSS file\nimport { calculateCartTotal, calculateShippingCost, calculateOriginalCartTotal, calculateDiscountSavings } from '../utils/cartUtils';\n\nconst CheckoutPage = () => {\n  const router = useRouter();\n  \n  const navigate = (path: string) => {\n    router.push(path);\n  };\n  \n  const { cartItems, loading, error, setError, createOrder } = useAppContext();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    address: '',\n    city: '',\n    zipCode: '',\n    paymentMethod: 'razorpay'\n  });\n  const [orderCompleted, setOrderCompleted] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  \n  const { user } = useAppContext();\n\n  // Pre-populate form if user is logged in\n  useEffect(() => {\n    if (user) {\n      setFormData(prev => ({\n        ...prev,\n        name: user.name || '',\n        email: user.email || ''\n      }));\n    }\n  }, [user]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    // Clear field error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n    // Clear general error when user starts typing\n    if (error.orders) setError('orders', '');\n  };\n\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {};\n    let isValid = true;\n    \n    if (!formData.name.trim()) {\n      newErrors['name'] = 'Full name is required';\n      isValid = false;\n    }\n    \n    if (!formData.email.trim()) {\n      newErrors['email'] = 'Email is required';\n      isValid = false;\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors['email'] = 'Please enter a valid email address';\n      isValid = false;\n    }\n    \n    if (!formData.phone.trim()) {\n      newErrors['phone'] = 'Phone number is required';\n      isValid = false;\n    }\n    \n    if (!formData.address.trim()) {\n      newErrors['address'] = 'Address is required';\n      isValid = false;\n    }\n    \n    if (!formData.city.trim()) {\n      newErrors['city'] = 'City is required';\n      isValid = false;\n    }\n    \n    if (!formData.zipCode.trim()) {\n      newErrors['zipCode'] = 'ZIP code is required';\n      isValid = false;\n    }\n    \n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const subtotal = calculateCartTotal(cartItems);\n  const shipping = calculateShippingCost(subtotal);\n  const total = subtotal + shipping;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    try {\n      // Create order data\n      const orderData = { \n        customer: formData,\n        items: cartItems.map(item => ({\n          id: item.id,\n          quantity: item.quantity,\n          price: typeof item.price === 'number' ? item.price.toString() : item.price,\n          name: item.name\n        })),\n        total_amount: total.toString(),\n        status: 'pending',\n        created_at: new Date().toISOString()\n      };\n      \n      // Place order via context\n      await createOrder(orderData);\n      \n      // Show order confirmation\n      setOrderCompleted(true);\n      \n      // Redirect to home after delay\n      setTimeout(() => {\n        setOrderCompleted(false);\n        navigate('/');\n      }, 5000);\n    } catch (err) {\n      console.error('Checkout error:', err);\n      setError('orders', 'Failed to place order. Please try again.');\n    }\n  };\n\n  if (orderCompleted) {\n    return (\n      <div className=\"order-confirmation-page\">\n        <Header />\n        <div className=\"confirmation-content\">\n          <i className=\"fas fa-check-circle confirmation-icon\"></i>\n          <h2>Order Confirmed!</h2>\n          <p>Thank you for your purchase. We've sent a confirmation email to {formData.email}.</p>\n          <p>Your order number is #{Math.floor(Math.random() * 10000000)}</p>\n          <p>Redirecting to home page...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (cartItems.length === 0) {\n    return (\n      <div className=\"checkout-page\">\n        <Header />\n        <div className=\"checkout-header\">\n          <h1>Checkout</h1>\n        </div>\n        <div className=\"empty-cart\">\n          <i className=\"fas fa-shopping-cart\"></i>\n          <h2>Your cart is empty</h2>\n          <p>You need to add items to your cart before checking out.</p>\n          <button className=\"btn primary\" onClick={() => navigate('/shop')}>\n            Continue Shopping\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"checkout-page\">\n      <Header />\n      <div className=\"checkout-header\">\n        <h1>Checkout</h1>\n        <div className=\"checkout-progress\">\n          <div className=\"progress-step active\">\n            <span className=\"step-number\">1</span>\n            <span className=\"step-label\">Cart</span>\n          </div>\n          <div className=\"progress-line\"></div>\n          <div className=\"progress-step active\">\n            <span className=\"step-number\">2</span>\n            <span className=\"step-label\">Information</span>\n          </div>\n          <div className=\"progress-line\"></div>\n          <div className=\"progress-step\">\n            <span className=\"step-number\">3</span>\n            <span className=\"step-label\">Payment</span>\n          </div>\n          <div className=\"progress-line\"></div>\n          <div className=\"progress-step\">\n            <span className=\"step-number\">4</span>\n            <span className=\"step-label\">Confirmation</span>\n          </div>\n        </div>\n      </div>\n      \n      {error.orders && <div className=\"error-message\">{error.orders}</div>}\n      \n      <div className=\"checkout-container\">\n        <div className=\"checkout-form-section\">\n          <form onSubmit={handleSubmit} className=\"checkout-form\">\n            <div className=\"form-section\">\n              <h2>Shipping Information</h2>\n              \n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Full Name *</label>\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    className={errors['name'] ? 'error' : ''}\n                    required\n                  />\n                  {errors['name'] && <span className=\"error-text\">{errors['name']}</span>}\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Email Address *</label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    className={errors['email'] ? 'error' : ''}\n                    required\n                  />\n                  {errors['email'] && <span className=\"error-text\">{errors['email']}</span>}\n                </div>\n              </div>\n              \n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"phone\">Phone Number *</label>\n                  <input\n                    type=\"tel\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleChange}\n                    className={errors['phone'] ? 'error' : ''}\n                    required\n                  />\n                  {errors['phone'] && <span className=\"error-text\">{errors['phone']}</span>}\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"zipCode\">ZIP Code *</label>\n                  <input\n                    type=\"text\"\n                    id=\"zipCode\"\n                    name=\"zipCode\"\n                    value={formData.zipCode}\n                    onChange={handleChange}\n                    className={errors['zipCode'] ? 'error' : ''}\n                    required\n                  />\n                  {errors['zipCode'] && <span className=\"error-text\">{errors['zipCode']}</span>}\n                </div>\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"address\">Street Address *</label>\n                <textarea\n                  id=\"address\"\n                  name=\"address\"\n                  value={formData.address}\n                  onChange={handleChange}\n                  className={errors['address'] ? 'error' : ''}\n                  required\n                  rows={2}\n                ></textarea>\n                {errors['address'] && <span className=\"error-text\">{errors['address']}</span>}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"city\">City *</label>\n                <select\n                  id=\"city\"\n                  name=\"city\"\n                  value={formData.city}\n                  onChange={handleChange}\n                  className={errors['city'] ? 'error' : ''}\n                  required\n                >\n                  <option value=\"\">Select City</option>\n                  <option value=\"Mumbai\">Mumbai</option>\n                  <option value=\"Delhi\">Delhi</option>\n                  <option value=\"Bangalore\">Bangalore</option>\n                  <option value=\"Hyderabad\">Hyderabad</option>\n                  <option value=\"Ahmedabad\">Ahmedabad</option>\n                  <option value=\"Chennai\">Chennai</option>\n                  <option value=\"Kolkata\">Kolkata</option>\n                  <option value=\"Pune\">Pune</option>\n                  <option value=\"Jaipur\">Jaipur</option>\n                  <option value=\"Surat\">Surat</option>\n                  <option value=\"Lucknow\">Lucknow</option>\n                  <option value=\"Kanpur\">Kanpur</option>\n                  <option value=\"Nagpur\">Nagpur</option>\n                  <option value=\"Indore\">Indore</option>\n                  <option value=\"Thane\">Thane</option>\n                  <option value=\"Bhopal\">Bhopal</option>\n                  <option value=\"Visakhapatnam\">Visakhapatnam</option>\n                  <option value=\"Pimpri-Chinchwad\">Pimpri-Chinchwad</option>\n                  <option value=\"Patna\">Patna</option>\n                  <option value=\"Vadodara\">Vadodara</option>\n                </select>\n                {errors['city'] && <span className=\"error-text\">{errors['city']}</span>}\n              </div>\n            </div>\n            \n            <div className=\"form-section\">\n              <h2>Payment Method</h2>\n              <div className=\"payment-options\">\n                {[\n                  { id: 'razorpay', label: 'Credit/Debit Card (Razorpay)', icon: 'fas fa-credit-card' },\n                  { id: 'upi', label: 'UPI (Razorpay)', icon: 'fas fa-qrcode' },\n                  { id: 'netbanking', label: 'Net Banking (Razorpay)', icon: 'fas fa-university' },\n                  { id: 'paypal', label: 'PayPal', icon: 'fab fa-paypal' },\n                  { id: 'cod', label: 'Cash on Delivery', icon: 'fas fa-money-bill-wave' }\n                ].map(method => (\n                  <label key={method.id} className=\"payment-option\">\n                    <input\n                      type=\"radio\"\n                      name=\"paymentMethod\"\n                      value={method.id}\n                      checked={formData.paymentMethod === method.id}\n                      onChange={handleChange}\n                    />\n                    <div className=\"payment-option-content\">\n                      <div className=\"payment-icon\">\n                        <i className={method.icon}></i>\n                      </div>\n                      <div className=\"payment-info\">\n                        <span className=\"payment-title\">{method.label}</span>\n                      </div>\n                    </div>\n                  </label>\n                ))}\n              </div>\n            </div>\n            \n          </form>\n        </div>\n        \n        <div className=\"checkout-summary-section\">\n          <div className=\"checkout-summary checkout-summary-sticky\">\n            <h2>Order Summary</h2>\n            <div className=\"summary-items\">\n              {cartItems.map(item => (\n                <div className=\"summary-item\" key={item.id}>\n                  <div className=\"item-details\">\n                    <h3>{item.name}</h3>\n                    <p>Qty: {item.quantity}</p>\n                  </div>\n                  <div className=\"item-price\">\n                    ‚Çπ{typeof item.price === 'number' \n                      ? (item.price * item.quantity).toLocaleString() \n                      : (parseFloat(item.price || '0') * item.quantity).toLocaleString()}\n                  </div>\n                </div>\n              ))}\n            </div>\n            \n            <div className=\"summary-totals\">\n              <div className=\"total-row\">\n                <span>Original Price</span>\n                <span>‚Çπ{calculateOriginalCartTotal(cartItems).toLocaleString()}</span>\n              </div>\n              <div className=\"total-row\" style={{ color: '#28a745', fontWeight: '600' }}>\n                <span>You saved</span>\n                <span>-‚Çπ{calculateDiscountSavings(cartItems).toLocaleString()}</span>\n              </div>\n              <div className=\"total-row\">\n                <span>Subtotal</span>\n                <span>‚Çπ{subtotal.toLocaleString()}</span>\n              </div>\n              <div className=\"total-row\">\n                <span>Shipping</span>\n                <span>{shipping === 0 ? 'FREE' : `‚Çπ${shipping.toLocaleString()}`}</span>\n              </div>\n              <div className=\"total-row grand-total\">\n                <span>Total</span>\n                <span>‚Çπ{total.toLocaleString()}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Move payment button below the summary */}\n      <div className=\"checkout-payment-section\">\n        <button\n          type=\"submit\"\n          className=\"btn primary checkout-button\"\n          disabled={loading.orders}\n        >\n          {loading.orders ? 'Processing Order...' : \n           (['razorpay', 'upi', 'netbanking'].includes(formData.paymentMethod) \n            ? `Pay with ${formData.paymentMethod === 'razorpay' ? 'Card' : formData.paymentMethod === 'upi' ? 'UPI' : 'Net Banking'} - ‚Çπ${total.toLocaleString()}`\n            : `Complete Order - ‚Çπ${total.toLocaleString()}`)}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutPage;"],"names":["React","useState","useEffect","useRef","useRouter","useAppContext","Header","calculateCartTotal","calculateShippingCost","calculateOriginalCartTotal","calculateDiscountSavings","CheckoutPage","router","navigate","path","push","cartItems","loading","error","setError","createOrder","formData","setFormData","name","email","phone","address","city","zipCode","paymentMethod","orderCompleted","setOrderCompleted","errors","setErrors","Record","user","prev","handleChange","e","ChangeEvent","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","value","target","orders","validateForm","newErrors","isValid","trim","test","subtotal","shipping","total","handleSubmit","FormEvent","preventDefault","orderData","customer","items","map","item","id","quantity","price","toString","total_amount","status","created_at","Date","toISOString","setTimeout","err","console","Math","floor","random","length","label","icon","method","toLocaleString","parseFloat","color","fontWeight","includes"],"mappings":";;;;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,aAAa,QAAQ,uBAAuB;AACrD,OAAOC,MAAM,MAAM,UAAU;AAE7B,SAASC,kBAAkB,EAAEC,qBAAqB,EAAEC,0BAA0B,EAAEC,wBAAwB,QAAQ,oBAAoB;AAPpI,YAAY;;;;;;;;AASZ,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,OAAGR,+IAAS,CAAC,CAAC;IAE1B,MAAMS,QAAQ,GAAGA,CAACC,IAAI,EAAE,MAAM,KAAK;QACjCF,MAAM,CAACG,IAAI,CAACD,IAAI,CAAC;IACnB,CAAC;IAED,MAAM,EAAEE,SAAS,EAAEC,OAAO,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,WAAAA,EAAa,OAAGf,8IAAa,CAAC,CAAC;IAC5E,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,qNAAQ,EAAC;QACvCsB,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE,EAAE;QACXC,aAAa,EAAE;IACjB,CAAC,CAAC;IACF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,OAAG9B,iNAAQ,EAAC,KAAK,CAAC;IAC3D,MAAM,CAAC+B,MAAM,EAAEC,SAAS,CAAC,OAAGhC,iNAAQ,CAACiC,CAAwB,CAAC,CAAC,CAAC,EAArB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAE5D,MAAM,EAAEC,IAAAA,EAAM,OAAG9B,8IAAa,CAAC,CAAC;IAEhC,yCAAA;QACAH,kNAAS,EAAC,MAAM;QACd,IAAIiC,IAAI,EAAE;YACRb,WAAW,EAACc,IAAI,GAAA,CAAK;oBACnB,GAAGA,IAAI;oBACPb,IAAI,EAAEY,IAAI,CAACZ,IAAI,IAAI,EAAE;oBACrBC,KAAK,EAAEW,IAAI,CAACX,KAAK,IAAI;gBACvB,CAAC,CAAC,CAAC;QACL;IACF,CAAC,EAAE;QAACW,IAAI;KAAC,CAAC;IAEV,MAAME,YAAY,GAAGA,CAACC,CAAC,EAAEtC,KAAK,CAACuC,WAAW,CAACC,gBAAgB,GAAGC,mBAAmB,GAAGC,iBAAiB,CAAC,KAAK;QACzG,MAAM,EAAEnB,IAAI,EAAEoB,KAAAA,EAAO,GAAGL,CAAC,CAACM,MAAM;QAChCtB,WAAW,CAAC;YACV,GAAGD,QAAQ;YACX,CAACE,IAAI,CAAA,EAAGoB;QACV,CAAC,CAAC;QACF,4CAAA;QACA,IAAIX,MAAM,CAACT,IAAI,CAAC,EAAE;YAChBU,SAAS,EAACG,IAAI,GAAA,CAAK;oBAAE,GAAGA,IAAI;oBAAE,CAACb,IAAI,CAAA,EAAG;gBAAG,CAAC,CAAC,CAAC;QAC9C;QACA,8CAAA;QACA,IAAIL,KAAK,CAAC2B,MAAM,EAAE1B,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC;IAC1C,CAAC;IAED,MAAM2B,YAAY,GAAGA,CAAA,KAAM;QACzB,MAAMC,SAAS,EAAEb,CAAyB,CAAC,CAAC,GAArB,CAAC,MAAM,EAAE,MAAM,CAAC;QACvC,IAAIc,OAAO,GAAG,IAAI;QAElB,IAAI,CAAC3B,QAAQ,CAACE,IAAI,CAAC0B,IAAI,CAAC,CAAC,EAAE;YACzBF,SAAS,CAAC,MAAM,CAAC,GAAG,uBAAuB;YAC3CC,OAAO,GAAG,KAAK;QACjB;QAEA,IAAI,CAAC3B,QAAQ,CAACG,KAAK,CAACyB,IAAI,CAAC,CAAC,EAAE;YAC1BF,SAAS,CAAC,OAAO,CAAC,GAAG,mBAAmB;YACxCC,OAAO,GAAG,KAAK;QACjB,CAAC,MAAM,IAAI,CAAC,4BAA4B,CAACE,IAAI,CAAC7B,QAAQ,CAACG,KAAK,CAAC,EAAE;YAC7DuB,SAAS,CAAC,OAAO,CAAC,GAAG,oCAAoC;YACzDC,OAAO,GAAG,KAAK;QACjB;QAEA,IAAI,CAAC3B,QAAQ,CAACI,KAAK,CAACwB,IAAI,CAAC,CAAC,EAAE;YAC1BF,SAAS,CAAC,OAAO,CAAC,GAAG,0BAA0B;YAC/CC,OAAO,GAAG,KAAK;QACjB;QAEA,IAAI,CAAC3B,QAAQ,CAACK,OAAO,CAACuB,IAAI,CAAC,CAAC,EAAE;YAC5BF,SAAS,CAAC,SAAS,CAAC,GAAG,qBAAqB;YAC5CC,OAAO,GAAG,KAAK;QACjB;QAEA,IAAI,CAAC3B,QAAQ,CAACM,IAAI,CAACsB,IAAI,CAAC,CAAC,EAAE;YACzBF,SAAS,CAAC,MAAM,CAAC,GAAG,kBAAkB;YACtCC,OAAO,GAAG,KAAK;QACjB;QAEA,IAAI,CAAC3B,QAAQ,CAACO,OAAO,CAACqB,IAAI,CAAC,CAAC,EAAE;YAC5BF,SAAS,CAAC,SAAS,CAAC,GAAG,sBAAsB;YAC7CC,OAAO,GAAG,KAAK;QACjB;QAEAf,SAAS,CAACc,SAAS,CAAC;QACpB,OAAOC,OAAO;IAChB,CAAC;IAED,MAAMG,QAAQ,OAAG5C,+IAAkB,EAACS,SAAS,CAAC;IAC9C,MAAMoC,QAAQ,GAAG5C,sJAAqB,EAAC2C,QAAQ,CAAC;IAChD,MAAME,KAAK,GAAGF,QAAQ,GAAGC,QAAQ;IAEjC,MAAME,YAAY,GAAG,MAAAA,CAAOhB,CAAC,EAAEtC,KAAK,CAACuD,SAAS,KAAK;QACjDjB,CAAC,CAACkB,cAAc,CAAC,CAAC;QAElB,IAAI,CAACV,YAAY,CAAC,CAAC,EAAE;YACnB;QACF;QAEA,IAAI;YACF,oBAAA;YACA,MAAMW,SAAS,GAAG;gBAChBC,QAAQ,EAAErC,QAAQ;gBAClBsC,KAAK,EAAE3C,SAAS,CAAC4C,GAAG,EAACC,IAAI,GAAA,CAAK;wBAC5BC,EAAE,EAAED,IAAI,CAACC,EAAE;wBACXC,QAAQ,EAAEF,IAAI,CAACE,QAAQ;wBACvBC,KAAK,EAAE,OAAOH,IAAI,CAACG,KAAK,KAAK,QAAQ,GAAGH,IAAI,CAACG,KAAK,CAACC,QAAQ,CAAC,CAAC,GAAGJ,IAAI,CAACG,KAAK;wBAC1EzC,IAAI,EAAEsC,IAAI,CAACtC,IAAAA;oBACb,CAAC,CAAC,CAAC;gBACH2C,YAAY,EAAEb,KAAK,CAACY,QAAQ,CAAC,CAAC;gBAC9BE,MAAM,EAAE,SAAS;gBACjBC,UAAU,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;YACrC,CAAC;YAED,0BAAA;YACA,MAAMlD,WAAW,CAACqC,SAAS,CAAC;YAE5B,0BAAA;YACA1B,iBAAiB,CAAC,IAAI,CAAC;YAEvB,+BAAA;YACAwC,UAAU,CAAC,MAAM;gBACfxC,iBAAiB,CAAC,KAAK,CAAC;gBACxBlB,QAAQ,CAAC,GAAG,CAAC;YACf,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC,OAAO2D,GAAG,EAAE;YACZC,OAAO,CAACvD,KAAK,CAAC,iBAAiB,EAAEsD,GAAG,CAAC;YACrCrD,QAAQ,CAAC,QAAQ,EAAE,0CAA0C,CAAC;QAChE;IACF,CAAC;IAED,IAAIW,cAAc,EAAE;QAClB,qBACE,8OAAC,GAAG;YAAC,SAAS,EAAC,yBAAyB;;8BACtC,8OAAC,uIAAM;;;;;8BACP,8OAAC,GAAG;oBAAC,SAAS,EAAC,sBAAsB;;sCACnC,8OAAC,CAAC;4BAAC,SAAS,EAAC,uCAAuC,CAAC,EAAE,CAAC;;;;;;sCACxD,8OAAC,EAAE;sCAAC,gBAAgB,EAAE,EAAE;;;;;;sCACxB,8OAAC,CAAC;;gCAAC,gEAAgE;gCAACT,QAAQ,CAACG,KAAK;gCAAC,CAAC,EAAE,CAAC;;;;;;;sCACvF,8OAAC,CAAC;;gCAAC,sBAAsB;gCAACkD,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC;;;;;;;sCAClE,8OAAC,CAAC;sCAAC,2BAA2B,EAAE,CAAC;;;;;;;;;;;;;;;;;;IAIzC;IAEA,IAAI5D,SAAS,CAAC6D,MAAM,KAAK,CAAC,EAAE;QAC1B,qBACE,8OAAC,GAAG;YAAC,SAAS,EAAC,eAAe;;8BAC5B,8OAAC,uIAAM;;;;;8BACP,8OAAC,GAAG;oBAAC,SAAS,EAAC,iBAAiB;4CAC9B,8OAAC,EAAE;kCAAC,QAAQ,EAAE,EAAE;;;;;;;;;;;8BAElB,8OAAC,GAAG;oBAAC,SAAS,EAAC,YAAY;;sCACzB,8OAAC,CAAC;4BAAC,SAAS,EAAC,sBAAsB,CAAC,EAAE,CAAC;;;;;;sCACvC,8OAAC,EAAE;sCAAC,kBAAkB,EAAE,EAAE;;;;;;sCAC1B,8OAAC,CAAC;sCAAC,uDAAuD,EAAE,CAAC;;;;;;sCAC7D,8OAAC,MAAM;4BAAC,SAAS,EAAC,aAAa;4BAAC,OAAO,CAAC,CAAC,IAAMhE,QAAQ,CAAC,OAAO,CAAC,CAAC;sCAAA;;;;;;;;;;;;;;;;;;IAMzE;IAEA,qBACE,8OAAC,GAAG;QAAC,SAAS,EAAC,eAAe;;0BAC5B,8OAAC,uIAAM;;;;;0BACP,8OAAC,GAAG;gBAAC,SAAS,EAAC,iBAAiB;;kCAC9B,8OAAC,EAAE;kCAAC,QAAQ,EAAE,EAAE;;;;;;kCAChB,8OAAC,GAAG;wBAAC,SAAS,EAAC,mBAAmB;;0CAChC,8OAAC,GAAG;gCAAC,SAAS,EAAC,sBAAsB;;kDACnC,8OAAC,IAAI;wCAAC,SAAS,EAAC,aAAa;kDAAC,CAAC,EAAE,IAAI;;;;;;kDACrC,8OAAC,IAAI;wCAAC,SAAS,EAAC,YAAY;kDAAC,IAAI,EAAE,IAAI;;;;;;;;;;;;0CAEzC,8OAAC,GAAG;gCAAC,SAAS,EAAC,eAAe,CAAC,EAAE,GAAG;;;;;;0CACpC,8OAAC,GAAG;gCAAC,SAAS,EAAC,sBAAsB;;kDACnC,8OAAC,IAAI;wCAAC,SAAS,EAAC,aAAa;kDAAC,CAAC,EAAE,IAAI;;;;;;kDACrC,8OAAC,IAAI;wCAAC,SAAS,EAAC,YAAY;kDAAC,WAAW,EAAE,IAAI;;;;;;;;;;;;0CAEhD,8OAAC,GAAG;gCAAC,SAAS,EAAC,eAAe,CAAC,EAAE,GAAG;;;;;;0CACpC,8OAAC,GAAG;gCAAC,SAAS,EAAC,eAAe;;kDAC5B,8OAAC,IAAI;wCAAC,SAAS,EAAC,aAAa;kDAAC,CAAC,EAAE,IAAI;;;;;;kDACrC,8OAAC,IAAI;wCAAC,SAAS,EAAC,YAAY;kDAAC,OAAO,EAAE,IAAI;;;;;;;;;;;;0CAE5C,8OAAC,GAAG;gCAAC,SAAS,EAAC,eAAe,CAAC,EAAE,GAAG;;;;;;0CACpC,8OAAC,GAAG;gCAAC,SAAS,EAAC,eAAe;;kDAC5B,8OAAC,IAAI;wCAAC,SAAS,EAAC,aAAa;kDAAC,CAAC,EAAE,IAAI;;;;;;kDACrC,8OAAC,IAAI;wCAAC,SAAS,EAAC,YAAY;kDAAC,YAAY,EAAE,IAAI;;;;;;;;;;;;;;;;;;;;;;;;YAKpDK,KAAK,CAAC2B,MAAM,kBAAI,8OAAC,GAAG;gBAAC,SAAS,EAAC,eAAe,CAAC;0BAAC3B,KAAK,CAAC2B,MAAM,CAAC,EAAE,GAAG,CAAC;;;;;;0BAEpE,8OAAC,GAAG;gBAAC,SAAS,EAAC,oBAAoB;;kCACjC,8OAAC,GAAG;wBAAC,SAAS,EAAC,uBAAuB;gDACpC,8OAAC,IAAI;4BAAC,QAAQ,CAAC,CAACS,YAAY,CAAC;4BAAC,SAAS,EAAC,eAAe;;8CACrD,8OAAC,GAAG;oCAAC,SAAS,EAAC,cAAc;;sDAC3B,8OAAC,EAAE;sDAAC,oBAAoB,EAAE,EAAE;;;;;;sDAE5B,8OAAC,GAAG;4CAAC,SAAS,EAAC,UAAU;;8DACvB,8OAAC,GAAG;oDAAC,SAAS,EAAC,YAAY;;sEACzB,8OAAC,KAAK;4DAAC,OAAO,EAAC,MAAM;sEAAC,WAAW,EAAE,KAAK;;;;;;sEACxC,8OAAC,KAAK;4DACJ,IAAI,EAAC,MAAM;4DACX,EAAE,EAAC,MAAM;4DACT,IAAI,EAAC,MAAM;4DACX,KAAK,CAAC,CAACjC,QAAQ,CAACE,IAAI,CAAC;4DACrB,QAAQ,CAAC,CAACc,YAAY,CAAC;4DACvB,SAAS,CAAC,CAACL,MAAM,CAAC,MAAM,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;4DACzC,QAAQ;;;;;;wDAETA,MAAM,CAAC,MAAM,CAAC,kBAAI,8OAAC,IAAI;4DAAC,SAAS,EAAC,YAAY,CAAC;sEAACA,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;8DAGzE,8OAAC,GAAG;oDAAC,SAAS,EAAC,YAAY;;sEACzB,8OAAC,KAAK;4DAAC,OAAO,EAAC,OAAO;sEAAC,eAAe,EAAE,KAAK;;;;;;sEAC7C,8OAAC,KAAK;4DACJ,IAAI,EAAC,OAAO;4DACZ,EAAE,EAAC,OAAO;4DACV,IAAI,EAAC,OAAO;4DACZ,KAAK,CAAC,CAACX,QAAQ,CAACG,KAAK,CAAC;4DACtB,QAAQ,CAAC,CAACa,YAAY,CAAC;4DACvB,SAAS,CAAC,CAACL,MAAM,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;4DAC1C,QAAQ;;;;;;wDAETA,MAAM,CAAC,OAAO,CAAC,kBAAI,8OAAC,IAAI;4DAAC,SAAS,EAAC,YAAY,CAAC;sEAACA,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;;;;;;;sDAI7E,8OAAC,GAAG;4CAAC,SAAS,EAAC,UAAU;;8DACvB,8OAAC,GAAG;oDAAC,SAAS,EAAC,YAAY;;sEACzB,8OAAC,KAAK;4DAAC,OAAO,EAAC,OAAO;sEAAC,cAAc,EAAE,KAAK;;;;;;sEAC5C,8OAAC,KAAK;4DACJ,IAAI,EAAC,KAAK;4DACV,EAAE,EAAC,OAAO;4DACV,IAAI,EAAC,OAAO;4DACZ,KAAK,CAAC,CAACX,QAAQ,CAACI,KAAK,CAAC;4DACtB,QAAQ,CAAC,CAACY,YAAY,CAAC;4DACvB,SAAS,CAAC,CAACL,MAAM,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;4DAC1C,QAAQ;;;;;;wDAETA,MAAM,CAAC,OAAO,CAAC,kBAAI,8OAAC,IAAI;4DAAC,SAAS,EAAC,YAAY,CAAC;sEAACA,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;8DAG3E,8OAAC,GAAG;oDAAC,SAAS,EAAC,YAAY;;sEACzB,8OAAC,KAAK;4DAAC,OAAO,EAAC,SAAS;sEAAC,UAAU,EAAE,KAAK;;;;;;sEAC1C,8OAAC,KAAK;4DACJ,IAAI,EAAC,MAAM;4DACX,EAAE,EAAC,SAAS;4DACZ,IAAI,EAAC,SAAS;4DACd,KAAK,CAAC,CAACX,QAAQ,CAACO,OAAO,CAAC;4DACxB,QAAQ,CAAC,CAACS,YAAY,CAAC;4DACvB,SAAS,CAAC,CAACL,MAAM,CAAC,SAAS,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;4DAC5C,QAAQ;;;;;;wDAETA,MAAM,CAAC,SAAS,CAAC,kBAAI,8OAAC,IAAI;4DAAC,SAAS,EAAC,YAAY,CAAC;sEAACA,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;;;;;;;sDAIjF,8OAAC,GAAG;4CAAC,SAAS,EAAC,YAAY;;8DACzB,8OAAC,KAAK;oDAAC,OAAO,EAAC,SAAS;8DAAC,gBAAgB,EAAE,KAAK;;;;;;8DAChD,8OAAC,QAAQ;oDACP,EAAE,EAAC,SAAS;oDACZ,IAAI,EAAC,SAAS;oDACd,KAAK,CAAC,CAACX,QAAQ,CAACK,OAAO,CAAC;oDACxB,QAAQ,CAAC,CAACW,YAAY,CAAC;oDACvB,SAAS,CAAC,CAACL,MAAM,CAAC,SAAS,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;oDAC5C,QAAQ;oDACR,IAAI,CAAC,CAAC,CAAC,CAAC,CACT,EAAE,QAAQ;;;;;;gDACVA,MAAM,CAAC,SAAS,CAAC,kBAAI,8OAAC,IAAI;oDAAC,SAAS,EAAC,YAAY,CAAC;8DAACA,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;sDAG/E,8OAAC,GAAG;4CAAC,SAAS,EAAC,YAAY;;8DACzB,8OAAC,KAAK;oDAAC,OAAO,EAAC,MAAM;8DAAC,MAAM,EAAE,KAAK;;;;;;8DACnC,8OAAC,MAAM;oDACL,EAAE,EAAC,MAAM;oDACT,IAAI,EAAC,MAAM;oDACX,KAAK,CAAC,CAACX,QAAQ,CAACM,IAAI,CAAC;oDACrB,QAAQ,CAAC,CAACU,YAAY,CAAC;oDACvB,SAAS,CAAC,CAACL,MAAM,CAAC,MAAM,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;oDACzC,QAAQ;;sEAER,8OAAC,MAAM;4DAAC,KAAK,EAAC,EAAE;sEAAC,WAAW,EAAE,MAAM;;;;;;sEACpC,8OAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,MAAM,EAAE,MAAM;;;;;;sEACrC,8OAAC,MAAM;4DAAC,KAAK,EAAC,OAAO;sEAAC,KAAK,EAAE,MAAM;;;;;;sEACnC,8OAAC,MAAM;4DAAC,KAAK,EAAC,WAAW;sEAAC,SAAS,EAAE,MAAM;;;;;;sEAC3C,8OAAC,MAAM;4DAAC,KAAK,EAAC,WAAW;sEAAC,SAAS,EAAE,MAAM;;;;;;sEAC3C,8OAAC,MAAM;4DAAC,KAAK,EAAC,WAAW;sEAAC,SAAS,EAAE,MAAM;;;;;;sEAC3C,8OAAC,MAAM;4DAAC,KAAK,EAAC,SAAS;sEAAC,OAAO,EAAE,MAAM;;;;;;sEACvC,8OAAC,MAAM;4DAAC,KAAK,EAAC,SAAS;sEAAC,OAAO,EAAE,MAAM;;;;;;sEACvC,8OAAC,MAAM;4DAAC,KAAK,EAAC,MAAM;sEAAC,IAAI,EAAE,MAAM;;;;;;sEACjC,8OAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,MAAM,EAAE,MAAM;;;;;;sEACrC,8OAAC,MAAM;4DAAC,KAAK,EAAC,OAAO;sEAAC,KAAK,EAAE,MAAM;;;;;;sEACnC,8OAAC,MAAM;4DAAC,KAAK,EAAC,SAAS;sEAAC,OAAO,EAAE,MAAM;;;;;;sEACvC,8OAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,MAAM,EAAE,MAAM;;;;;;sEACrC,8OAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,MAAM,EAAE,MAAM;;;;;;sEACrC,8OAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,MAAM,EAAE,MAAM;;;;;;sEACrC,8OAAC,MAAM;4DAAC,KAAK,EAAC,OAAO;sEAAC,KAAK,EAAE,MAAM;;;;;;sEACnC,8OAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,MAAM,EAAE,MAAM;;;;;;sEACrC,8OAAC,MAAM;4DAAC,KAAK,EAAC,eAAe;sEAAC,aAAa,EAAE,MAAM;;;;;;sEACnD,8OAAC,MAAM;4DAAC,KAAK,EAAC,kBAAkB;sEAAC,gBAAgB,EAAE,MAAM;;;;;;sEACzD,8OAAC,MAAM;4DAAC,KAAK,EAAC,OAAO;sEAAC,KAAK,EAAE,MAAM;;;;;;sEACnC,8OAAC,MAAM;4DAAC,KAAK,EAAC,UAAU;sEAAC,QAAQ,EAAE,MAAM;;;;;;;;;;;;gDAE1CA,MAAM,CAAC,MAAM,CAAC,kBAAI,8OAAC,IAAI;oDAAC,SAAS,EAAC,YAAY,CAAC;8DAACA,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;;;;;;;8CAI3E,8OAAC,GAAG;oCAAC,SAAS,EAAC,cAAc;;sDAC3B,8OAAC,EAAE;sDAAC,cAAc,EAAE,EAAE;;;;;;sDACtB,8OAAC,GAAG;4CAAC,SAAS,EAAC,iBAAiB;sDAC7B;gDACC;oDAAE8B,EAAE,EAAE,UAAU;oDAAEgB,KAAK,EAAE,8BAA8B;oDAAEC,IAAI,EAAE;gDAAqB,CAAC;gDACrF;oDAAEjB,EAAE,EAAE,KAAK;oDAAEgB,KAAK,EAAE,gBAAgB;oDAAEC,IAAI,EAAE;gDAAgB,CAAC;gDAC7D;oDAAEjB,EAAE,EAAE,YAAY;oDAAEgB,KAAK,EAAE,wBAAwB;oDAAEC,IAAI,EAAE;gDAAoB,CAAC;gDAChF;oDAAEjB,EAAE,EAAE,QAAQ;oDAAEgB,KAAK,EAAE,QAAQ;oDAAEC,IAAI,EAAE;gDAAgB,CAAC;gDACxD;oDAAEjB,EAAE,EAAE,KAAK;oDAAEgB,KAAK,EAAE,kBAAkB;oDAAEC,IAAI,EAAE;gDAAyB,CAAC;6CACzE,CAACnB,GAAG,EAACoB,MAAM,iBACV,8OAAC,KAAK,CAAC,GAAG,CAAC;oDAAY,SAAS,EAAC,gBAAgB;;sEAC/C,8OAAC,KAAK;4DACJ,IAAI,EAAC,OAAO;4DACZ,IAAI,EAAC,eAAe;4DACpB,KAAK,CAAC,CAACA,MAAM,CAAClB,EAAE,CAAC;4DACjB,OAAO,CAAC,CAACzC,QAAQ,CAACQ,aAAa,KAAKmD,MAAM,CAAClB,EAAE,CAAC;4DAC9C,QAAQ,CAAC,CAACzB,YAAY,CAAC;;;;;;sEAEzB,8OAAC,GAAG;4DAAC,SAAS,EAAC,wBAAwB;;8EACrC,8OAAC,GAAG;oEAAC,SAAS,EAAC,cAAc;4FAC3B,8OAAC,CAAC;wEAAC,SAAS,CAAC,CAAC2C,MAAM,CAACD,IAAI,CAAC,CAAC,EAAE,CAAC;;;;;;;;;;;8EAEhC,8OAAC,GAAG;oEAAC,SAAS,EAAC,cAAc;4FAC3B,8OAAC,IAAI;wEAAC,SAAS,EAAC,eAAe,CAAC;kFAACC,MAAM,CAACF,KAAK,CAAC,EAAE,IAAI;;;;;;;;;;;;;;;;;;mDAb9CE,MAAM,CAAClB,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAwBhC,8OAAC,GAAG;wBAAC,SAAS,EAAC,0BAA0B;gDACvC,8OAAC,GAAG;4BAAC,SAAS,EAAC,0CAA0C;;8CACvD,8OAAC,EAAE;8CAAC,aAAa,EAAE,EAAE;;;;;;8CACrB,8OAAC,GAAG;oCAAC,SAAS,EAAC,eAAe;8CAC3B9C,SAAS,CAAC4C,GAAG,EAACC,IAAI,iBACjB,8OAAC,GAAG;4CAAC,SAAS,EAAC,cAAc,CAAC,GAAG,CAAC;;8DAChC,8OAAC,GAAG;oDAAC,SAAS,EAAC,cAAc;;sEAC3B,8OAAC,EAAE,CAAC;sEAACA,IAAI,CAACtC,IAAI,CAAC,EAAE,EAAE;;;;;;sEACnB,8OAAC,CAAC;;gEAAC,KAAK;gEAACsC,IAAI,CAACE,QAAQ,CAAC,EAAE,CAAC;;;;;;;;;;;;;8DAE5B,8OAAC,GAAG;oDAAC,SAAS,EAAC,YAAY;;wDAAA;wDACvB,OAAOF,IAAI,CAACG,KAAK,KAAK,QAAQ,GAC5B,CAACH,IAAI,CAACG,KAAK,GAAGH,IAAI,CAACE,QAAQ,EAAEkB,cAAc,CAAC,CAAC,GAC7C,CAACC,UAAU,CAACrB,IAAI,CAACG,KAAK,IAAI,GAAG,CAAC,GAAGH,IAAI,CAACE,QAAQ,EAAEkB,cAAc,CAAC,CAAC;;;;;;;;2CARrCpB,IAAI,CAACC,EAAE,CAAC;;;;;;;;;;8CAc/C,8OAAC,GAAG;oCAAC,SAAS,EAAC,gBAAgB;;sDAC7B,8OAAC,GAAG;4CAAC,SAAS,EAAC,WAAW;;8DACxB,8OAAC,IAAI;8DAAC,cAAc,EAAE,IAAI;;;;;;8DAC1B,8OAAC,IAAI;;wDAAC,CAAC;4DAACrD,uJAA0B,EAACO,SAAS,CAAC,CAACiE,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI;;;;;;;;;;;;;sDAEvE,8OAAC,GAAG;4CAAC,SAAS,EAAC,WAAW;4CAAC,KAAK,CAAC,CAAC;gDAAEE,KAAK,EAAE,SAAS;gDAAEC,UAAU,EAAE;4CAAM,CAAC,CAAC;;8DACxE,8OAAC,IAAI;8DAAC,SAAS,EAAE,IAAI;;;;;;8DACrB,8OAAC,IAAI;;wDAAC,EAAE;4DAAC1E,qJAAwB,EAACM,SAAS,CAAC,CAACiE,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI;;;;;;;;;;;;;sDAEtE,8OAAC,GAAG;4CAAC,SAAS,EAAC,WAAW;;8DACxB,8OAAC,IAAI;8DAAC,QAAQ,EAAE,IAAI;;;;;;8DACpB,8OAAC,IAAI;;wDAAC,CAAC;wDAAC9B,QAAQ,CAAC8B,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI;;;;;;;;;;;;;sDAE1C,8OAAC,GAAG;4CAAC,SAAS,EAAC,WAAW;;8DACxB,8OAAC,IAAI;8DAAC,QAAQ,EAAE,IAAI;;;;;;8DACpB,8OAAC,IAAI,CAAC;8DAAC7B,QAAQ,KAAK,CAAC,GAAG,MAAM,GAAG,CAAA,CAAA,EAAIA,QAAQ,CAAC6B,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI;;;;;;;;;;;;sDAEzE,8OAAC,GAAG;4CAAC,SAAS,EAAC,uBAAuB;;8DACpC,8OAAC,IAAI;8DAAC,KAAK,EAAE,IAAI;;;;;;8DACjB,8OAAC,IAAI;;wDAAC,CAAC;wDAAC5B,KAAK,CAAC4B,cAAc,CAAC,CAAC,CAAC,EAAE,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ/C,8OAAC,GAAG;gBAAC,SAAS,EAAC,0BAA0B;wCACvC,8OAAC,MAAM;oBACL,IAAI,EAAC,QAAQ;oBACb,SAAS,EAAC,6BAA6B;oBACvC,QAAQ,CAAC,CAAChE,OAAO,CAAC4B,MAAM,CAAC;8BAExB5B,OAAO,CAAC4B,MAAM,GAAG,qBAAqB,GACrC;wBAAC,UAAU;wBAAE,KAAK;wBAAE,YAAY;qBAAC,CAACwC,QAAQ,CAAChE,QAAQ,CAACQ,aAAa,CAAC,GAChE,CAAA,SAAA,EAAYR,QAAQ,CAACQ,aAAa,KAAK,UAAU,GAAG,MAAM,GAAGR,QAAQ,CAACQ,aAAa,KAAK,KAAK,GAAG,KAAK,GAAG,aAAa,CAAA,IAAA,EAAOwB,KAAK,CAAC4B,cAAc,CAAC,CAAC,EAAE,GACpJ,CAAA,kBAAA,EAAqB5B,KAAK,CAAC4B,cAAc,CAAC,CAAC,EAAG;;;;;;;;;;;;;;;;;AAK5D,CAAC;uCAEctE,YAAY","ignoreList":[],"debugId":null}}]
}