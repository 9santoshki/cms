{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/account/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/account/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/account/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/account/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/account/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/account/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwQ,GACrS,sCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/account/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\nimport {\n  AccountContainer,\n  AccountHeader,\n  AccountContent,\n  ProfileCard,\n  ProfileHeader,\n  AvatarWrapper,\n  Avatar,\n  ProfileInfo,\n  ProfileStats,\n  StatItem,\n  ProfileActions,\n  EditButton,\n  ProfileDetails,\n  DetailGroup,\n  EditFormCard,\n  FormGrid,\n  FormField,\n  FormActions,\n  CancelButton,\n  SaveButton,\n  DashboardCard,\n  DashboardContent,\n  DashboardButton,\n  MessageBox,\n  LoadingScreen,\n  SignInPrompt\n} from '@/styles/AccountStyles';\n\nconst AccountPage = () => {\n  const { user, loading } = useAuth();\n  const [isEditing, setIsEditing] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  });\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        name: user.name,\n        email: user.email,\n        phone: user.phone || ''\n      });\n    }\n  }, [user]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSaving(true);\n    setMessage(null);\n\n    try {\n      // In a real application, this would call an API to update the profile\n      console.log('Updating profile:', formData);\n\n      setMessage({ type: 'success', text: 'Profile updated successfully!' });\n      setIsEditing(false);\n\n      // Clear message after 3 seconds\n      setTimeout(() => setMessage(null), 3000);\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      setMessage({ type: 'error', text: 'Failed to update profile.' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <LoadingScreen>\n        <div className=\"loading-content\">\n          <div className=\"spinner\"></div>\n          <p>Loading your account...</p>\n        </div>\n      </LoadingScreen>\n    );\n  }\n\n  if (!user) {\n    return (\n      <SignInPrompt>\n        <div className=\"prompt-content\">\n          <div className=\"icon\">\n            <i className=\"fas fa-user\"></i>\n          </div>\n          <h2>Account Access Required</h2>\n          <p>\n            Please sign in to access your personalized account dashboard.\n          </p>\n          <a href=\"/auth?redirect=/account\">\n            Sign In to Account\n          </a>\n        </div>\n      </SignInPrompt>\n    );\n  }\n\n  return (\n    <AccountContainer>\n      <Header activePage=\"account\" />\n\n      <AccountHeader>\n        <h1>Account Settings</h1>\n        <p>Manage your profile and preferences</p>\n      </AccountHeader>\n\n      <AccountContent>\n        {message && (\n          <MessageBox $type={message.type}>\n            <i className={`fas fa-${message.type === 'success' ? 'check-circle' : 'exclamation-circle'}`}></i>\n            {message.text}\n          </MessageBox>\n        )}\n\n        {/* Profile Card */}\n        {!isEditing && (\n          <ProfileCard>\n            <ProfileHeader>\n              <AvatarWrapper>\n                <Avatar>\n                  {user.avatar ? (\n                    <img\n                      src={user.avatar}\n                      alt={user.name}\n                      onError={(e) => {\n                        e.currentTarget.style.display = 'none';\n                        const fallback = document.createElement('span');\n                        fallback.textContent = user.name?.charAt(0)?.toUpperCase() || 'U';\n                        fallback.style.fontSize = '2.2rem';\n                        fallback.style.color = '#c19a6b';\n                        fallback.style.fontWeight = '400';\n                        fallback.style.fontFamily = 'var(--font-playfair), \"Playfair Display\", serif';\n                        e.currentTarget.parentElement?.appendChild(fallback);\n                      }}\n                    />\n                  ) : (\n                    <span>{user.name?.charAt(0)?.toUpperCase() || 'U'}</span>\n                  )}\n                </Avatar>\n              </AvatarWrapper>\n\n              <ProfileInfo>\n                <h2>{user.name}</h2>\n                <div className=\"email\">\n                  <i className=\"fas fa-envelope\"></i>\n                  {user.email}\n                </div>\n                <ProfileStats>\n                  <StatItem>\n                    <div className=\"label\">Member Since</div>\n                    <div className=\"value\">\n                      {user.created_at ? new Date(user.created_at).getFullYear() : 'N/A'}\n                    </div>\n                  </StatItem>\n                  <StatItem>\n                    <div className=\"label\">Status</div>\n                    <div className=\"value\">Active</div>\n                  </StatItem>\n                  <StatItem className=\"role\">\n                    <div className=\"label\">Role</div>\n                    <div className=\"value\">{user.role}</div>\n                  </StatItem>\n                </ProfileStats>\n              </ProfileInfo>\n\n              <ProfileActions>\n                <EditButton onClick={() => setIsEditing(true)}>\n                  <i className=\"fas fa-edit\"></i>\n                  Edit Profile\n                </EditButton>\n              </ProfileActions>\n            </ProfileHeader>\n\n            <ProfileDetails>\n              <DetailGroup>\n                <div className=\"label\">Full Name</div>\n                <div className=\"value\">{user.name}</div>\n              </DetailGroup>\n              <DetailGroup>\n                <div className=\"label\">Email Address</div>\n                <div className=\"value\">{user.email}</div>\n              </DetailGroup>\n              <DetailGroup>\n                <div className=\"label\">Phone Number</div>\n                <div className=\"value\">{user.phone || 'Not provided'}</div>\n              </DetailGroup>\n              <DetailGroup>\n                <div className=\"label\">Account Type</div>\n                <div className=\"value\" style={{ textTransform: 'capitalize' }}>{user.role}</div>\n              </DetailGroup>\n              <DetailGroup>\n                <div className=\"label\">Account Status</div>\n                <div className=\"value\" style={{ color: '#22c55e' }}>Active</div>\n              </DetailGroup>\n            </ProfileDetails>\n          </ProfileCard>\n        )}\n\n        {/* Edit Form */}\n        {isEditing && (\n          <EditFormCard>\n            <h2>Edit Profile</h2>\n            <p>Update your personal information</p>\n\n            <form onSubmit={handleSubmit}>\n              <FormGrid>\n                <FormField>\n                  <label htmlFor=\"name\">Full Name *</label>\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    required\n                  />\n                </FormField>\n\n                <FormField>\n                  <label htmlFor=\"email\">Email Address</label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    disabled\n                  />\n                  <div className=\"hint\">Email cannot be changed</div>\n                </FormField>\n\n                <FormField>\n                  <label htmlFor=\"phone\">Phone Number</label>\n                  <input\n                    type=\"tel\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleChange}\n                    placeholder=\"+1 (555) 123-4567\"\n                  />\n                </FormField>\n              </FormGrid>\n\n              <FormActions>\n                <CancelButton\n                  type=\"button\"\n                  onClick={() => {\n                    setIsEditing(false);\n                    setFormData({ name: user.name, email: user.email, phone: user.phone || '' });\n                  }}\n                >\n                  Cancel\n                </CancelButton>\n                <SaveButton type=\"submit\" disabled={saving}>\n                  {saving ? (\n                    <>\n                      <span className=\"spinner\"></span>\n                      Saving...\n                    </>\n                  ) : (\n                    'Save Changes'\n                  )}\n                </SaveButton>\n              </FormActions>\n            </form>\n          </EditFormCard>\n        )}\n\n        {/* Dashboard Access */}\n        <DashboardCard>\n          <DashboardContent>\n            <div>\n              <h2>Dashboard Access</h2>\n              <p>\n                {user.role === 'admin' || user.role === 'moderator'\n                  ? 'You have management access to the platform.'\n                  : 'You currently have customer access to the platform.'}\n              </p>\n            </div>\n\n            {user.role === 'admin' || user.role === 'moderator' ? (\n              <DashboardButton href=\"/dashboard\">\n                Access Dashboard\n                <i className=\"fas fa-arrow-right\"></i>\n              </DashboardButton>\n            ) : (\n              <DashboardButton className=\"disabled\">\n                Request Access\n              </DashboardButton>\n            )}\n          </DashboardContent>\n        </DashboardCard>\n      </AccountContent>\n\n      <Footer />\n    </AccountContainer>\n  );\n};\n\nexport default AccountPage;\n"],"names":["React","useState","useEffect","useAuth","Header","Footer","AccountContainer","AccountHeader","AccountContent","ProfileCard","ProfileHeader","AvatarWrapper","Avatar","ProfileInfo","ProfileStats","StatItem","ProfileActions","EditButton","ProfileDetails","DetailGroup","EditFormCard","FormGrid","FormField","FormActions","CancelButton","SaveButton","DashboardCard","DashboardContent","DashboardButton","MessageBox","LoadingScreen","SignInPrompt","AccountPage","user","loading","isEditing","setIsEditing","formData","setFormData","name","email","phone","saving","setSaving","message","setMessage","type","text","handleChange","e","ChangeEvent","HTMLInputElement","value","target","prev","handleSubmit","FormEvent","preventDefault","console","log","setTimeout","error","avatar","currentTarget","style","display","fallback","document","createElement","textContent","charAt","toUpperCase","fontSize","color","fontWeight","fontFamily","parentElement","appendChild","created_at","Date","getFullYear","role","textTransform"],"mappings":"","ignoreList":[],"debugId":null}}]
}