{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/DashboardLayout.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { usePathname, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\ninterface DashboardLayoutProps {\n  children: React.ReactNode;\n  title: string;\n  description?: string;\n}\n\nconst DashboardLayout: React.FC<DashboardLayoutProps> = ({ children, title, description }) => {\n  const { user } = useAuth();\n  const pathname = usePathname();\n  const router = useRouter();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  if (!user) {\n    return null;\n  }\n\n  const isAdmin = user.role === 'admin';\n\n  const menuItems = [\n    { icon: 'fas fa-tachometer-alt', label: 'Overview', href: '/dashboard' },\n    { icon: 'fas fa-box', label: 'Products', href: '/dashboard/products', show: isAdmin },\n    { icon: 'fas fa-shopping-bag', label: 'Orders', href: '/dashboard/orders', show: true },\n    { icon: 'fas fa-calendar-check', label: 'Appointments', href: '/dashboard/appointments', show: true },\n    { icon: 'fas fa-users', label: 'Users', href: '/dashboard/users', show: isAdmin },\n    { icon: 'fas fa-cog', label: 'Settings', href: '/dashboard/settings', show: isAdmin },\n  ].filter(item => item.show !== false);\n\n  return (\n    <>\n      <style jsx>{`\n        @media (max-width: 768px) {\n          .dashboard-header-title {\n            display: none !important;\n          }\n          .dashboard-header-divider {\n            display: none !important;\n          }\n          .dashboard-sidebar {\n            position: fixed !important;\n            top: 72px !important;\n            left: ${mobileMenuOpen ? '0' : '-100%'} !important;\n            width: 280px !important;\n            height: calc(100vh - 72px) !important;\n            z-index: 999 !important;\n            transition: left 0.3s ease !important;\n            overflow-y: auto !important;\n            background: white !important;\n            padding: 16px !important;\n          }\n          .dashboard-content-wrapper {\n            flex-direction: column !important;\n            padding: 16px 12px !important;\n          }\n          .dashboard-content {\n            width: 100% !important;\n          }\n          .mobile-menu-button {\n            display: flex !important;\n          }\n          .user-info-text {\n            display: none !important;\n          }\n          .dashboard-title {\n            font-size: 24px !important;\n          }\n        }\n        @media (min-width: 769px) {\n          .mobile-menu-button {\n            display: none !important;\n          }\n          .mobile-overlay {\n            display: none !important;\n          }\n        }\n      `}</style>\n\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8f4f0 0%, #efe9e3 100%)',\n        fontFamily: 'var(--font-montserrat), Montserrat, sans-serif'\n      }}>\n        {/* Header */}\n        <div style={{\n          background: 'white',\n          borderBottom: '1px solid #e8d5c4',\n          boxShadow: '0 2px 8px rgba(193, 154, 107, 0.1)',\n          position: 'sticky',\n          top: 0,\n          zIndex: 100\n        }}>\n          <div style={{\n            maxWidth: '1400px',\n            margin: '0 auto',\n            padding: '0 16px',\n            height: '72px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n              {/* Mobile Menu Button */}\n              <button\n                className=\"mobile-menu-button\"\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n                style={{\n                  display: 'none',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '40px',\n                  height: '40px',\n                  background: 'transparent',\n                  border: 'none',\n                  borderRadius: '8px',\n                  color: '#c19a6b',\n                  fontSize: '20px',\n                  cursor: 'pointer'\n                }}\n              >\n                <i className={mobileMenuOpen ? 'fas fa-times' : 'fas fa-bars'}></i>\n              </button>\n\n              <Link href=\"/\" style={{\n                fontSize: '20px',\n                fontWeight: '600',\n                color: '#c19a6b',\n                textDecoration: 'none',\n                fontFamily: 'var(--font-playfair), \"Playfair Display\", serif',\n                letterSpacing: '0.5px'\n              }}>\n                ‚Üê Colour My Space\n              </Link>\n              <div className=\"dashboard-header-divider\" style={{\n                width: '1px',\n                height: '32px',\n                background: '#e8d5c4'\n              }}></div>\n              <h1 className=\"dashboard-header-title\" style={{\n                fontSize: '18px',\n                fontWeight: '500',\n                color: '#333',\n                margin: 0,\n                letterSpacing: '0.5px'\n              }}>\n                Admin Dashboard\n              </h1>\n            </div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px',\n                padding: '8px 12px',\n                background: 'linear-gradient(135deg, #f8f4f0, #efe9e3)',\n                borderRadius: '8px'\n              }}>\n                {user.avatar ? (\n                  <img\n                    src={user.avatar}\n                    alt={user.name}\n                    style={{\n                      width: '32px',\n                      height: '32px',\n                      borderRadius: '50%',\n                      border: '2px solid #c19a6b'\n                    }}\n                  />\n                ) : (\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '50%',\n                    background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n                    color: 'white',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '14px',\n                    fontWeight: '600'\n                  }}>\n                    {user.name?.charAt(0).toUpperCase()}\n                  </div>\n                )}\n                <div className=\"user-info-text\">\n                  <div style={{ fontSize: '14px', fontWeight: '600', color: '#333' }}>{user.name}</div>\n                  <div style={{\n                    fontSize: '11px',\n                    color: '#c19a6b',\n                    textTransform: 'uppercase',\n                    letterSpacing: '0.5px',\n                    fontWeight: '600'\n                  }}>\n                    {user.role}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Mobile Overlay */}\n        {mobileMenuOpen && (\n          <div\n            className=\"mobile-overlay\"\n            onClick={() => setMobileMenuOpen(false)}\n            style={{\n              position: 'fixed',\n              top: '72px',\n              left: 0,\n              right: 0,\n              bottom: 0,\n              background: 'rgba(0, 0, 0, 0.5)',\n              zIndex: 998\n            }}\n          />\n        )}\n\n        <div className=\"dashboard-content-wrapper\" style={{\n          maxWidth: '1400px',\n          margin: '0 auto',\n          padding: '32px 24px',\n          display: 'flex',\n          gap: '32px'\n        }}>\n          {/* Sidebar */}\n          <div className=\"dashboard-sidebar\" style={{\n            width: '260px',\n            flexShrink: 0\n          }}>\n            <div style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '16px',\n              boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n              border: '1px solid #e8d5c4',\n              position: 'sticky',\n              top: '104px'\n            }}>\n              <div style={{\n                fontSize: '11px',\n                fontWeight: '700',\n                color: '#999',\n                textTransform: 'uppercase',\n                letterSpacing: '1px',\n                marginBottom: '12px',\n                padding: '0 12px'\n              }}>\n                Navigation\n              </div>\n              {menuItems.map((item, index) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={index}\n                    href={item.href}\n                    onClick={() => setMobileMenuOpen(false)}\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      padding: '12px',\n                      marginBottom: '4px',\n                      borderRadius: '8px',\n                      textDecoration: 'none',\n                      color: isActive ? '#c19a6b' : '#666',\n                      background: isActive ? 'linear-gradient(135deg, rgba(193, 154, 107, 0.1), rgba(193, 154, 107, 0.05))' : 'transparent',\n                      fontWeight: isActive ? '600' : '500',\n                      fontSize: '14px',\n                      transition: 'all 0.2s ease',\n                      border: isActive ? '1px solid rgba(193, 154, 107, 0.2)' : '1px solid transparent'\n                    }}\n                    onMouseEnter={(e) => {\n                      if (!isActive) {\n                        e.currentTarget.style.background = 'rgba(193, 154, 107, 0.05)';\n                        e.currentTarget.style.transform = 'translateX(4px)';\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (!isActive) {\n                        e.currentTarget.style.background = 'transparent';\n                        e.currentTarget.style.transform = 'translateX(0)';\n                      }\n                    }}\n                  >\n                    <i className={item.icon} style={{\n                      width: '20px',\n                      textAlign: 'center',\n                      fontSize: '16px'\n                    }}></i>\n                    <span>{item.label}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"dashboard-content\" style={{ flex: 1, minWidth: 0 }}>\n            <div style={{ marginBottom: '24px' }}>\n              <h2 className=\"dashboard-title\" style={{\n                fontSize: '28px',\n                fontWeight: '600',\n                color: '#333',\n                margin: '0 0 8px 0',\n                fontFamily: 'var(--font-playfair), \"Playfair Display\", serif'\n              }}>\n                {title}\n              </h2>\n              {description && (\n                <p style={{ fontSize: '14px', color: '#666', margin: 0 }}>\n                  {description}\n                </p>\n              )}\n            </div>\n            {children}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DashboardLayout;\n"],"names":["React","useState","useAuth","usePathname","useRouter","Link","DashboardLayoutProps","children","ReactNode","title","description","DashboardLayout","FC","user","pathname","router","mobileMenuOpen","setMobileMenuOpen","isAdmin","role","menuItems","icon","label","href","show","filter","item","minHeight","background","fontFamily","borderBottom","boxShadow","position","top","zIndex","maxWidth","margin","padding","height","display","alignItems","justifyContent","gap","width","border","borderRadius","color","fontSize","cursor","fontWeight","textDecoration","letterSpacing","avatar","name","charAt","toUpperCase","textTransform","left","right","bottom","flexShrink","marginBottom","map","index","isActive","transition","e","currentTarget","style","transform","textAlign","flex","minWidth"],"mappings":";;;;;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,uBAAuB;AAC/C,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,OAAOC,IAAI,MAAM,WAAW;AAL5B,YAAY;;;;;;;;AAcZ,MAAMM,eAAe,EAAEX,CAAiCW,CAAC,EAAEJ,CAA/B,CAACK,EAAE,CAACN,GAAmC,EAAEG,KAAK,EAAEC,QAAxB,CAAC,EAAuBA,EAAa,KAAK;IAC5F,MAAM,EAAEG,IAAAA,EAAM,OAAGX,yIAAO,CAAC,CAAC;IAC1B,MAAMY,QAAQ,OAAGX,iJAAW,CAAC,CAAC;IAC9B,MAAMY,MAAM,OAAGX,+IAAS,CAAC,CAAC;IAC1B,MAAM,CAACY,cAAc,EAAEC,iBAAiB,CAAC,OAAGhB,iNAAQ,EAAC,KAAK,CAAC;IAE3D,IAAI,CAACY,IAAI,EAAE;QACT,OAAO,IAAI;IACb;IAEA,MAAMK,OAAO,GAAGL,IAAI,CAACM,IAAI,KAAK,OAAO;IAErC,MAAMC,SAAS,GAAG;QAChB;YAAEC,IAAI,EAAE,uBAAuB;YAAEC,KAAK,EAAE,UAAU;YAAEC,IAAI,EAAE;QAAa,CAAC;QACxE;YAAEF,IAAI,EAAE,YAAY;YAAEC,KAAK,EAAE,UAAU;YAAEC,IAAI,EAAE,qBAAqB;YAAEC,IAAI,EAAEN;QAAQ,CAAC;QACrF;YAAEG,IAAI,EAAE,qBAAqB;YAAEC,KAAK,EAAE,QAAQ;YAAEC,IAAI,EAAE,mBAAmB;YAAEC,IAAI,EAAE;QAAK,CAAC;QACvF;YAAEH,IAAI,EAAE,uBAAuB;YAAEC,KAAK,EAAE,cAAc;YAAEC,IAAI,EAAE,yBAAyB;YAAEC,IAAI,EAAE;QAAK,CAAC;QACrG;YAAEH,IAAI,EAAE,cAAc;YAAEC,KAAK,EAAE,OAAO;YAAEC,IAAI,EAAE,kBAAkB;YAAEC,IAAI,EAAEN;QAAQ,CAAC;QACjF;YAAEG,IAAI,EAAE,YAAY;YAAEC,KAAK,EAAE,UAAU;YAAEC,IAAI,EAAE,qBAAqB;YAAEC,IAAI,EAAEN;QAAQ,CAAC;KACtF,CAACO,MAAM,EAACC,IAAI,GAAIA,IAAI,CAACF,IAAI,KAAK,KAAK,CAAC;IAErC,qBACE;;;;;;;8PAYgBR,cAAc;;0BAoC5B,8OAAC,GAAG;gBAAC,KAAK,CAAC,CAAC;oBACVW,SAAS,EAAE,OAAO;oBAClBC,UAAU,EAAE,mDAAmD;oBAC/DC,UAAU,EAAE;gBACd,CAAC,CAAC;;;;;;;;;;kCAEA,8OAAC,GAAG;wBAAC,KAAK,CAAC,CAAC;4BACVD,UAAU,EAAE,OAAO;4BACnBE,YAAY,EAAE,mBAAmB;4BACjCC,SAAS,EAAE,oCAAoC;4BAC/CC,QAAQ,EAAE,QAAQ;4BAClBC,GAAG,EAAE,CAAC;4BACNC,MAAM,EAAE;wBACV,CAAC,CAAC;;;;;;;;;gDACA,8OAAC,GAAG;4BAAC,KAAK,CAAC,CAAC;gCACVC,QAAQ,EAAE,QAAQ;gCAClBC,MAAM,EAAE,QAAQ;gCAChBC,OAAO,EAAE,QAAQ;gCACjBC,MAAM,EAAE,MAAM;gCACdC,OAAO,EAAE,MAAM;gCACfC,UAAU,EAAE,QAAQ;gCACpBC,cAAc,EAAE;4BAClB,CAAC,CAAC;;;;;;;;;;8CACA,8OAAC,GAAG;oCAAC,KAAK,CAAC,CAAC;wCAAEF,OAAO,EAAE,MAAM;wCAAEC,UAAU,EAAE,QAAQ;wCAAEE,GAAG,EAAE;oCAAO,CAAC,CAAC;;;;;;;;;;sDAEjE,8OAAC,MAAM,CACL,SAAS;4CACT,OAAO,CAAC,CAAC,IAAMzB,iBAAiB,CAAC,CAACD,cAAc,CAAC,CAAC;4CAClD,KAAK,CAAC,CAAC;gDACLuB,OAAO,EAAE,MAAM;gDACfC,UAAU,EAAE,QAAQ;gDACpBC,cAAc,EAAE,QAAQ;gDACxBE,KAAK,EAAE,MAAM;gDACbL,MAAM,EAAE,MAAM;gDACdV,UAAU,EAAE,aAAa;gDACzBgB,MAAM,EAAE,MAAM;gDACdC,YAAY,EAAE,KAAK;gDACnBC,KAAK,EAAE,SAAS;gDAChBC,QAAQ,EAAE,MAAM;gDAChBC,MAAM,EAAE;4CACV,CAAC,CAAC;;;;;;;;uDAdQ,oBAAoB;oEAgB9B,8OAAC,CAAC,CAAC,SAAS,CAAC;;;;;;;;6DAAChC,cAAc,GAAG,cAAc,GAAG,aAAA,CAAa,CAAC,CAAC,EAAE,CAAC;;;;;;;;;;;sDAGpE,8OAAC,uKAAI;4CAAC,IAAI,EAAC,GAAG;4CAAC,KAAK,CAAC,CAAC;gDACpB+B,QAAQ,EAAE,MAAM;gDAChBE,UAAU,EAAE,KAAK;gDACjBH,KAAK,EAAE,SAAS;gDAChBI,cAAc,EAAE,MAAM;gDACtBrB,UAAU,EAAE,iDAAiD;gDAC7DsB,aAAa,EAAE;4CACjB,CAAC,CAAC;sDAAA;;;;;;sDAGF,8OAAC,GAAG,CAAC,SAAS;4CAA4B,KAAK,CAAC,CAAC;gDAC/CR,KAAK,EAAE,KAAK;gDACZL,MAAM,EAAE,MAAM;gDACdV,UAAU,EAAE;4CACd,CAAC,CAAC,CAAC,EAAE,GAAG;;;;;;;;uDAJO,0BAA0B;;;;;;sDAKzC,8OAAC,EAAE,CAAC,SAAS;4CAA0B,KAAK,CAAC,CAAC;gDAC5CmB,QAAQ,EAAE,MAAM;gDAChBE,UAAU,EAAE,KAAK;gDACjBH,KAAK,EAAE,MAAM;gDACbV,MAAM,EAAE,CAAC;gDACTe,aAAa,EAAE;4CACjB,CAAC,CAAC;;;;;;;;uDANY,wBAAwB;sDAMpC;;;;;;;;;;;;8CAIJ,8OAAC,GAAG;oCAAC,KAAK,CAAC,CAAC;wCAAEZ,OAAO,EAAE,MAAM;wCAAEC,UAAU,EAAE,QAAQ;wCAAEE,GAAG,EAAE;oCAAO,CAAC,CAAC;;;;;;;;;8CACjE,4PAAC,GAAG;wCAAC,KAAK,CAAC,CAAC;4CACVH,OAAO,EAAE,MAAM;4CACfC,UAAU,EAAE,QAAQ;4CACpBE,GAAG,EAAE,MAAM;4CACXL,OAAO,EAAE,UAAU;4CACnBT,UAAU,EAAE,2CAA2C;4CACvDiB,YAAY,EAAE;wCAChB,CAAC,CAAC;;;;;;;;;;4CACChC,IAAI,CAACuC,MAAM,iBACV,8OAAC,GAAG;gDACF,GAAG,CAAC,CAACvC,IAAI,CAACuC,MAAM,CAAC;gDACjB,GAAG,CAAC,CAACvC,IAAI,CAACwC,IAAI,CAAC;gDACf,KAAK,CAAC,CAAC;oDACLV,KAAK,EAAE,MAAM;oDACbL,MAAM,EAAE,MAAM;oDACdO,YAAY,EAAE,KAAK;oDACnBD,MAAM,EAAE;gDACV,CAAC,CAAC,GACF;;;;;;;;;;;;;yGAEF,8OAAC,GAAG;gDAAC,KAAK,CAAC,CAAC;oDACVD,KAAK,EAAE,MAAM;oDACbL,MAAM,EAAE,MAAM;oDACdO,YAAY,EAAE,KAAK;oDACnBjB,UAAU,EAAE,2CAA2C;oDACvDkB,KAAK,EAAE,OAAO;oDACdP,OAAO,EAAE,MAAM;oDACfC,UAAU,EAAE,QAAQ;oDACpBC,cAAc,EAAE,QAAQ;oDACxBM,QAAQ,EAAE,MAAM;oDAChBE,UAAU,EAAE;gDACd,CAAC,CAAC;;;;;;;;;0DACCpC,IAAI,CAACwC,IAAI,EAAEC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;;;;;;0DAGvC,8OAAC,GAAG,CAAC,SAAS;;;;;;;;2DAAC,gBAAgB;;kEAC7B,8OAAC,GAAG;wDAAC,KAAK,CAAC,CAAC;4DAAER,QAAQ,EAAE,MAAM;4DAAEE,UAAU,EAAE,KAAK;4DAAEH,KAAK,EAAE;wDAAO,CAAC,CAAC,CAAC;;;;;;;;;kEAACjC,IAAI,CAACwC,IAAI,CAAC,EAAE,GAAG;;;;;;kEACpF,8OAAC,GAAG;wDAAC,KAAK,CAAC,CAAC;4DACVN,QAAQ,EAAE,MAAM;4DAChBD,KAAK,EAAE,SAAS;4DAChBU,aAAa,EAAE,WAAW;4DAC1BL,aAAa,EAAE,OAAO;4DACtBF,UAAU,EAAE;wDACd,CAAC,CAAC;;;;;2FAtJuB,OAAO;;;;kEAuJ7BpC,IAAI,CAACM,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBASrBH,cAAc,kBACb,8OAAC,GAAG,CACF,SAAS;wBACT,OAAO,CAAC,CAAC,IAAMC,iBAAiB,CAAC,KAAK,CAAC,CAAC;wBACxC,KAAK,CAAC,CAAC;4BACLe,QAAQ,EAAE,OAAO;4BACjBC,GAAG,EAAE,MAAM;4BACXwB,IAAI,EAAE,CAAC;4BACPC,KAAK,EAAE,CAAC;4BACRC,MAAM,EAAE,CAAC;4BACT/B,UAAU,EAAE,oBAAoB;4BAChCM,MAAM,EAAE;wBACV,CAAC,CAAC,GAEL;;;;;;;;mCAZa,gBAAgB;;;;;;kCAc9B,8OAAC,GAAG,CAAC,SAAS;wBAA6B,KAAK,CAAC,CAAC;4BAChDC,QAAQ,EAAE,QAAQ;4BAClBC,MAAM,EAAE,QAAQ;4BAChBC,OAAO,EAAE,WAAW;4BACpBE,OAAO,EAAE,MAAM;4BACfG,GAAG,EAAE;wBACP,CAAC,CAAC;;;;;;;;mCANa,2BAA2B;;0CAQxC,8OAAC,GAAG,CAAC,SAAS;gCAAqB,KAAK,CAAC,CAAC;oCACxCC,KAAK,EAAE,OAAO;oCACdiB,UAAU,EAAE;gCACd,CAAC,CAAC;;;;;;;;2CAHa,mBAAmB;wDAIhC,8OAAC,GAAG;oCAAC,KAAK,CAAC,CAAC;wCACVhC,UAAU,EAAE,OAAO;wCACnBiB,YAAY,EAAE,MAAM;wCACpBR,OAAO,EAAE,MAAM;wCACfN,SAAS,EAAE,sCAAsC;wCACjDa,MAAM,EAAE,mBAAmB;wCAC3BZ,QAAQ,EAAE,QAAQ;wCAClBC,GAAG,EAAE;oCACP,CAAC,CAAC;;;;;;;;;;sDACA,8OAAC,GAAG;4CAAC,KAAK,CAAC,CAAC;gDACVc,QAAQ,EAAE,MAAM;gDAChBE,UAAU,EAAE,KAAK;gDACjBH,KAAK,EAAE,MAAM;gDACbU,aAAa,EAAE,WAAW;gDAC1BL,aAAa,EAAE,KAAK;gDACpBU,YAAY,EAAE,MAAM;gDACpBxB,OAAO,EAAE;4CACX,CAAC,CAAC;;;;;;;;;sDAAA;;;;;;wCAGDjB,SAAS,CAAC0C,GAAG,CAAC,CAACpC,IAAI,EAAEqC,KAAK,KAAK;4CAC9B,MAAMC,QAAQ,GAAGlD,QAAQ,KAAKY,IAAI,CAACH,IAAI;4CACvC,qBACE,8OAAC,uKAAI,CACH,GAAG,CAAC;gDACJ,IAAI,CAAC,CAACG,IAAI,CAACH,IAAI,CAAC;gDAChB,OAAO,CAAC,CAAC,IAAMN,iBAAiB,CAAC,KAAK,CAAC,CAAC;gDACxC,KAAK,CAAC,CAAC;oDACLsB,OAAO,EAAE,MAAM;oDACfC,UAAU,EAAE,QAAQ;oDACpBE,GAAG,EAAE,MAAM;oDACXL,OAAO,EAAE,MAAM;oDACfwB,YAAY,EAAE,KAAK;oDACnBhB,YAAY,EAAE,KAAK;oDACnBK,cAAc,EAAE,MAAM;oDACtBJ,KAAK,EAAEkB,QAAQ,GAAG,SAAS,GAAG,MAAM;oDACpCpC,UAAU,EAAEoC,QAAQ,GAAG,8EAA8E,GAAG,aAAa;oDACrHf,UAAU,EAAEe,QAAQ,GAAG,KAAK,GAAG,KAAK;oDACpCjB,QAAQ,EAAE,MAAM;oDAChBkB,UAAU,EAAE,eAAe;oDAC3BrB,MAAM,EAAEoB,QAAQ,GAAG,oCAAoC,GAAG;gDAC5D,CAAC,CAAC;gDACF,YAAY,CAAC,EAAEE,CAAC,IAAK;oDACnB,IAAI,CAACF,QAAQ,EAAE;wDACbE,CAAC,CAACC,aAAa,CAACC,KAAK,CAACxC,UAAU,GAAG,2BAA2B;wDAC9DsC,CAAC,CAACC,aAAa,CAACC,KAAK,CAACC,SAAS,GAAG,iBAAiB;oDACrD;gDACF,CAAC,CAAC;gDACF,YAAY,CAAC,CAAEH,CAAC,IAAK;oDACnB,IAAI,CAACF,QAAQ,EAAE;wDACbE,CAAC,CAACC,aAAa,CAACC,KAAK,CAACxC,UAAU,GAAG,aAAa;wDAChDsC,CAAC,CAACC,aAAa,CAACC,KAAK,CAACC,SAAS,GAAG,eAAe;oDACnD;gDACF,CAAC,CAAC;;kEAEF,8OAAC,CAAC,CAAC,SAAS,CAAC;wDAAY,KAAK,CAAC,CAAC;4DAC9B1B,KAAK,EAAE,MAAM;4DACb2B,SAAS,EAAE,QAAQ;4DACnBvB,QAAQ,EAAE;wDACZ,CAAC,CAAC,CAAC,EAAE,CAAC;;;;;;;;oEAJQrB,IAAI,CAACL,IAAI,CAAC;;;;;;kEAKxB,8OAAC,IAAI,CAAC;;;;;;;;;kEAACK,IAAI,CAACJ,KAAK,CAAC,EAAE,IAAI;;;;;;;+CApCnByC,KAAK,CAAC;;;;;wCAuCjB,CAAC,CAAC;;;;;;;;;;;;0CAKN,8OAAC,GAAG,CAAC,SAAS;gCAAqB,KAAK,CAAC,CAAC;oCAAEQ,IAAI,EAAE,CAAC;oCAAEC,QAAQ,EAAE;gCAAE,CAAC,CAAC;;;;;;;;2CAApD,mBAAmB;;kDAChC,8OAAC,GAAG;wCAAC,KAAK,CAAC,CAAC;4CAAEX,YAAY,EAAE;wCAAO,CAAC,CAAC;;;;;;;;;;0DACnC,8OAAC,EAAE,CAAC,SAAS;gDAAmB,KAAK,CAAC,CAAC;oDACrCd,QAAQ,EAAE,MAAM;oDAChBE,UAAU,EAAE,KAAK;oDACjBH,KAAK,EAAE,MAAM;oDACbV,MAAM,EAAE,WAAW;oDACnBP,UAAU,EAAE;gDACd,CAAC,CAAC;;;;;;;;2DANY,iBAAiB;0DAO5BpB,KAAK;;;;;;4CAEPC,WAAW,kBACV,8OAAC,CAAC;gDAAC,KAAK,CAAC,CAAC;oDAAEqC,QAAQ,EAAE,MAAM;oDAAED,KAAK,EAAE,MAAM;oDAAEV,MAAM,EAAE;gDAAE,CAAC,CAAC;;;;;6EA5QpC,GAAG;;;;0DA6QrB1B,WAAW;;;;;;;;;;;;oCAIjBH,QAAQ;;;;;;;;;;;;;;;;;;;;;AAMrB,CAAC;uCAEcI,eAAe","ignoreList":[],"debugId":null}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/ProductImageManager.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef } from 'react';\n\ninterface ProductImage {\n  id: string;\n  url: string;\n  cloudflare_image_id: string;\n  is_primary: boolean;\n  display_order: number;\n}\n\ninterface ProductImageManagerProps {\n  productId: string;\n  images: ProductImage[];\n  onImagesChange?: () => void;\n}\n\nexport default function ProductImageManager({\n  productId,\n  images: initialImages,\n  onImagesChange,\n}: ProductImageManagerProps) {\n  const [images, setImages] = useState<ProductImage[]>(initialImages || []);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState<string>('');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (!files || files.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress('Uploading images to Cloudflare R2...');\n\n    try {\n      const formData = new FormData();\n      formData.append('productId', productId);\n      formData.append('isPrimary', images.length === 0 ? 'true' : 'false');\n\n      Array.from(files).forEach((file) => {\n        formData.append('images', file);\n      });\n\n      const response = await fetch('/api/products/images/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        const successCount = data.results.filter((r: any) => r.success).length;\n        setUploadProgress(`Successfully uploaded ${successCount} image(s) to Cloudflare R2!`);\n\n        const newImages = data.results\n          .filter((r: any) => r.success)\n          .map((r: any) => ({\n            id: r.imageId,\n            url: r.url,\n            cloudflare_image_id: r.cloudflareImageId,\n            is_primary: r.isPrimary,\n            display_order: images.length + data.results.indexOf(r),\n          }));\n\n        setImages([...images, ...newImages]);\n        onImagesChange?.();\n\n        setTimeout(() => setUploadProgress(''), 3000);\n      } else {\n        setUploadProgress(`Error: ${data.error}`);\n      }\n    } catch (error: any) {\n      console.error('Upload error:', error);\n      setUploadProgress(`Error: ${error.message}`);\n    } finally {\n      setUploading(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleDeleteImage = async (imageId: string) => {\n    if (!confirm('Are you sure you want to delete this image? It will also be removed from Cloudflare R2.')) return;\n\n    try {\n      const response = await fetch(`/api/products/images/${imageId}`, {\n        method: 'DELETE',\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setImages(images.filter((img) => img.id !== imageId));\n        onImagesChange?.();\n      } else {\n        alert(`Error: ${data.error}`);\n      }\n    } catch (error: any) {\n      console.error('Delete error:', error);\n      alert(`Error: ${error.message}`);\n    }\n  };\n\n  const handleSetPrimary = async (imageId: string) => {\n    try {\n      const response = await fetch(`/api/products/images/${imageId}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ isPrimary: true }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setImages(\n          images.map((img) => ({\n            ...img,\n            is_primary: img.id === imageId,\n          }))\n        );\n        onImagesChange?.();\n      } else {\n        alert(`Error: ${data.error}`);\n      }\n    } catch (error: any) {\n      console.error('Set primary error:', error);\n      alert(`Error: ${error.message}`);\n    }\n  };\n\n  return (\n    <>\n      <style jsx>{`\n        @media (max-width: 768px) {\n          .image-grid {\n            grid-template-columns: repeat(2, 1fr) !important;\n          }\n          .image-header {\n            flex-direction: column !important;\n            align-items: stretch !important;\n            gap: 12px !important;\n          }\n          .image-header button {\n            width: 100% !important;\n          }\n        }\n      `}</style>\n      <div>\n      <div className=\"image-header\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '20px' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n          <i className=\"fas fa-images\" style={{ fontSize: '20px', color: '#c19a6b' }}></i>\n          <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#333', margin: 0 }}>\n            Product Images\n          </h3>\n        </div>\n        <button\n          onClick={() => fileInputRef.current?.click()}\n          disabled={uploading}\n          style={{\n            padding: '10px 20px',\n            background: uploading ? '#999' : 'linear-gradient(135deg, #c19a6b, #a67c52)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            cursor: uploading ? 'not-allowed' : 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            transition: 'all 0.2s ease',\n            boxShadow: '0 2px 8px rgba(193, 154, 107, 0.2)'\n          }}\n        >\n          {uploading ? (\n            <>\n              <div style={{\n                width: '16px',\n                height: '16px',\n                border: '2px solid #ffffff',\n                borderTop: '2px solid transparent',\n                borderRadius: '50%',\n                animation: 'spin 0.8s linear infinite'\n              }}></div>\n              Uploading...\n            </>\n          ) : (\n            <>\n              <i className=\"fas fa-cloud-upload-alt\"></i>\n              Upload Images\n            </>\n          )}\n        </button>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          accept=\"image/*\"\n          onChange={handleFileSelect}\n          style={{ display: 'none' }}\n        />\n      </div>\n\n      {uploadProgress && (\n        <div style={{\n          padding: '16px 20px',\n          marginBottom: '20px',\n          borderRadius: '8px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px',\n          background: uploadProgress.startsWith('Error') ? 'rgba(239, 68, 68, 0.1)' : 'rgba(34, 197, 94, 0.1)',\n          border: uploadProgress.startsWith('Error') ? '1px solid rgba(239, 68, 68, 0.3)' : '1px solid rgba(34, 197, 94, 0.3)'\n        }}>\n          <i className={uploadProgress.startsWith('Error') ? 'fas fa-exclamation-circle' : 'fas fa-check-circle'}\n             style={{\n               fontSize: '20px',\n               color: uploadProgress.startsWith('Error') ? '#ef4444' : '#16a34a'\n             }}></i>\n          <p style={{\n            color: uploadProgress.startsWith('Error') ? '#ef4444' : '#16a34a',\n            fontSize: '14px',\n            fontWeight: '600',\n            margin: 0\n          }}>\n            {uploadProgress}\n          </p>\n        </div>\n      )}\n\n      {images.length === 0 ? (\n        <div style={{\n          border: '2px dashed #e8d5c4',\n          borderRadius: '12px',\n          padding: '64px 32px',\n          textAlign: 'center',\n          background: 'rgba(193, 154, 107, 0.02)'\n        }}>\n          <i className=\"fas fa-cloud-upload-alt\" style={{ fontSize: '64px', color: '#e8d5c4', marginBottom: '16px' }}></i>\n          <h4 style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '8px' }}>\n            No images uploaded yet\n          </h4>\n          <p style={{ fontSize: '14px', color: '#666', marginBottom: '20px' }}>\n            Upload your first product image to Cloudflare R2\n          </p>\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            style={{\n              padding: '10px 24px',\n              background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}\n          >\n            <i className=\"fas fa-plus\"></i>\n            Upload Images\n          </button>\n        </div>\n      ) : (\n        <>\n          <div className=\"image-grid\" style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n            gap: '16px',\n            marginBottom: '16px'\n          }}>\n            {images.map((image) => (\n              <div\n                key={image.id}\n                style={{\n                  position: 'relative',\n                  borderRadius: '12px',\n                  overflow: 'hidden',\n                  border: '2px solid #e8d5c4',\n                  transition: 'all 0.2s ease',\n                  background: 'white'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.borderColor = '#c19a6b';\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                  e.currentTarget.style.boxShadow = '0 8px 16px rgba(193, 154, 107, 0.15)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.borderColor = '#e8d5c4';\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = 'none';\n                }}\n              >\n                <div style={{\n                  position: 'relative',\n                  paddingTop: '100%',\n                  background: 'linear-gradient(135deg, #f8f4f0, #efe9e3)'\n                }}>\n                  <img\n                    src={image.url}\n                    alt=\"Product\"\n                    style={{\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      width: '100%',\n                      height: '100%',\n                      objectFit: 'cover'\n                    }}\n                  />\n                  {image.is_primary && (\n                    <div style={{\n                      position: 'absolute',\n                      top: '8px',\n                      left: '8px',\n                      padding: '4px 10px',\n                      background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n                      color: 'white',\n                      borderRadius: '6px',\n                      fontSize: '11px',\n                      fontWeight: '700',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px',\n                      boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)'\n                    }}>\n                      <i className=\"fas fa-star\" style={{ marginRight: '4px' }}></i>\n                      Primary\n                    </div>\n                  )}\n\n                  {/* Hover Overlay */}\n                  <div\n                    style={{\n                      position: 'absolute',\n                      inset: 0,\n                      background: 'rgba(0, 0, 0, 0.7)',\n                      opacity: 0,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      gap: '8px',\n                      transition: 'opacity 0.2s ease'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.opacity = '1';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.opacity = '0';\n                    }}\n                  >\n                    {!image.is_primary && (\n                      <button\n                        onClick={() => handleSetPrimary(image.id)}\n                        style={{\n                          padding: '8px 14px',\n                          background: 'white',\n                          color: '#333',\n                          border: 'none',\n                          borderRadius: '6px',\n                          fontSize: '12px',\n                          fontWeight: '600',\n                          cursor: 'pointer',\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '6px'\n                        }}\n                      >\n                        <i className=\"fas fa-star\"></i>\n                        Set Primary\n                      </button>\n                    )}\n                    <button\n                      onClick={() => handleDeleteImage(image.id)}\n                      style={{\n                        padding: '8px 14px',\n                        background: '#ef4444',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '6px',\n                        fontSize: '12px',\n                        fontWeight: '600',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '6px'\n                      }}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div style={{\n            padding: '12px 16px',\n            background: 'rgba(193, 154, 107, 0.05)',\n            borderRadius: '8px',\n            border: '1px solid #e8d5c4'\n          }}>\n            <p style={{ fontSize: '13px', color: '#666', margin: 0, lineHeight: '1.5' }}>\n              <i className=\"fas fa-info-circle\" style={{ marginRight: '8px', color: '#c19a6b' }}></i>\n              <strong>{images.length}</strong> image(s) stored in Cloudflare R2.\n              The primary image will be displayed in product listings and can be marked with the star icon.\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n    </>\n  );\n}\n"],"names":["React","useState","useRef","ProductImage","id","url","cloudflare_image_id","is_primary","display_order","ProductImageManagerProps","productId","images","onImagesChange","ProductImageManager","initialImages","setImages","uploading","setUploading","uploadProgress","setUploadProgress","fileInputRef","HTMLInputElement","handleFileSelect","event","ChangeEvent","files","target","length","formData","FormData","append","Array","from","forEach","file","response","fetch","method","body","data","json","success","successCount","results","filter","r","newImages","map","imageId","cloudflareImageId","isPrimary","indexOf","setTimeout","error","console","message","current","value","handleDeleteImage","confirm","img","alert","handleSetPrimary","headers","JSON","stringify","display","alignItems","justifyContent","marginBottom","gap","fontSize","color","fontWeight","margin","click","padding","background","border","borderRadius","cursor","transition","boxShadow","width","height","borderTop","animation","startsWith","textAlign","gridTemplateColumns","image","position","overflow","e","currentTarget","style","borderColor","transform","paddingTop","top","left","objectFit","textTransform","letterSpacing","marginRight","inset","opacity","lineHeight"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/products/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport DashboardLayout from '@/components/DashboardLayout';\nimport ProductImageManager from '@/components/ProductImageManager';\n\ninterface ProductImage {\n  id: string;\n  url: string;\n  cloudflare_image_id: string;\n  is_primary: boolean;\n  display_order: number;\n}\n\ninterface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  category?: string;\n  stock_quantity?: number;\n  images: ProductImage[];\n  primary_image?: string;\n}\n\nexport default function EditProductPage({ params }: { params: Promise<{ id: string }> }) {\n  const router = useRouter();\n  const { user } = useAuth();\n  const [product, setProduct] = useState<Product | null>(null);\n  const [loadingProduct, setLoadingProduct] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [productId, setProductId] = useState<string | null>(null);\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    stock_quantity: '',\n  });\n\n  useEffect(() => {\n    params.then((p) => setProductId(p.id));\n  }, []);\n\n  useEffect(() => {\n    if (!user) {\n      router.push('/auth?redirect=/dashboard/products');\n      return;\n    }\n\n    if (user.role !== 'admin') {\n      router.push('/dashboard');\n      return;\n    }\n\n    if (productId) {\n      loadProduct();\n    }\n  }, [user, productId]);\n\n  const loadProduct = async () => {\n    if (!productId) return;\n\n    try {\n      setLoadingProduct(true);\n      const response = await fetch(`/api/products/${productId}`);\n      const data = await response.json();\n\n      if (data.success) {\n        setProduct(data.data);\n        setFormData({\n          name: data.data.name,\n          description: data.data.description,\n          price: data.data.price.toString(),\n          category: data.data.category || '',\n          stock_quantity: data.data.stock_quantity?.toString() || '0',\n        });\n      } else {\n        setError(data.error || 'Failed to load product');\n      }\n    } catch (err: any) {\n      console.error('Error loading product:', err);\n      setError(err.message || 'Failed to load product');\n    } finally {\n      setLoadingProduct(false);\n    }\n  };\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>\n  ) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!productId) return;\n\n    setSaving(true);\n    setError(null);\n    setSuccessMessage(null);\n\n    try {\n      const response = await fetch(`/api/products/${productId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name: formData.name,\n          description: formData.description,\n          price: parseFloat(formData.price),\n          category: formData.category,\n          stock_quantity: parseInt(formData.stock_quantity) || 0,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccessMessage('Product updated successfully!');\n        loadProduct();\n        setTimeout(() => setSuccessMessage(null), 3000);\n      } else {\n        setError(data.error || 'Failed to update product');\n      }\n    } catch (err: any) {\n      console.error('Error updating product:', err);\n      setError(err.message || 'Failed to update product');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!productId) return;\n\n    if (!confirm('Are you sure you want to delete this product? This action cannot be undone.')) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/products/${productId}`, {\n        method: 'DELETE',\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccessMessage('Product deleted successfully');\n        setTimeout(() => {\n          router.push('/dashboard/products');\n        }, 1000);\n      } else {\n        setError(data.error || 'Failed to delete product');\n      }\n    } catch (err: any) {\n      console.error('Error deleting product:', err);\n      setError(err.message || 'Failed to delete product');\n    }\n  };\n\n  if (!user || loadingProduct) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #f8f4f0 0%, #efe9e3 100%)'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <style jsx>{`\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          `}</style>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading product...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error && !product) {\n    return (\n      <DashboardLayout title=\"Error\" description=\"Failed to load product\">\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px 32px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <i className=\"fas fa-exclamation-circle\" style={{ fontSize: '64px', color: '#ef4444', marginBottom: '16px' }}></i>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#333', marginBottom: '8px' }}>\n            Error Loading Product\n          </h3>\n          <p style={{ color: '#666', fontSize: '14px', marginBottom: '24px' }}>\n            {error}\n          </p>\n          <button\n            onClick={() => router.push('/dashboard/products')}\n            style={{\n              padding: '10px 24px',\n              background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: '600',\n              cursor: 'pointer'\n            }}\n          >\n            Back to Products\n          </button>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <>\n      <style jsx>{`\n        @media (max-width: 768px) {\n          .product-form-grid {\n            grid-template-columns: 1fr !important;\n          }\n          .action-bar {\n            flex-direction: column !important;\n            gap: 12px !important;\n          }\n          .action-bar button {\n            width: 100% !important;\n          }\n        }\n      `}</style>\n      <DashboardLayout\n        title={`Edit Product${product ? `: ${product.name}` : ''}`}\n        description=\"Update product details, manage images, and configure settings.\"\n      >\n      {/* Action Bar */}\n      <div className=\"action-bar\" style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '16px 20px',\n        marginBottom: '24px',\n        boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n        border: '1px solid #e8d5c4',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      }}>\n        <button\n          onClick={() => router.push('/dashboard/products')}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '8px 16px',\n            background: 'transparent',\n            color: '#666',\n            border: 'none',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.background = 'rgba(193, 154, 107, 0.05)';\n            e.currentTarget.style.color = '#c19a6b';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = 'transparent';\n            e.currentTarget.style.color = '#666';\n          }}\n        >\n          <i className=\"fas fa-arrow-left\"></i>\n          Back to Products\n        </button>\n\n        <button\n          onClick={handleDelete}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '8px 16px',\n            background: 'transparent',\n            color: '#ef4444',\n            border: '1px solid #fecaca',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.background = '#ef4444';\n            e.currentTarget.style.color = 'white';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = 'transparent';\n            e.currentTarget.style.color = '#ef4444';\n          }}\n        >\n          <i className=\"fas fa-trash\"></i>\n          Delete Product\n        </button>\n      </div>\n\n      {/* Messages */}\n      {successMessage && (\n        <div style={{\n          background: 'rgba(34, 197, 94, 0.1)',\n          border: '1px solid rgba(34, 197, 94, 0.3)',\n          borderRadius: '12px',\n          padding: '16px 20px',\n          marginBottom: '24px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        }}>\n          <i className=\"fas fa-check-circle\" style={{ fontSize: '20px', color: '#16a34a' }}></i>\n          <p style={{ color: '#16a34a', fontSize: '14px', fontWeight: '600', margin: 0 }}>\n            {successMessage}\n          </p>\n        </div>\n      )}\n\n      {error && product && (\n        <div style={{\n          background: 'rgba(239, 68, 68, 0.1)',\n          border: '1px solid rgba(239, 68, 68, 0.3)',\n          borderRadius: '12px',\n          padding: '16px 20px',\n          marginBottom: '24px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        }}>\n          <i className=\"fas fa-exclamation-circle\" style={{ fontSize: '20px', color: '#ef4444' }}></i>\n          <p style={{ color: '#ef4444', fontSize: '14px', fontWeight: '600', margin: 0 }}>\n            {error}\n          </p>\n        </div>\n      )}\n\n      {/* Product Details Form */}\n      <div style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '24px',\n        marginBottom: '24px',\n        boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n        border: '1px solid #e8d5c4'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '24px' }}>\n          <i className=\"fas fa-edit\" style={{ fontSize: '20px', color: '#c19a6b' }}></i>\n          <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#333', margin: 0 }}>\n            Product Details\n          </h3>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>\n            {/* Product Name */}\n            <div>\n              <label style={{\n                display: 'block',\n                fontSize: '13px',\n                fontWeight: '600',\n                color: '#666',\n                marginBottom: '8px'\n              }}>\n                Product Name *\n              </label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                required\n                style={{\n                  width: '100%',\n                  padding: '10px 14px',\n                  border: '1px solid #e8d5c4',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  outline: 'none'\n                }}\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label style={{\n                display: 'block',\n                fontSize: '13px',\n                fontWeight: '600',\n                color: '#666',\n                marginBottom: '8px'\n              }}>\n                Description *\n              </label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                required\n                rows={4}\n                style={{\n                  width: '100%',\n                  padding: '10px 14px',\n                  border: '1px solid #e8d5c4',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  outline: 'none',\n                  fontFamily: 'inherit',\n                  resize: 'vertical'\n                }}\n              />\n            </div>\n\n            {/* Price and Stock */}\n            <div className=\"product-form-grid\" style={{\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr 1fr',\n              gap: '20px'\n            }}>\n              <div>\n                <label style={{\n                  display: 'block',\n                  fontSize: '13px',\n                  fontWeight: '600',\n                  color: '#666',\n                  marginBottom: '8px'\n                }}>\n                  Price (‚Çπ) *\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"price\"\n                  value={formData.price}\n                  onChange={handleInputChange}\n                  required\n                  min=\"0\"\n                  step=\"0.01\"\n                  style={{\n                    width: '100%',\n                    padding: '10px 14px',\n                    border: '1px solid #e8d5c4',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    outline: 'none'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{\n                  display: 'block',\n                  fontSize: '13px',\n                  fontWeight: '600',\n                  color: '#666',\n                  marginBottom: '8px'\n                }}>\n                  Stock Quantity\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"stock_quantity\"\n                  value={formData.stock_quantity}\n                  onChange={handleInputChange}\n                  min=\"0\"\n                  style={{\n                    width: '100%',\n                    padding: '10px 14px',\n                    border: '1px solid #e8d5c4',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    outline: 'none'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{\n                  display: 'block',\n                  fontSize: '13px',\n                  fontWeight: '600',\n                  color: '#666',\n                  marginBottom: '8px'\n                }}>\n                  Category\n                </label>\n                <select\n                  name=\"category\"\n                  value={formData.category}\n                  onChange={handleInputChange}\n                  style={{\n                    width: '100%',\n                    padding: '10px 14px',\n                    border: '1px solid #e8d5c4',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    outline: 'none',\n                    cursor: 'pointer',\n                    background: 'white'\n                  }}\n                >\n                  <option value=\"\">Select category</option>\n                  <option value=\"Living Room\">Living Room</option>\n                  <option value=\"Dining Room\">Dining Room</option>\n                  <option value=\"Bedroom\">Bedroom</option>\n                  <option value=\"Office\">Office</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <div style={{ display: 'flex', justifyContent: 'flex-end', paddingTop: '12px' }}>\n              <button\n                type=\"submit\"\n                disabled={saving}\n                style={{\n                  padding: '10px 32px',\n                  background: saving ? '#999' : 'linear-gradient(135deg, #c19a6b, #a67c52)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  cursor: saving ? 'not-allowed' : 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  transition: 'all 0.2s ease',\n                  boxShadow: '0 2px 8px rgba(193, 154, 107, 0.2)'\n                }}\n              >\n                {saving ? (\n                  <>\n                    <div style={{\n                      width: '16px',\n                      height: '16px',\n                      border: '2px solid #ffffff',\n                      borderTop: '2px solid transparent',\n                      borderRadius: '50%',\n                      animation: 'spin 0.8s linear infinite'\n                    }}></div>\n                    Saving...\n                  </>\n                ) : (\n                  <>\n                    <i className=\"fas fa-save\"></i>\n                    Save Changes\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n      {/* Product Images */}\n      {product && (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <ProductImageManager\n            productId={product.id}\n            images={product.images}\n            onImagesChange={loadProduct}\n          />\n        </div>\n      )}\n    </DashboardLayout>\n    </>\n  );\n}\n"],"names":["React","useState","useEffect","useRouter","useAuth","DashboardLayout","ProductImageManager","ProductImage","id","url","cloudflare_image_id","is_primary","display_order","Product","name","description","price","category","stock_quantity","images","primary_image","EditProductPage","params","Promise","router","user","product","setProduct","loadingProduct","setLoadingProduct","saving","setSaving","error","setError","successMessage","setSuccessMessage","productId","setProductId","formData","setFormData","then","p","push","role","loadProduct","response","fetch","data","json","success","toString","err","console","message","handleInputChange","e","ChangeEvent","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","target","value","handleSubmit","FormEvent","preventDefault","method","headers","body","JSON","stringify","parseFloat","parseInt","setTimeout","handleDelete","confirm","minHeight","display","alignItems","justifyContent","background","textAlign","width","height","border","borderTop","borderRadius","animation","margin","marginTop","color","fontSize","padding","boxShadow","marginBottom","fontWeight","cursor","gap","transition","currentTarget","style","flexDirection","outline","fontFamily","resize","gridTemplateColumns","paddingTop"],"mappings":"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","ignoreList":[],"debugId":null}}]
}