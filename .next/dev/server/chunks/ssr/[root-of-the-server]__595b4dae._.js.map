{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/orders/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/orders/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/orders/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/orders/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/orders/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/orders/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/orders/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport DashboardLayout from '@/components/DashboardLayout';\n\nconst DashboardOrdersPage = () => {\n  const router = useRouter();\n  const { user } = useAuth();\n  const [orders, setOrders] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n\n  useEffect(() => {\n    if (!user) {\n      router.push('/auth?redirect=/dashboard/orders');\n      return;\n    }\n\n    if (user.role !== 'admin' && user.role !== 'moderator') {\n      router.push('/dashboard');\n      return;\n    }\n\n    fetchOrders();\n  }, [user]);\n\n  const fetchOrders = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/orders');\n      const data = await response.json();\n      if (data.success) {\n        setOrders(Array.isArray(data.data) ? data.data : []);\n      } else {\n        setOrders([]);\n      }\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      setOrders([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!user || loading) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #f8f4f0 0%, #efe9e3 100%)'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <style jsx>{`\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          `}</style>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading orders...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const filteredOrders = statusFilter === 'all'\n    ? orders\n    : orders.filter(order => order.status === statusFilter);\n\n  return (\n    <>\n      <style jsx>{`\n        @media (max-width: 768px) {\n          .orders-filter-bar {\n            flex-direction: column !important;\n            align-items: stretch !important;\n          }\n          .orders-filter-bar button {\n            width: 100% !important;\n          }\n          .order-card-content {\n            flex-direction: column !important;\n            gap: 16px !important;\n          }\n          .order-card-right {\n            text-align: left !important;\n          }\n        }\n      `}</style>\n      <DashboardLayout\n      title=\"Order Management\"\n      description=\"View and manage customer orders, track shipping, and update order status.\"\n    >\n      {/* Filters */}\n      <div style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '20px',\n        marginBottom: '24px',\n        boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n        border: '1px solid #e8d5c4'\n      }}>\n        <div className=\"orders-filter-bar\" style={{ display: 'flex', gap: '16px', alignItems: 'center', flexWrap: 'wrap' }}>\n          <label style={{\n            fontSize: '13px',\n            fontWeight: '600',\n            color: '#666'\n          }}>\n            Filter by Status:\n          </label>\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            style={{\n              padding: '8px 14px',\n              border: '1px solid #e8d5c4',\n              borderRadius: '8px',\n              fontSize: '14px',\n              outline: 'none',\n              cursor: 'pointer'\n            }}\n          >\n            <option value=\"all\">All Orders</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"processing\">Processing</option>\n            <option value=\"shipped\">Shipped</option>\n            <option value=\"delivered\">Delivered</option>\n            <option value=\"cancelled\">Cancelled</option>\n          </select>\n          <div style={{ flex: 1 }}></div>\n          <button\n            onClick={fetchOrders}\n            style={{\n              padding: '8px 20px',\n              background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}\n          >\n            <i className=\"fas fa-sync-alt\"></i>\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Orders List */}\n      {loading ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading orders...</p>\n        </div>\n      ) : filteredOrders.length === 0 ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px 32px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <i className=\"fas fa-shopping-bag\" style={{ fontSize: '64px', color: '#e8d5c4', marginBottom: '16px' }}></i>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#333', marginBottom: '8px' }}>\n            No Orders Found\n          </h3>\n          <p style={{ color: '#666', fontSize: '14px' }}>\n            {statusFilter === 'all' ? 'No orders have been placed yet.' : `No ${statusFilter} orders found.`}\n          </p>\n        </div>\n      ) : (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          overflow: 'hidden',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          {filteredOrders.map((order: any, index: number) => (\n            <div\n              key={order.id}\n              style={{\n                padding: '20px',\n                borderBottom: index < filteredOrders.length - 1 ? '1px solid #f0f0f0' : 'none',\n                cursor: 'pointer',\n                transition: 'background 0.2s ease'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.background = 'rgba(193, 154, 107, 0.02)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.background = 'transparent';\n              }}\n              onClick={() => router.push(`/dashboard/orders/${order.id}`)}\n            >\n              <div className=\"order-card-content\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\n                <div>\n                  <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '8px' }}>\n                    Order #{order.id?.slice(0, 8)}\n                  </h3>\n                  <p style={{ fontSize: '13px', color: '#666', marginBottom: '4px' }}>\n                    Customer: {order.user_email || 'N/A'}\n                  </p>\n                  <p style={{ fontSize: '13px', color: '#666' }}>\n                    Date: {new Date(order.created_at).toLocaleDateString()}\n                  </p>\n                </div>\n                <div className=\"order-card-right\" style={{ textAlign: 'right' }}>\n                  <div style={{\n                    display: 'inline-block',\n                    padding: '6px 12px',\n                    background: order.status === 'delivered' ? 'rgba(34, 197, 94, 0.1)' :\n                               order.status === 'shipped' ? 'rgba(59, 130, 246, 0.1)' :\n                               order.status === 'processing' ? 'rgba(245, 158, 11, 0.1)' :\n                               order.status === 'cancelled' ? 'rgba(239, 68, 68, 0.1)' :\n                               'rgba(156, 163, 175, 0.1)',\n                    color: order.status === 'delivered' ? '#16a34a' :\n                           order.status === 'shipped' ? '#3b82f6' :\n                           order.status === 'processing' ? '#f59e0b' :\n                           order.status === 'cancelled' ? '#ef4444' :\n                           '#6b7280',\n                    borderRadius: '6px',\n                    fontSize: '12px',\n                    fontWeight: '600',\n                    textTransform: 'uppercase',\n                    marginBottom: '8px'\n                  }}>\n                    {order.status || 'Pending'}\n                  </div>\n                  <div style={{ fontSize: '18px', fontWeight: '700', color: '#c19a6b' }}>\n                    â‚¹{order.total?.toLocaleString() || '0'}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </DashboardLayout>\n    </>\n  );\n};\n\nexport default DashboardOrdersPage;\n"],"names":["React","useState","useEffect","useAuth","useRouter","DashboardLayout","DashboardOrdersPage","router","user","orders","setOrders","loading","setLoading","statusFilter","setStatusFilter","push","role","fetchOrders","response","fetch","data","json","success","Array","isArray","error","console","minHeight","display","alignItems","justifyContent","background","textAlign","width","height","border","borderTop","borderRadius","animation","margin","marginTop","color","fontSize","filteredOrders","filter","order","status","padding","marginBottom","boxShadow","gap","flexWrap","fontWeight","e","target","value","outline","cursor","flex","length","overflow","map","index","id","borderBottom","transition","currentTarget","style","slice","user_email","Date","created_at","toLocaleDateString","textTransform","total","toLocaleString"],"mappings":"","ignoreList":[],"debugId":null}}]
}