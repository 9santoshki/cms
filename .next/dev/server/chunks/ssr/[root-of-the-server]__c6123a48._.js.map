{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/users/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/users/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/users/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/users/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/users/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/users/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/dashboard/users/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport DashboardLayout from '@/components/DashboardLayout';\n\nconst DashboardUsersPage = () => {\n  const router = useRouter();\n  const { user } = useAuth();\n  const [users, setUsers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [roleFilter, setRoleFilter] = useState<string>('all');\n  const [searchTerm, setSearchTerm] = useState<string>('');\n\n  useEffect(() => {\n    if (!user) {\n      router.push('/auth?redirect=/dashboard/users');\n      return;\n    }\n\n    if (user.role !== 'admin') {\n      router.push('/dashboard');\n      return;\n    }\n\n    fetchUsers();\n  }, [user]);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      // In a real implementation, this would call the API\n      // For now using mock data\n      const mockUsers = [\n        {\n          id: '1',\n          name: 'John Doe',\n          email: 'john@example.com',\n          role: 'customer',\n          created_at: '2023-11-01T10:00:00.000Z',\n          updated_at: '2023-11-01T10:00:00.000Z'\n        },\n        {\n          id: '2',\n          name: 'Jane Smith',\n          email: 'jane@example.com',\n          role: 'moderator',\n          created_at: '2023-11-02T11:00:00.000Z',\n          updated_at: '2023-11-15T14:30:00.000Z'\n        },\n        {\n          id: '3',\n          name: 'Robert Johnson',\n          email: 'robert@example.com',\n          role: 'admin',\n          created_at: '2023-11-03T12:00:00.000Z',\n          updated_at: '2023-11-20T09:15:00.000Z'\n        }\n      ];\n      setUsers(mockUsers);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateUserRole = async (userId: string, newRole: string) => {\n    try {\n      const response = await fetch('/api/admin/update-role', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userId, role: newRole })\n      });\n\n      if (response.ok) {\n        setUsers(prev =>\n          prev.map(u =>\n            u.id === userId ? { ...u, role: newRole, updated_at: new Date().toISOString() } : u\n          )\n        );\n      }\n    } catch (error) {\n      console.error('Error updating user role:', error);\n    }\n  };\n\n  if (!user || loading) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #f8f4f0 0%, #efe9e3 100%)'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <style jsx>{`\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          `}</style>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading users...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const filteredUsers = users.filter(u => {\n    const matchesRole = roleFilter === 'all' || u.role === roleFilter;\n    const matchesSearch = !searchTerm ||\n      u.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      u.email?.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesRole && matchesSearch;\n  });\n\n  return (\n    <>\n      <style jsx>{`\n        @media (max-width: 768px) {\n          .users-filter-grid {\n            grid-template-columns: 1fr !important;\n          }\n          .users-filter-grid button {\n            width: 100% !important;\n          }\n          .user-card-header {\n            flex-direction: column !important;\n            gap: 16px !important;\n          }\n          .user-role-badge {\n            text-align: left !important;\n          }\n          .user-controls {\n            flex-direction: column !important;\n            align-items: stretch !important;\n            margin-left: 0 !important;\n          }\n          .user-controls button {\n            width: 100% !important;\n          }\n        }\n      `}</style>\n      <DashboardLayout\n      title=\"User Management\"\n      description=\"Manage user accounts, update roles, and monitor user activity across the platform.\"\n    >\n      {/* Filters */}\n      <div style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '20px',\n        marginBottom: '24px',\n        boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n        border: '1px solid #e8d5c4'\n      }}>\n        <div className=\"users-filter-grid\" style={{\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr auto',\n          gap: '16px',\n          alignItems: 'end'\n        }}>\n          {/* Search */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '13px',\n              fontWeight: '600',\n              color: '#666',\n              marginBottom: '8px'\n            }}>\n              Search Users\n            </label>\n            <div style={{ position: 'relative' }}>\n              <i className=\"fas fa-search\" style={{\n                position: 'absolute',\n                left: '14px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                color: '#999',\n                fontSize: '14px'\n              }}></i>\n              <input\n                type=\"text\"\n                placeholder=\"Search by name or email...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                style={{\n                  width: '100%',\n                  padding: '10px 14px 10px 40px',\n                  border: '1px solid #e8d5c4',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  outline: 'none'\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Role Filter */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '13px',\n              fontWeight: '600',\n              color: '#666',\n              marginBottom: '8px'\n            }}>\n              Filter by Role\n            </label>\n            <select\n              value={roleFilter}\n              onChange={(e) => setRoleFilter(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '10px 14px',\n                border: '1px solid #e8d5c4',\n                borderRadius: '8px',\n                fontSize: '14px',\n                outline: 'none',\n                cursor: 'pointer',\n                background: 'white'\n              }}\n            >\n              <option value=\"all\">All Roles</option>\n              <option value=\"customer\">Customer</option>\n              <option value=\"moderator\">Moderator</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n\n          {/* Refresh Button */}\n          <button\n            onClick={fetchUsers}\n            style={{\n              padding: '10px 24px',\n              background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}\n          >\n            <i className=\"fas fa-sync-alt\"></i>\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Users List */}\n      {loading ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '3px solid #f0f0f0',\n            borderTop: '3px solid #c19a6b',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }}></div>\n          <p style={{ marginTop: '16px', color: '#666', fontSize: '14px' }}>Loading users...</p>\n        </div>\n      ) : filteredUsers.length === 0 ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '64px 32px',\n          textAlign: 'center',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          <i className=\"fas fa-users\" style={{ fontSize: '64px', color: '#e8d5c4', marginBottom: '16px' }}></i>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#333', marginBottom: '8px' }}>\n            No Users Found\n          </h3>\n          <p style={{ color: '#666', fontSize: '14px' }}>\n            {roleFilter === 'all' && !searchTerm\n              ? 'No users registered yet.'\n              : 'Try adjusting your filters or search term.'}\n          </p>\n        </div>\n      ) : (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          overflow: 'hidden',\n          boxShadow: '0 4px 12px rgba(193, 154, 107, 0.08)',\n          border: '1px solid #e8d5c4'\n        }}>\n          {filteredUsers.map((userItem: any, index: number) => (\n            <div\n              key={userItem.id}\n              style={{\n                padding: '20px',\n                borderBottom: index < filteredUsers.length - 1 ? '1px solid #f0f0f0' : 'none',\n                transition: 'background 0.2s ease'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.background = 'rgba(193, 154, 107, 0.02)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.background = 'transparent';\n              }}\n            >\n              <div className=\"user-card-header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '12px' }}>\n                <div style={{ flex: 1 }}>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #c19a6b, #a67c52)',\n                      color: 'white',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '16px',\n                      fontWeight: '600'\n                    }}>\n                      {userItem.name?.charAt(0).toUpperCase()}\n                    </div>\n                    <div>\n                      <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '2px' }}>\n                        {userItem.name}\n                      </h3>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <i className=\"fas fa-envelope\" style={{ fontSize: '11px', color: '#999' }}></i>\n                        <p style={{ fontSize: '13px', color: '#666' }}>\n                          {userItem.email}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  <div style={{ display: 'flex', gap: '16px', fontSize: '12px', color: '#999', marginLeft: '52px' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                      <i className=\"fas fa-calendar-plus\"></i>\n                      <span>Joined {new Date(userItem.created_at).toLocaleDateString('en-IN')}</span>\n                    </div>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                      <i className=\"fas fa-clock\"></i>\n                      <span>Updated {new Date(userItem.updated_at).toLocaleDateString('en-IN')}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"user-role-badge\" style={{ textAlign: 'right' }}>\n                  <div style={{\n                    display: 'inline-block',\n                    padding: '6px 12px',\n                    background: userItem.role === 'admin' ? 'rgba(139, 92, 246, 0.1)' :\n                               userItem.role === 'moderator' ? 'rgba(59, 130, 246, 0.1)' :\n                               userItem.role === 'customer' ? 'rgba(34, 197, 94, 0.1)' :\n                               'rgba(156, 163, 175, 0.1)',\n                    color: userItem.role === 'admin' ? '#8b5cf6' :\n                           userItem.role === 'moderator' ? '#3b82f6' :\n                           userItem.role === 'customer' ? '#22c55e' :\n                           '#6b7280',\n                    borderRadius: '6px',\n                    fontSize: '12px',\n                    fontWeight: '600',\n                    textTransform: 'uppercase'\n                  }}>\n                    {userItem.role}\n                  </div>\n                </div>\n              </div>\n\n              {/* Role update controls */}\n              <div className=\"user-controls\" style={{\n                display: 'flex',\n                gap: '12px',\n                alignItems: 'center',\n                paddingTop: '12px',\n                borderTop: '1px solid #f0f0f0',\n                marginLeft: '52px'\n              }}>\n                <label style={{\n                  fontSize: '13px',\n                  fontWeight: '600',\n                  color: '#666'\n                }}>\n                  Change Role:\n                </label>\n                <select\n                  value={userItem.role}\n                  onChange={(e) => updateUserRole(userItem.id, e.target.value)}\n                  style={{\n                    padding: '8px 14px',\n                    border: '1px solid #e8d5c4',\n                    borderRadius: '8px',\n                    fontSize: '13px',\n                    outline: 'none',\n                    cursor: 'pointer',\n                    background: 'white'\n                  }}\n                >\n                  <option value=\"customer\">Customer</option>\n                  <option value=\"moderator\">Moderator</option>\n                  <option value=\"admin\">Admin</option>\n                </select>\n                <button\n                  onClick={() => router.push(`/dashboard/users/${userItem.id}`)}\n                  style={{\n                    padding: '8px 16px',\n                    border: '1px solid #e8d5c4',\n                    borderRadius: '8px',\n                    fontSize: '13px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    background: 'white',\n                    color: '#c19a6b',\n                    transition: 'all 0.2s ease'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = '#c19a6b';\n                    e.currentTarget.style.color = 'white';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = 'white';\n                    e.currentTarget.style.color = '#c19a6b';\n                  }}\n                >\n                  View Details\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </DashboardLayout>\n    </>\n  );\n};\n\nexport default DashboardUsersPage;\n"],"names":["React","useState","useEffect","useAuth","useRouter","DashboardLayout","DashboardUsersPage","router","user","users","setUsers","loading","setLoading","roleFilter","setRoleFilter","searchTerm","setSearchTerm","push","role","fetchUsers","mockUsers","id","name","email","created_at","updated_at","error","console","updateUserRole","userId","newRole","response","fetch","method","headers","body","JSON","stringify","ok","prev","map","u","Date","toISOString","minHeight","display","alignItems","justifyContent","background","textAlign","width","height","border","borderTop","borderRadius","animation","margin","marginTop","color","fontSize","filteredUsers","filter","matchesRole","matchesSearch","toLowerCase","includes","padding","marginBottom","boxShadow","gridTemplateColumns","gap","fontWeight","position","left","top","transform","e","target","value","outline","cursor","length","overflow","userItem","index","borderBottom","transition","currentTarget","style","flex","charAt","toUpperCase","marginLeft","toLocaleDateString","textTransform","paddingTop"],"mappings":"","ignoreList":[],"debugId":null}}]
}