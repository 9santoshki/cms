{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/account/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/account/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/account/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/account/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/account/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/account/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwQ,GACrS,sCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/account/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAppContext } from '@/context/AppContext';\nimport { useRouter } from 'next/navigation';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\n\nconst AccountPage = () => {\n  const { user, token, loading, fetchUserProfile, setError, setLoading } = useAppContext();\n  const [activeTab, setActiveTab] = useState('profile');\n  const [profileData, setProfileData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    address: '',\n    city: '',\n    state: '',\n    country: '',\n    postal_code: '',\n    date_of_birth: '',\n    gender: ''\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [localLoading, setLocalLoading] = useState(false);\n  const [localError, setLocalError] = useState<string | null>(null);\n  \n  const router = useRouter();\n\n  useEffect(() => {\n    if (loading.user) {\n      // If context is already loading, do nothing\n      return;\n    }\n\n    if (!token) {\n      const currentPath = typeof window !== 'undefined' ? window.location.pathname : '/';\n      router.push(`/auth?redirect=${encodeURIComponent(currentPath)}`);\n    } else if (!user) {\n      // If we have a token but no user data, fetch it\n      fetchUserProfile();\n    } else {\n      // If we have user data, populate the form\n      setProfileData({\n        name: user.name || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        address: user.address || '',\n        city: user.city || '',\n        state: user.state || '',\n        country: user.country || '',\n        postal_code: user.postal_code || '',\n        date_of_birth: user.date_of_birth || '',\n        gender: user.gender || ''\n      });\n    }\n  }, [token, user, loading.user, router, fetchUserProfile]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setProfileData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSaveProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLocalLoading(true);\n    setLoading('user', true);\n\n    try {\n      const response = await fetch('/api/profile', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(profileData)\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        setIsEditing(false);\n        setLocalError(null);\n        setError('user', null);\n        // Refetch profile to update all context values\n        await fetchUserProfile();\n      } else {\n        setLocalError(result.error || 'Failed to update profile');\n        setError('user', result.error || 'Failed to update profile');\n      }\n    } catch (error: any) {\n      console.error('Profile update error:', error);\n      setLocalError(error.message || 'Failed to update profile');\n      setError('user', error.message || 'Failed to update profile');\n    } finally {\n      setLocalLoading(false);\n      setLoading('user', false);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setIsEditing(false);\n    setLocalError(null);\n    // Reset form to original values\n    if (user) {\n      setProfileData({\n        name: user.name || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        address: user.address || '',\n        city: user.city || '',\n        state: user.state || '',\n        country: user.country || '',\n        postal_code: user.postal_code || '',\n        date_of_birth: user.date_of_birth || '',\n        gender: user.gender || ''\n      });\n    }\n  };\n\n  if (loading.user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 font-medium\">Loading your profile...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md border border-gray-100\">\n          <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6\">\n            <svg className=\"h-8 w-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"></path>\n            </svg>\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">Access Required</h2>\n          <p className=\"text-gray-600 mb-6\">Please log in to access your account information.</p>\n          <button\n            className=\"px-6 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-lg hover:from-amber-600 hover:to-amber-700 transition-all duration-300 shadow-lg font-medium\"\n            onClick={() => router.push('/auth')}\n          >\n            Sign In to Your Account\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Header activePage=\"account\" />\n\n      <main className=\"container mx-auto px-4 py-6\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"flex flex-col md:flex-row gap-6\">\n            {/* Sidebar Navigation */}\n            <div className=\"md:w-1/4\">\n              <div className=\"bg-white rounded-lg shadow-sm p-4 sticky top-6\">\n                <div className=\"flex flex-col items-center mb-4\">\n                  <div className=\"relative inline-block mb-2\">\n                    <div className=\"w-16 h-16 rounded-full overflow-hidden border border-gray-200\">\n                      {user.avatar ? (\n                        <img src={user.avatar} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\n                          <span className=\"text-lg text-gray-600 font-semibold\">\n                            {user.name?.charAt(0)?.toUpperCase() || 'U'}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <h2 className=\"text-base font-semibold text-gray-900\">{user.name}</h2>\n                  <p className=\"text-gray-600 text-xs truncate max-w-full\">{user.email}</p>\n                </div>\n\n                <nav className=\"space-y-1\">\n                  {[\n                    { id: 'profile', label: 'Profile', icon: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z' },\n                    { id: 'orders', label: 'Orders', icon: 'M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z' },\n                    { id: 'preferences', label: 'Preferences', icon: 'M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z' },\n                    { id: 'security', label: 'Security', icon: 'M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z' }\n                  ].map((tab) => (\n                    <button\n                      key={tab.id}\n                      onClick={() => setActiveTab(tab.id)}\n                      className={`w-full flex items-center px-2.5 py-2 rounded-md transition-colors text-sm ${\n                        activeTab === tab.id\n                          ? 'bg-blue-50 text-blue-700 font-medium'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={tab.icon} />\n                      </svg>\n                      {tab.label}\n                    </button>\n                  ))}\n                </nav>\n\n                <div className=\"mt-4 pt-3 border-t border-gray-100\">\n                  <div className=\"bg-green-50 rounded-md p-2.5\">\n                    <div className=\"flex items-center\">\n                      <div className=\"h-2 w-2 rounded-full bg-green-500 mr-1.5\"></div>\n                      <h3 className=\"text-xs font-medium text-green-800\">ACTIVE</h3>\n                    </div>\n                    <p className=\"mt-0.5 text-xs text-green-700\">Since {user.created_at ? new Date(user.created_at).getFullYear() : 'N/A'}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"md:w-3/4 w-full overflow-hidden\">\n              {activeTab === 'profile' && (\n                <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\n                  <div className=\"border-b border-gray-200 bg-gray-50 px-6 py-4\">\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h1 className=\"text-2xl font-bold text-gray-900\">Profile</h1>\n                        <p className=\"text-gray-600 text-sm mt-1\">Manage your personal information</p>\n                      </div>\n                      {!isEditing && (\n                        <button\n                          onClick={() => setIsEditing(true)}\n                          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n                        >\n                          Edit Profile\n                        </button>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"p-6\">\n                    {localError && (\n                      <div className=\"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg flex items-center\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                          <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                        </svg>\n                        {localError}\n                      </div>\n                    )}\n\n                    {isEditing ? (\n                      <form onSubmit={handleSaveProfile}>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name *</label>\n                            <input\n                              type=\"text\"\n                              name=\"name\"\n                              value={profileData.name}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                              required\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email Address *</label>\n                            <input\n                              type=\"email\"\n                              name=\"email\"\n                              value={profileData.email}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm bg-gray-100\"\n                              readOnly\n                              disabled\n                            />\n                            <p className=\"mt-1 text-xs text-gray-500\">Email cannot be changed</p>\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Phone Number</label>\n                            <input\n                              type=\"tel\"\n                              name=\"phone\"\n                              value={profileData.phone}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Gender</label>\n                            <select\n                              name=\"gender\"\n                              value={profileData.gender}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            >\n                              <option value=\"\">Select Gender</option>\n                              <option value=\"male\">Male</option>\n                              <option value=\"female\">Female</option>\n                              <option value=\"other\">Other</option>\n                            </select>\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date of Birth</label>\n                            <input\n                              type=\"date\"\n                              name=\"date_of_birth\"\n                              value={profileData.date_of_birth}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Address</label>\n                            <input\n                              type=\"text\"\n                              name=\"address\"\n                              value={profileData.address}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">City</label>\n                            <input\n                              type=\"text\"\n                              name=\"city\"\n                              value={profileData.city}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">State</label>\n                            <input\n                              type=\"text\"\n                              name=\"state\"\n                              value={profileData.state}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Country</label>\n                            <input\n                              type=\"text\"\n                              name=\"country\"\n                              value={profileData.country}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n\n                          <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Postal Code</label>\n                            <input\n                              type=\"text\"\n                              name=\"postal_code\"\n                              value={profileData.postal_code}\n                              onChange={handleInputChange}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm\"\n                            />\n                          </div>\n                        </div>\n\n                        <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200\">\n                          <button\n                            type=\"button\"\n                            onClick={handleCancelEdit}\n                            disabled={localLoading}\n                            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium disabled:opacity-50\"\n                          >\n                            Cancel\n                          </button>\n                          <button\n                            type=\"submit\"\n                            disabled={localLoading}\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-70 transition-colors text-sm font-medium\"\n                          >\n                            {localLoading ? (\n                              <span className=\"flex items-center\">\n                                <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0c4.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                </svg>\n                                Saving...\n                              </span>\n                            ) : (\n                              'Save Changes'\n                            )}\n                          </button>\n                        </div>\n                      </form>\n                    ) : (\n                      <div className=\"space-y-6\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                          <div className=\"bg-gray-50 p-4 rounded-lg\">\n                            <h3 className=\"font-medium text-gray-900 mb-3 pb-2 border-b border-gray-200 text-sm\">Personal Information</h3>\n                            \n                            <div className=\"space-y-3\">\n                              <div>\n                                <p className=\"text-xs text-gray-500\">Full Name</p>\n                                <p className=\"text-gray-900 font-medium text-sm\">{profileData.name}</p>\n                              </div>\n                              \n                              <div>\n                                <p className=\"text-xs text-gray-500\">Email Address</p>\n                                <p className=\"text-gray-900 font-medium text-sm\">{profileData.email}</p>\n                              </div>\n                              \n                              <div>\n                                <p className=\"text-xs text-gray-500\">Phone Number</p>\n                                <p className=\"text-gray-900 font-medium text-sm\">{profileData.phone || 'Not provided'}</p>\n                              </div>\n                              \n                              <div>\n                                <p className=\"text-xs text-gray-500\">Gender</p>\n                                <p className=\"text-gray-900 font-medium text-sm capitalize\">{profileData.gender || 'Not provided'}</p>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"bg-gray-50 p-4 rounded-lg\">\n                            <h3 className=\"font-medium text-gray-900 mb-3 pb-2 border-b border-gray-200 text-sm\">Additional Details</h3>\n                            \n                            <div className=\"space-y-3\">\n                              <div>\n                                <p className=\"text-xs text-gray-500\">Date of Birth</p>\n                                <p className=\"text-gray-900 font-medium text-sm\">\n                                  {profileData.date_of_birth \n                                    ? new Date(profileData.date_of_birth).toLocaleDateString() \n                                    : 'Not provided'}\n                                </p>\n                              </div>\n                              \n                              <div>\n                                <p className=\"text-xs text-gray-500\">Member Since</p>\n                                <p className=\"text-gray-900 font-medium text-sm\">\n                                  {user.created_at ? new Date(user.created_at).toLocaleDateString() : 'N/A'}\n                                </p>\n                              </div>\n                              \n                              <div>\n                                <p className=\"text-xs text-gray-500\">Account Role</p>\n                                <p className=\"text-gray-900 font-medium text-sm capitalize\">{user.role}</p>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"bg-gray-50 p-4 rounded-lg\">\n                          <h3 className=\"font-medium text-gray-900 mb-3 pb-2 border-b border-gray-200 text-sm\">Address Information</h3>\n                          \n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                              <p className=\"text-xs text-gray-500\">Street Address</p>\n                              <p className=\"text-gray-900 font-medium text-sm\">{profileData.address || 'Not provided'}</p>\n                            </div>\n                            \n                            <div>\n                              <p className=\"text-xs text-gray-500\">City</p>\n                              <p className=\"text-gray-900 font-medium text-sm\">{profileData.city || 'Not provided'}</p>\n                            </div>\n                            \n                            <div>\n                              <p className=\"text-xs text-gray-500\">State</p>\n                              <p className=\"text-gray-900 font-medium text-sm\">{profileData.state || 'Not provided'}</p>\n                            </div>\n                            \n                            <div>\n                              <p className=\"text-xs text-gray-500\">Country</p>\n                              <p className=\"text-gray-900 font-medium text-sm\">{profileData.country || 'Not provided'}</p>\n                            </div>\n                            \n                            <div className=\"md:col-span-2\">\n                              <p className=\"text-xs text-gray-500\">Postal Code</p>\n                              <p className=\"text-gray-900 font-medium text-sm\">{profileData.postal_code || 'Not provided'}</p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {activeTab === 'orders' && (\n                <div className=\"bg-white rounded-xl shadow-sm p-6\">\n                  <div className=\"flex justify-between items-center mb-6 pb-2 border-b border-gray-100\">\n                    <h2 className=\"text-lg font-bold text-gray-900\">Recent Orders</h2>\n                    <button \n                      className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n                      onClick={() => router.push('/orders')}\n                    >\n                      View All\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 ml-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fillRule=\"evenodd\" d=\"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </button>\n                  </div>\n\n                  <div className=\"overflow-x-auto\">\n                    {user?.orders && user.orders.length > 0 ? (\n                      <table className=\"min-w-full divide-y divide-gray-200\">\n                        <thead className=\"bg-gray-50\">\n                          <tr>\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Order ID</th>\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total</th>\n                            <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"bg-white divide-y divide-gray-200\">\n                          {user.orders.slice(0, 5).map((order: any) => ( // Show only first 5 orders\n                            <tr key={order.id} className=\"hover:bg-gray-50\">\n                              <td className=\"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900\">#{order.id}</td>\n                              <td className=\"px-4 py-3 whitespace-nowrap text-sm text-gray-500\">{new Date(order.created_at).toLocaleDateString()}</td>\n                              <td className=\"px-4 py-3 whitespace-nowrap text-sm\">\n                                <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                                  order.status === 'delivered' ? 'bg-green-100 text-green-800' :\n                                  order.status === 'processing' ? 'bg-yellow-100 text-yellow-800' :\n                                  order.status === 'shipped' ? 'bg-blue-100 text-blue-800' :\n                                  order.status === 'cancelled' ? 'bg-red-100 text-red-800' :\n                                  'bg-gray-100 text-gray-800'\n                                }`}>\n                                  {order.status}\n                                </span>\n                              </td>\n                              <td className=\"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900\">${order.total_amount?.toFixed(2) || '0.00'}</td>\n                              <td className=\"px-4 py-3 whitespace-nowrap text-sm font-medium\">\n                                <button \n                                  className=\"text-blue-600 hover:text-blue-900 font-medium text-sm\"\n                                  onClick={() => router.push(`/orders/${order.id}`)}\n                                >\n                                  View Details\n                                </button>\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    ) : (\n                      <div className=\"text-center py-10\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 mx-auto text-gray-300 mb-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n                        </svg>\n                        <h3 className=\"text-base font-medium text-gray-900 mb-1\">No Orders Yet</h3>\n                        <p className=\"text-gray-500 text-sm\">You haven't placed any orders yet.</p>\n                        <button\n                          className=\"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n                          onClick={() => router.push('/shop')}\n                        >\n                          Browse Products\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {activeTab === 'preferences' && (\n                <div className=\"bg-white rounded-xl shadow-sm p-6\">\n                  <h2 className=\"text-lg font-bold text-gray-900 mb-6 pb-2 border-b border-gray-100\">Preferences</h2>\n\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 bg-gray-50 rounded-lg flex items-center justify-between\">\n                      <div>\n                        <h3 className=\"font-medium text-gray-900 text-sm\">Order Updates</h3>\n                        <p className=\"text-xs text-gray-600 mt-1\">Receive updates about your orders</p>\n                      </div>\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\n                        <input type=\"checkbox\" className=\"sr-only peer\" defaultChecked />\n                        <div className=\"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600\"></div>\n                      </label>\n                    </div>\n\n                    <div className=\"p-4 bg-gray-50 rounded-lg flex items-center justify-between\">\n                      <div>\n                        <h3 className=\"font-medium text-gray-900 text-sm\">Promotional Offers</h3>\n                        <p className=\"text-xs text-gray-600 mt-1\">Special deals and offers</p>\n                      </div>\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\n                        <input type=\"checkbox\" className=\"sr-only peer\" defaultChecked />\n                        <div className=\"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600\"></div>\n                      </label>\n                    </div>\n\n                    <div className=\"p-4 bg-gray-50 rounded-lg flex items-center justify-between\">\n                      <div>\n                        <h3 className=\"font-medium text-gray-900 text-sm\">Newsletter</h3>\n                        <p className=\"text-xs text-gray-600 mt-1\">Monthly newsletter with new products</p>\n                      </div>\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\n                        <input type=\"checkbox\" className=\"sr-only peer\" />\n                        <div className=\"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600\"></div>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {activeTab === 'security' && (\n                <div className=\"bg-white rounded-xl shadow-sm p-6\">\n                  <h2 className=\"text-lg font-bold text-gray-900 mb-6 pb-2 border-b border-gray-100\">Security</h2>\n\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 bg-gray-50 rounded-lg\">\n                      <div className=\"flex items-center\">\n                        <div className=\"mr-3 p-2 bg-blue-100 rounded-lg\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                          </svg>\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-medium text-gray-900 text-sm\">Change Password</h3>\n                          <p className=\"text-xs text-gray-600 mt-1\">Last updated: {user.created_at ? new Date(user.created_at).toLocaleDateString() : 'N/A'}</p>\n                        </div>\n                      </div>\n                      <button className=\"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\">\n                        Change Password\n                      </button>\n                    </div>\n\n                    <div className=\"p-4 bg-gray-50 rounded-lg\">\n                      <div className=\"flex items-center\">\n                        <div className=\"mr-3 p-2 bg-blue-100 rounded-lg\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                          </svg>\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-medium text-gray-900 text-sm\">Two-Factor Authentication</h3>\n                          <p className=\"text-xs text-gray-600 mt-1\">Not enabled</p>\n                        </div>\n                      </div>\n                      <button className=\"mt-3 px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium\">\n                        Enable 2FA\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default AccountPage;"],"names":["React","useState","useEffect","useAppContext","useRouter","Header","Footer","AccountPage","user","token","loading","fetchUserProfile","setError","setLoading","activeTab","setActiveTab","profileData","setProfileData","name","email","phone","address","city","state","country","postal_code","date_of_birth","gender","isEditing","setIsEditing","localLoading","setLocalLoading","localError","setLocalError","router","currentPath","window","location","pathname","push","encodeURIComponent","handleInputChange","e","ChangeEvent","HTMLInputElement","HTMLSelectElement","value","target","prev","handleSaveProfile","FormEvent","preventDefault","response","fetch","method","headers","body","JSON","stringify","result","json","success","error","console","message","handleCancelEdit","avatar","charAt","toUpperCase","id","label","icon","map","tab","created_at","Date","getFullYear","toLocaleDateString","role","orders","length","slice","order","status","total_amount","toFixed"],"mappings":"","ignoreList":[],"debugId":null}}]
}