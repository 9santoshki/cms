{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/auth/callback/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/auth/callback/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/auth/callback/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/auth/callback/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/auth/callback/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/auth/callback/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/auth/callback/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\nexport default function AuthCallback() {\n  const router = useRouter();\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const code = urlParams.get('code');\n      const error = urlParams.get('error');\n      const errorDescription = urlParams.get('error_description');\n\n      if (error) {\n        // Handle different OAuth error types\n        if (error === 'access_denied') {\n          // User cancelled the sign-in - this is normal, just redirect to auth page\n          console.log('User cancelled sign-in');\n          setErrorMessage('Sign-in was cancelled');\n          setTimeout(() => {\n            router.replace('/auth');\n          }, 1500);\n        } else {\n          // Other OAuth errors\n          console.error('OAuth error:', error, errorDescription);\n          setErrorMessage('Authentication failed. Please try again.');\n          setTimeout(() => {\n            router.replace('/auth?error=oauth_failed');\n          }, 2000);\n        }\n        return;\n      }\n\n      if (code) {\n        // Redirect to the API route to handle OAuth server-side\n        // The server will exchange the code for tokens and set the session cookie\n        window.location.href = `/api/auth/google/callback?code=${code}`;\n      } else {\n        // No code parameter, redirect to home\n        router.replace('/');\n      }\n    };\n\n    handleAuthCallback();\n  }, [router]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"text-center\">\n        {errorMessage ? (\n          <>\n            <div className=\"w-12 h-12 mx-auto mb-4 text-amber-600\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z\" />\n              </svg>\n            </div>\n            <p className=\"text-gray-700 font-medium\">{errorMessage}</p>\n            <p className=\"text-sm text-gray-500 mt-2\">Redirecting...</p>\n          </>\n        ) : (\n          <>\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Completing authentication...</p>\n            <p className=\"text-sm text-gray-500 mt-2\">You will be redirected shortly</p>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["useEffect","useState","useRouter","AuthCallback","router","errorMessage","setErrorMessage","handleAuthCallback","urlParams","URLSearchParams","window","location","search","code","get","error","errorDescription","console","log","setTimeout","replace","href"],"mappings":"","ignoreList":[],"debugId":null}}]
}