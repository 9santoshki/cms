{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/components/AuthForm.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useAppContext } from '../context/AppContext';\nimport { signInWithGoogle } from '../lib/supabase/auth';\nimport '../App.css';\n\ninterface AuthFormProps {\n  onClose?: () => void;\n}\n\nconst AuthForm: React.FC<AuthFormProps> = ({ onClose = () => {} }) => {\n  const { error, setError, loading } = useAppContext();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const redirectParam = searchParams?.get('redirect') || '/';\n\n  // Google Sign In handler - only Google auth according to product.md specification\n  const handleGoogleSignIn = async () => {\n    try {\n      setError('auth', null);\n      \n      // Sign in with Google via Supabase\n      await signInWithGoogle();\n      \n      // The authentication will be handled by Supabase and NextAuth middleware\n      // The AppContext will automatically sync with the session\n      onClose();\n    } catch (error: any) {\n      console.error('Google sign-in error:', error);\n      setError('auth', error.message || 'Google authentication failed. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-container-elegant\">\n        <button\n          onClick={onClose}\n          className=\"close-btn absolute top-6 right-6 w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center z-10\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n\n        <div className=\"auth-header-elegant text-center mb-8\">\n          <div className=\"auth-title\">\n            <h2 className=\"auth-main-title text-3xl font-bold text-gray-900 mb-3\">\n              Sign in to Your Account\n            </h2>\n            <p className=\"auth-subtitle text-gray-600\">\n              Use your Google account to continue\n            </p>\n          </div>\n        </div>\n\n        {error?.auth && (\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl\">\n            <div className=\"flex items-center\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n              </svg>\n              <span>{error.auth}</span>\n            </div>\n          </div>\n        )}\n\n        {/* Google Sign In Button - Only authentication method according to product.md */}\n        <div className=\"google-auth-section-elegant mb-6\">\n          <button\n            onClick={handleGoogleSignIn}\n            disabled={loading?.auth}\n            className={`w-full flex items-center justify-center px-6 py-4 border-2 rounded-xl transition-colors duration-300 font-medium shadow-sm ${\n              loading?.auth\n                ? 'bg-gray-200 border-gray-300 cursor-not-allowed'\n                : 'bg-white border-gray-300 hover:border-amber-400 text-gray-700'\n            }`}\n          >\n            {loading?.auth ? (\n              <span className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Signing in...\n              </span>\n            ) : (\n              <>\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" className=\"mr-3\">\n                  <path\n                    d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                    fill=\"#4285F4\"\n                  />\n                  <path\n                    d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                    fill=\"#34A853\"\n                  />\n                  <path\n                    d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                    fill=\"#FBBC05\"\n                  />\n                  <path\n                    d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                    fill=\"#EA4335\"\n                  />\n                </svg>\n                Sign in with Google\n              </>\n            )}\n          </button>\n        </div>\n\n        <div className=\"text-center text-sm text-gray-500 mt-6\">\n          By signing in with Google, you agree to our Terms of Service and Privacy Policy.\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthForm;"],"names":["React","useRouter","useSearchParams","useAppContext","signInWithGoogle","AuthFormProps","onClose","AuthForm","FC","error","setError","loading","router","searchParams","redirectParam","get","handleGoogleSignIn","console","message","auth"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/auth/page.tsx"],"sourcesContent":["'use client';\n\nimport { useAppContext } from '@/context/AppContext';\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport AuthForm from '@/components/AuthForm'\n\nexport default function Auth() {\n  const { user, loading } = useAppContext();\n  const router = useRouter();\n  const [redirect, setRedirect] = useState<string>('/');\n\n  useEffect(() => {\n    // Read search params from window on client side to avoid useSearchParams SSR warning\n    if (typeof window !== 'undefined') {\n      const params = new URLSearchParams(window.location.search);\n      setRedirect(params.get('redirect') || '/');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!loading.user && user) {\n      // If user is already logged in, redirect to the target page or home\n      const targetPath = redirect && redirect !== '/' ? decodeURIComponent(redirect) : '/';\n      router.push(targetPath);\n    }\n  }, [user, loading.user, redirect, router]);\n\n  // Show loading or redirecting message while checking user status\n  if (!loading.user && user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Redirecting...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <AuthForm />;\n}"],"names":["useAppContext","useEffect","useState","useRouter","AuthForm","Auth","user","loading","router","redirect","setRedirect","window","params","URLSearchParams","location","search","get","targetPath","decodeURIComponent","push"],"mappings":";;;;;AAEA,SAASA,aAAa,QAAQ,sBAAsB;AACpD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,QAAQ,MAAM,uBAAuB;;;AAL5C,YAAY;;;;;AAOG;;IACb,MAAM,EAAEE,IAAI,EAAEC,OAAAA,EAAS;IACvB,MAAMC,MAAM;IACZ,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,OAAGR,yKAAQ,CAAC,CAAQ,GAAG,CAAC,CAAN,CAAC;QAEhDD,0KAAS;0BAAC,MAAM;YACd,qFAAA;YACA,IAAI,OAAOU,MAAM,KAAK,WAAW,OAAE;gBACjC,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAACF,MAAM,CAACG,QAAQ,CAACC,MAAM,CAAC;gBAC1DL,WAAW,CAACE,MAAM,CAACI,GAAG,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC;YAC5C;QACF,CAAC;yBAAE,EAAE,CAAC;QAENf,0KAAS;0BAAC,MAAM;YACd,IAAI,CAACM,OAAO,CAACD,IAAI,IAAIA,IAAI,EAAE;gBACzB,oEAAA;gBACA,MAAMW,UAAU,GAAGR,QAAQ,IAAIA,QAAQ,KAAK,GAAG,GAAGS,kBAAkB,CAACT,QAAQ,CAAC,GAAG,GAAG;gBACpFD,MAAM,CAACW,IAAI,CAACF,UAAU,CAAC;YACzB;QACF,CAAC;yBAAE;QAACX,IAAI;QAAEC,OAAO,CAACD,IAAI;QAAEG,QAAQ;QAAED,MAAM;KAAC,CAAC;IAE1C,iEAAA;IACA,IAAI,CAACD,OAAO,CAACD,IAAI,IAAIA,IAAI,EAAE;QACzB,qBACE,6LAAC,GAAG;YAAC,SAAS,EAAC,0DAA0D;oCACvE,6LAAC,GAAG;gBAAC,SAAS,EAAC,aAAa;;kCAC1B,6LAAC,GAAG;wBAAC,SAAS,EAAC,yEAAyE,CAAC,EAAE,GAAG;;;;;;kCAC9F,6LAAC,CAAC;wBAAC,SAAS,EAAC,oBAAoB;kCAAC,cAAc,EAAE,CAAC;;;;;;;;;;;;;;;;;IAI3D;IAEA,qBAAO,6LAAC,4IAAQ,GAAG;;;;;AACrB;;;QAjC4BN,iJAAa,CAAC,CAAC;QAC1BG,kJAAS,CAAC,CAAC;;;KAFJE,IAAIA,CAAA,EAAG","ignoreList":[],"debugId":null}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}