{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/src/app/auth/callback/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\nexport default function AuthCallback() {\n  const router = useRouter();\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const code = urlParams.get('code');\n      const error = urlParams.get('error');\n      const errorDescription = urlParams.get('error_description');\n\n      if (error) {\n        // Handle different OAuth error types\n        if (error === 'access_denied') {\n          // User cancelled the sign-in - this is normal, just redirect to auth page\n          console.log('User cancelled sign-in');\n          setErrorMessage('Sign-in was cancelled');\n          setTimeout(() => {\n            router.replace('/auth');\n          }, 1500);\n        } else {\n          // Other OAuth errors\n          console.error('OAuth error:', error, errorDescription);\n          setErrorMessage('Authentication failed. Please try again.');\n          setTimeout(() => {\n            router.replace('/auth?error=oauth_failed');\n          }, 2000);\n        }\n        return;\n      }\n\n      if (code) {\n        // Redirect to the API route to handle OAuth server-side\n        // The server will exchange the code for tokens and set the session cookie\n        window.location.href = `/api/auth/google/callback?code=${code}`;\n      } else {\n        // No code parameter, redirect to home\n        router.replace('/');\n      }\n    };\n\n    handleAuthCallback();\n  }, [router]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"text-center\">\n        {errorMessage ? (\n          <>\n            <div className=\"w-12 h-12 mx-auto mb-4 text-amber-600\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z\" />\n              </svg>\n            </div>\n            <p className=\"text-gray-700 font-medium\">{errorMessage}</p>\n            <p className=\"text-sm text-gray-500 mt-2\">Redirecting...</p>\n          </>\n        ) : (\n          <>\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Completing authentication...</p>\n            <p className=\"text-sm text-gray-500 mt-2\">You will be redirected shortly</p>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["useEffect","useState","useRouter","AuthCallback","router","errorMessage","setErrorMessage","handleAuthCallback","urlParams","URLSearchParams","window","location","search","code","get","error","errorDescription","console","log","setTimeout","replace","href"],"mappings":";;;;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,iBAAiB;;;AAH3C,YAAY;;;AAKG;;IACb,MAAME,MAAM,yJAAY,CAAC,CAAC;IAC1B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGL,6KAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;QAE/DD,0KAAS;kCAAC,MAAM;YACd,MAAMO,kBAAkB;6DAAG,MAAAA,CAAA,KAAY;oBACrC,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;oBAC7D,MAAMC,IAAI,GAAGL,SAAS,CAACM,GAAG,CAAC,MAAM,CAAC;oBAClC,MAAMC,KAAK,GAAGP,SAAS,CAACM,GAAG,CAAC,OAAO,CAAC;oBACpC,MAAME,gBAAgB,GAAGR,SAAS,CAACM,GAAG,CAAC,mBAAmB,CAAC;oBAE3D,IAAIC,KAAK,EAAE;wBACT,qCAAA;wBACA,IAAIA,KAAK,KAAK,eAAe,EAAE;4BAC7B,0EAAA;4BACAE,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;4BACrCZ,eAAe,CAAC,uBAAuB,CAAC;4BACxCa,UAAU;6EAAC,MAAM;oCACff,MAAM,CAACgB,OAAO,CAAC,OAAO,CAAC;gCACzB,CAAC;4EAAE,IAAI,CAAC;wBACV,CAAC,MAAM;4BACL,qBAAA;4BACAH,OAAO,CAACF,KAAK,CAAC,cAAc,EAAEA,KAAK,EAAEC,gBAAgB,CAAC;4BACtDV,eAAe,CAAC,0CAA0C,CAAC;4BAC3Da,UAAU;6EAAC,MAAM;oCACff,MAAM,CAACgB,OAAO,CAAC,0BAA0B,CAAC;gCAC5C,CAAC;4EAAE,IAAI,CAAC;wBACV;wBACA;oBACF;oBAEA,IAAIP,IAAI,EAAE;wBACR,wDAAA;wBACA,0EAAA;wBACAH,MAAM,CAACC,QAAQ,CAACU,IAAI,GAAG,CAAA,+BAAA,EAAkCR,IAAI,EAAE;oBACjE,CAAC,MAAM;wBACL,sCAAA;wBACAT,MAAM,CAACgB,OAAO,CAAC,GAAG,CAAC;oBACrB;gBACF,CAAC;;YAEDb,kBAAkB,CAAC,CAAC;QACtB,CAAC;iCAAE;QAACH,MAAM;KAAC,CAAC;IAEZ,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,0DAA0D;gCACvE,6LAAC,GAAG;YAAC,SAAS,EAAC,aAAa;sBACzBC,YAAY,iBACX;;kCACE,6LAAC,GAAG;wBAAC,SAAS,EAAC,uCAAuC;gDACpD,6LAAC,GAAG;4BAAC,KAAK,EAAC,4BAA4B;4BAAC,IAAI,EAAC,MAAM;4BAAC,OAAO,EAAC,WAAW;4BAAC,WAAW,CAAC,CAAC,CAAC,CAAC;4BAAC,MAAM,EAAC,cAAc;oDAC3G,6LAAC,IAAI;gCAAC,aAAa,EAAC,OAAO;gCAAC,cAAc,EAAC,OAAO;gCAAC,CAAC,EAAC,0EAA0E;;;;;;;;;;;;;;;;kCAGnI,6LAAC,CAAC;wBAAC,SAAS,EAAC,2BAA2B,CAAC;kCAACA,YAAY,CAAC,EAAE,CAAC;;;;;;kCAC1D,6LAAC,CAAC;wBAAC,SAAS,EAAC,4BAA4B;kCAAC,cAAc,EAAE,CAAC;;;;;;;6CAG7D;;kCACE,6LAAC,GAAG;wBAAC,SAAS,EAAC,yEAAyE,CAAC,EAAE,GAAG;;;;;;kCAC9F,6LAAC,CAAC;wBAAC,SAAS,EAAC,oBAAoB;kCAAC,4BAA4B,EAAE,CAAC;;;;;;kCACjE,6LAAC,CAAC;wBAAC,SAAS,EAAC,4BAA4B;kCAAC,8BAA8B,EAAE,CAAC;;;;;;;;;;;;;;;;;;AAMvF;;;QAlEiBH;;;KADOC,YAAYA,CAAA,EAAG","ignoreList":[],"debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/sk/personal/proj/cms/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}